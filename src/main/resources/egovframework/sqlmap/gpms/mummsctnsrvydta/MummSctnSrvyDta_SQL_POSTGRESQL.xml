<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="mummSctnSrvyDtaDAO">

	<typeAlias alias="egovMap"
		type="egovframework.rte.psl.dataaccess.util.EgovMap" />
	<typeAlias alias="mummSctnSrvyDtaSerarchVO"
		type="kr.go.gg.gpms.mummsctnsrvydta.service.model.MummSctnSrvyDtaDefaultVO" />
	<typeAlias alias="mummSctnSrvyDtaVO"
		type="kr.go.gg.gpms.mummsctnsrvydta.service.model.MummSctnSrvyDtaVO" />

	<resultMap id="mummSctnSrvyDta.resultMap" class="mummSctnSrvyDtaVO">
		<result property="DTA_NO" column="DTA_NO" columnIndex="1" /> <!-- 최소_구간_조사_자료.자료_번호 -->
		<result property="SRVY_NO" column="SRVY_NO" columnIndex="2" /> <!-- 최소_구간_조사_자료.조사_번호 -->
		<result property="SRVY_YEAR" column="SRVY_YEAR" columnIndex="3" /> <!-- 최소_구간_조사_자료.조사_년도 -->
		<result property="ROUTE_CODE" column="ROUTE_CODE" columnIndex="4" /> <!-- 최소_구간_조사_자료.노선_코드 -->
		<result property="DIRECT_CODE" column="DIRECT_CODE" columnIndex="5" /> <!-- 최소_구간_조사_자료.행선_코드 -->
		<result property="TRACK" column="TRACK" columnIndex="6" /> <!-- 최소_구간_조사_자료.차로 -->
		<result property="STRTPT" column="STRTPT" columnIndex="7" /> <!-- 최소_구간_조사_자료.시점 -->
		<result property="ENDPT" column="ENDPT" columnIndex="8" /> <!-- 최소_구간_조사_자료.종점 -->
		<result property="IRI_VAL" column="IRI_VAL" columnIndex="9" /> <!-- 최소_구간_조사_자료.종단평탄성_값 -->
		<result property="RD_VAL" column="RD_VAL" columnIndex="10" /> <!-- 최소_구간_조사_자료.소성변형_값 -->
		<result property="VRTCAL_CR" column="VRTCAL_" columnIndex="11" /> <!-- 최소_구간_조사_자료.종방향_균열 -->
		<result property="HRZNTAL_CR" column="HRZNTAL_CR" columnIndex="12" /> <!-- 최소_구간_조사_자료.횡방향_균열 -->
		<result property="CNSTRCT_JOINT_CR" column="CNSTRCT_JOINT_CR"
			columnIndex="13" /> <!-- 최소_구간_조사_자료.시공_줄눈_균열 -->
		<result property="TRTS_BAC_CR" column="TRTS_BAC_CR"
			columnIndex="14" /> <!-- 최소_구간_조사_자료.거북등_균열 -->
		<result property="PTCHG_CR" column="PTCHG_CR" columnIndex="15" /> <!-- 최소_구간_조사_자료.패칭_균열 -->
		<result property="CR_VAL" column="CR_VAL" columnIndex="16" /> <!-- 최소_구간_조사_자료.표면손상값 -->
		<result property="CR_IDX" column="CR_IDX" columnIndex="17" /> <!-- 최소_구간_조사_자료.표면손상지수 -->
		<result property="RD_IDX" column="RD_IDX" columnIndex="18" /> <!-- 최소_구간_조사_자료.소성변형지수 -->
		<result property="GPCI" column="GPCI" columnIndex="19" /> <!-- 최소_구간_조사_자료.포장상태지수 -->
		<result property="PC_GRAD" column="PC_GRAD" columnIndex="20" /> <!-- 최소_구간_조사_자료.포장상태등급 -->
		<result property="CNTL_DFECT" column="CNTL_DFECT" columnIndex="21" /> <!-- 최소_구간_조사_자료.지배_결함 -->
		<result property="SRVY_KND" column="SRVY_KND" columnIndex="22" /> <!-- 최소_구간_조사_자료.조사_종류 -->
		<result property="SRVY_MT" column="SRVY_MT" columnIndex="23" /> <!-- 최소_구간_조사_자료.조사_월 -->
		<result property="MEMO" column="MEMO" columnIndex="24" /> <!-- 최소_구간_조사_자료.메모 -->
		<result property="SRVY_DE" column="SRVY_DE" columnIndex="25" /> <!-- 최소_구간_조사_자료.조사_일자 -->
		<result property="TRACE1_LA" column="TRACE1_LA" columnIndex="26" /> <!-- 최소_구간_조사_자료.TRACE1_LA -->
		<result property="TRACE1_LO" column="TRACE1_LO" columnIndex="27" /> <!-- 최소_구간_조사_자료.TRACE1_LO -->
		<result property="TRACE2_LA" column="TRACE2_LA" columnIndex="28" /> <!-- 최소_구간_조사_자료.TRACE2_LA -->
		<result property="TRACE2_LO" column="TRACE2_LO" columnIndex="29" /> <!-- 최소_구간_조사_자료.TRACE2_LO -->
		<result property="SRVY_NM" column="SRVY_NM" columnIndex="30" /> <!-- 최소_구간_조사_자료.조사_명 -->
		<result property="EXMNR_NM" column="EXMNR_NM" columnIndex="31" /> <!-- 최소_구간_조사_자료.조사자_명 -->
		<result property="SCTN_STRTPT_DC" column="SCTN_STRTPT_DC"
			columnIndex="32" /> <!-- 최소_구간_조사_자료.구간_시점_설명 -->
		<result property="SCTN_ENDPT_DC" column="SCTN_ENDPT_DC"
			columnIndex="33" /> <!-- 최소_구간_조사_자료.구간_종점_설명 -->
		<result property="ROAD_NM" column="ROAD_NM" columnIndex="34" /> <!-- 최소_구간_조사_자료.도로_명 -->
		<result property="FRNT_IMG_FILE_NM" column="FRNT_IMG_FILE_NM"
			columnIndex="35" /> <!-- 최소_구간_조사_자료.전방_이미지_파일_명 -->
		<result property="RDSRFC_IMG_FILE_NM_1" column="RDSRFC_IMG_FILE_NM_1"
			columnIndex="36" /> <!-- 최소_구간_조사_자료.노면_이미지_파일_명_1 -->
		<result property="RDSRFC_IMG_FILE_NM_2" column="RDSRFC_IMG_FILE_NM_2"
			columnIndex="37" /> <!-- 최소_구간_조사_자료.노면_이미지_파일_명_2 -->
		<result property="EXCEL_DTA_SEQ" column="EXCEL_DTA_SEQ"
			columnIndex="38" /> <!-- 최소_구간_조사_자료.엑셀_자료_SEQ -->
		<result property="FRMULA_NO" column="FRMULA_NO" columnIndex="39" /> <!-- 최소_구간_조사_자료.수식_번호 -->
		<result property="POTHOLE_CR" column="POTHOLE_CR" columnIndex="40" /> <!-- 최소_구간_조사_자료.포트홀_균열 -->
		<result property="RI_IDX" column="RI_IDX" columnIndex="41" /> <!-- 최소_구간_조사_자료.평탄성_지수 -->
		<result property="UPDT_AT" column="UPDT_AT" columnIndex="42" /> <!-- 최소_구간_조사_자료.수정_여부 -->
		<result property="DELETE_AT" column="DELETE_AT" columnIndex="43" /> <!-- 최소_구간_조사_자료.삭제_여부 -->
		<result property="USE_AT" column="USE_AT" columnIndex="44" /> <!-- 최소_구간_조사_자료.사용_여부 -->
		<result property="CRTR_NO" column="CRTR_NO" columnIndex="45" /> <!-- 최소_구간_조사_자료.생성자_번호 -->
		<result property="CREAT_DT" column="CREAT_DT" columnIndex="46" /> <!-- 최소_구간_조사_자료.생성_일시 -->
		<result property="UPDUSR_NO" column="UPDUSR_NO" columnIndex="47" /> <!-- 최소_구간_조사_자료.수정자_번호 -->
		<result property="UPDT_DT" column="UPDT_DT" columnIndex="48" /> <!-- 최소_구간_조사_자료.수정_일시 -->

		<result property="CELL_ID_ARR" column="CELL_ID_ARR" columnIndex="49" />
		<result property="RPAIR_TA_AT" column="RPAIR_TA_AT" columnIndex="50" />

	</resultMap>

	<insert id="mummSctnSrvyDtaDAO.insertMummSctnSrvyDta">
		<selectKey resultClass="String" keyProperty="DTA_NO">
  <![CDATA[
  select nextval('SEQ_TN_MUMM_SCTN_SRVY_DTA')
  ]]>
		</selectKey>
	<![CDATA[
		/* mummSctnSrvyDtaDAO.insertMummSctnSrvyDta */
		/* 최소_구간_조사_자료 등록 */
		INSERT INTO TN_MUMM_SCTN_SRVY_DTA (
			DTA_NO /* 최소_구간_조사_자료.자료_번호 */
			, SRVY_NO /* 최소_구간_조사_자료.조사_번호 */
			, SRVY_YEAR /* 최소_구간_조사_자료.조사_년도 */
			, ROUTE_CODE /* 최소_구간_조사_자료.노선_코드 */
			, DIRECT_CODE /* 최소_구간_조사_자료.행선_코드 */
			, TRACK /* 최소_구간_조사_자료.차로 */
			, STRTPT /* 최소_구간_조사_자료.시점 */
			, ENDPT /* 최소_구간_조사_자료.종점 */
			, IRI_VAL /* 최소_구간_조사_자료.종단평탄성_값 */
			, RD_VAL /* 최소_구간_조사_자료.소성변형_값 */
			, VRTCAL_CR /* 최소_구간_조사_자료.종방향_균열 */
			, HRZNTAL_CR /* 최소_구간_조사_자료.횡방향_균열 */
			, CNSTRCT_JOINT_CR /* 최소_구간_조사_자료.시공_줄눈_균열 */
			, TRTS_BAC_CR /* 최소_구간_조사_자료.거북등_균열 */
			, PTCHG_CR /* 최소_구간_조사_자료.패칭_균열 */
			, CR_VAL /* 최소_구간_조사_자료.표면손상값 */
			, CR_IDX /* 최소_구간_조사_자료.표면손상지수 */
			, RD_IDX /* 최소_구간_조사_자료.소성변형지수 */
			, GPCI /* 최소_구간_조사_자료.포장상태지수 */
			, PC_GRAD /* 최소_구간_조사_자료.포장상태등급 */
			, CNTL_DFECT /* 최소_구간_조사_자료.지배_결함 */
			, SRVY_KND /* 최소_구간_조사_자료.조사_종류 */
			, SRVY_MT /* 최소_구간_조사_자료.조사_월 */
			, MEMO /* 최소_구간_조사_자료.메모 */
			, SRVY_DE /* 최소_구간_조사_자료.조사_일자 */
			, TRACE1_LA /* 최소_구간_조사_자료.TRACE1_LA */
			, TRACE1_LO /* 최소_구간_조사_자료.TRACE1_LO */
			, TRACE2_LA /* 최소_구간_조사_자료.TRACE2_LA */
			, TRACE2_LO /* 최소_구간_조사_자료.TRACE2_LO */
			, SRVY_NM /* 최소_구간_조사_자료.조사_명 */
			, EXMNR_NM /* 최소_구간_조사_자료.조사자_명 */
			, SCTN_STRTPT_DC /* 최소_구간_조사_자료.구간_시점_설명 */
			, SCTN_ENDPT_DC /* 최소_구간_조사_자료.구간_종점_설명 */
			, ROAD_NM /* 최소_구간_조사_자료.도로_명 */
			, FRNT_IMG_FILE_NM /* 최소_구간_조사_자료.전방_이미지_파일_명 */
			, RDSRFC_IMG_FILE_NM_1 /* 최소_구간_조사_자료.노면_이미지_파일_명_1 */
			, RDSRFC_IMG_FILE_NM_2 /* 최소_구간_조사_자료.노면_이미지_파일_명_2 */
			, EXCEL_DTA_SEQ /* 최소_구간_조사_자료.엑셀_자료_SEQ */
			, FRMULA_NO /* 최소_구간_조사_자료.수식_번호 */
			, POTHOLE_CR /* 최소_구간_조사_자료.포트홀_균열 */
			, RI_IDX /* 최소_구간_조사_자료.평탄성_지수 */
			, UPDT_AT /* 최소_구간_조사_자료.수정_여부 */
			, DELETE_AT /* 최소_구간_조사_자료.삭제_여부 */
			, USE_AT /* 최소_구간_조사_자료.사용_여부 */
			, CRTR_NO /* 최소_구간_조사_자료.생성자_번호 */
			, CREAT_DT /* 최소_구간_조사_자료.생성_일시 */
			, UPDUSR_NO /* 최소_구간_조사_자료.수정자_번호 */
			, UPDT_DT /* 최소_구간_조사_자료.수정_일시 */
		) VALUES (
			#DTA_NO# /* 최소_구간_조사_자료.자료_번호 */
			, #SRVY_NO# /* 최소_구간_조사_자료.조사_번호 */
			, #SRVY_YEAR# /* 최소_구간_조사_자료.조사_년도 */
			, #ROUTE_CODE# /* 최소_구간_조사_자료.노선_코드 */
			, #DIRECT_CODE# /* 최소_구간_조사_자료.행선_코드 */
			, #TRACK# /* 최소_구간_조사_자료.차로 */
			, #STRTPT# /* 최소_구간_조사_자료.시점 */
			, #ENDPT# /* 최소_구간_조사_자료.종점 */
			, #IRI_VAL# /* 최소_구간_조사_자료.종단평탄성_값 */
			, #RD_VAL# /* 최소_구간_조사_자료.소성변형_값 */
			, #VRTCAL_CR# /* 최소_구간_조사_자료.종방향_균열 */
			, #HRZNTAL_CR# /* 최소_구간_조사_자료.횡방향_균열 */
			, #CNSTRCT_JOINT_CR# /* 최소_구간_조사_자료.시공_줄눈_균열 */
			, #TRTS_BAC_CR# /* 최소_구간_조사_자료.거북등_균열 */
			, #PTCHG_CR# /* 최소_구간_조사_자료.패칭_균열 */
			, #CR_VAL# /* 최소_구간_조사_자료.표면손상값 */
			, #CR_IDX# /* 최소_구간_조사_자료.표면손상지수 */
			, #RD_IDX# /* 최소_구간_조사_자료.소성변형지수 */
			, #GPCI# /* 최소_구간_조사_자료.포장상태지수 */
			, #PC_GRAD# /* 최소_구간_조사_자료.포장상태등급 */
			, #CNTL_DFECT# /* 최소_구간_조사_자료.지배_결함 */
			, #SRVY_KND# /* 최소_구간_조사_자료.조사_종류 */
			, #SRVY_MT# /* 최소_구간_조사_자료.조사_월 */
			, #MEMO# /* 최소_구간_조사_자료.메모 */
			, #SRVY_DE# /* 최소_구간_조사_자료.조사_일자 */
			, #TRACE1_LA# /* 최소_구간_조사_자료.TRACE1_LA */
			, #TRACE1_LO# /* 최소_구간_조사_자료.TRACE1_LO */
			, #TRACE2_LA# /* 최소_구간_조사_자료.TRACE2_LA */
			, #TRACE2_LO# /* 최소_구간_조사_자료.TRACE2_LO */
			, #SRVY_NM# /* 최소_구간_조사_자료.조사_명 */
			, #EXMNR_NM# /* 최소_구간_조사_자료.조사자_명 */
			, #SCTN_STRTPT_DC# /* 최소_구간_조사_자료.구간_시점_설명 */
			, #SCTN_ENDPT_DC# /* 최소_구간_조사_자료.구간_종점_설명 */
			, #ROAD_NM# /* 최소_구간_조사_자료.도로_명 */
			, #FRNT_IMG_FILE_NM# /* 최소_구간_조사_자료.전방_이미지_파일_명 */
			, #RDSRFC_IMG_FILE_NM_1# /* 최소_구간_조사_자료.노면_이미지_파일_명_1 */
			, #RDSRFC_IMG_FILE_NM_2# /* 최소_구간_조사_자료.노면_이미지_파일_명_2 */
			, #EXCEL_DTA_SEQ# /* 최소_구간_조사_자료.엑셀_자료_SEQ */
			, #FRMULA_NO# /* 최소_구간_조사_자료.수식_번호 */
			, #POTHOLE_CR# /* 최소_구간_조사_자료.포트홀_균열 */
			, #RI_IDX# /* 최소_구간_조사_자료.평탄성_지수 */
			, #UPDT_AT# /* 최소_구간_조사_자료.수정_여부 */
			, #DELETE_AT# /* 최소_구간_조사_자료.삭제_여부 */
			, #USE_AT# /* 최소_구간_조사_자료.사용_여부 */
			, #CRTR_NO# /* 최소_구간_조사_자료.생성자_번호 */
			, NOW() /* 최소_구간_조사_자료.생성_일시 */
			, #UPDUSR_NO# /* 최소_구간_조사_자료.수정자_번호 */
			, NOW() /* 최소_구간_조사_자료.수정_일시 */
		)
]]>
	</insert>

	<update id="mummSctnSrvyDtaDAO.updateMummSctnSrvyDta">
	<![CDATA[
		/* mummSctnSrvyDtaDAO.updateMummSctnSrvyDta */
		/* 최소_구간_조사_자료 수정 */
		UPDATE TN_MUMM_SCTN_SRVY_DTA SET



SRVY_NO = #SRVY_NO# /* 최소_구간_조사_자료.조사_번호 */


, SRVY_YEAR = #SRVY_YEAR# /* 최소_구간_조사_자료.조사_년도 */


, ROUTE_CODE = #ROUTE_CODE# /* 최소_구간_조사_자료.노선_코드 */


, DIRECT_CODE = #DIRECT_CODE# /* 최소_구간_조사_자료.행선_코드 */


, TRACK = #TRACK# /* 최소_구간_조사_자료.차로 */


, STRTPT = #STRTPT# /* 최소_구간_조사_자료.시점 */


, ENDPT = #ENDPT# /* 최소_구간_조사_자료.종점 */


, IRI_VAL = #IRI_VAL# /* 최소_구간_조사_자료.종단평탄성_값 */


, RD_VAL = #RD_VAL# /* 최소_구간_조사_자료.소성변형_값 */


, VRTCAL_CR = #VRTCAL_CR# /* 최소_구간_조사_자료.종방향_균열 */


, HRZNTAL_CR = #HRZNTAL_CR# /* 최소_구간_조사_자료.횡방향_균열 */


, CNSTRCT_JOINT_CR = #CNSTRCT_JOINT_CR# /* 최소_구간_조사_자료.시공_줄눈_균열 */


, TRTS_BAC_CR = #TRTS_BAC_CR# /* 최소_구간_조사_자료.거북등_균열 */


, PTCHG_CR = #PTCHG_CR# /* 최소_구간_조사_자료.패칭_균열 */


, CR_VAL = #CR_VAL# /* 최소_구간_조사_자료.표면손상값 */


, CR_IDX = #CR_IDX# /* 최소_구간_조사_자료.표면손상지수 */


, RD_IDX = #RD_IDX# /* 최소_구간_조사_자료.소성변형지수 */


, GPCI = #GPCI# /* 최소_구간_조사_자료.포장상태지수 */


, PC_GRAD = #PC_GRAD# /* 최소_구간_조사_자료.포장상태등급 */


, CNTL_DFECT = #CNTL_DFECT# /* 최소_구간_조사_자료.지배_결함 */


, SRVY_KND = #SRVY_KND# /* 최소_구간_조사_자료.조사_종류 */


, SRVY_MT = #SRVY_MT# /* 최소_구간_조사_자료.조사_월 */


, MEMO = #MEMO# /* 최소_구간_조사_자료.메모 */


, SRVY_DE = #SRVY_DE# /* 최소_구간_조사_자료.조사_일자 */


, TRACE1_LA = #TRACE1_LA# /* 최소_구간_조사_자료.TRACE1_LA */


, TRACE1_LO = #TRACE1_LO# /* 최소_구간_조사_자료.TRACE1_LO */


, TRACE2_LA = #TRACE2_LA# /* 최소_구간_조사_자료.TRACE2_LA */


, TRACE2_LO = #TRACE2_LO# /* 최소_구간_조사_자료.TRACE2_LO */


, SRVY_NM = #SRVY_NM# /* 최소_구간_조사_자료.조사_명 */


, EXMNR_NM = #EXMNR_NM# /* 최소_구간_조사_자료.조사자_명 */


, SCTN_STRTPT_DC = #SCTN_STRTPT_DC# /* 최소_구간_조사_자료.구간_시점_설명 */


, SCTN_ENDPT_DC = #SCTN_ENDPT_DC# /* 최소_구간_조사_자료.구간_종점_설명 */


, ROAD_NM = #ROAD_NM# /* 최소_구간_조사_자료.도로_명 */


, FRNT_IMG_FILE_NM = #FRNT_IMG_FILE_NM# /* 최소_구간_조사_자료.전방_이미지_파일_명 */


, RDSRFC_IMG_FILE_NM_1 = #RDSRFC_IMG_FILE_NM_1# /* 최소_구간_조사_자료.노면_이미지_파일_명_1 */


, RDSRFC_IMG_FILE_NM_2 = #RDSRFC_IMG_FILE_NM_2# /* 최소_구간_조사_자료.노면_이미지_파일_명_2 */


, EXCEL_DTA_SEQ = #EXCEL_DTA_SEQ# /* 최소_구간_조사_자료.엑셀_자료_SEQ */


, FRMULA_NO = #FRMULA_NO# /* 최소_구간_조사_자료.수식_번호 */


, POTHOLE_CR = #POTHOLE_CR# /* 최소_구간_조사_자료.포트홀_균열 */


, RI_IDX = #RI_IDX# /* 최소_구간_조사_자료.평탄성_지수 */


, UPDT_AT = #UPDT_AT# /* 최소_구간_조사_자료.수정_여부 */


, DELETE_AT = #DELETE_AT# /* 최소_구간_조사_자료.삭제_여부 */


, USE_AT = #USE_AT# /* 최소_구간_조사_자료.사용_여부 */


, CRTR_NO = #CRTR_NO# /* 최소_구간_조사_자료.생성자_번호 */


, CREAT_DT = NOW() /* 최소_구간_조사_자료.생성_일시 */


, UPDUSR_NO = #UPDUSR_NO# /* 최소_구간_조사_자료.수정자_번호 */


, UPDT_DT = NOW() /* 최소_구간_조사_자료.수정_일시 */

		WHERE 1 = 1
		AND DTA_NO = #DTA_NO# /* 최소_구간_조사_자료.자료_번호 */
]]>
	</update>

	<delete id="mummSctnSrvyDtaDAO.deleteMummSctnSrvyDta">
	<![CDATA[
		/* mummSctnSrvyDtaDAO.deleteMummSctnSrvyDta */
		/* 최소_구간_조사_자료 삭제 */
		DELETE FROM TN_MUMM_SCTN_SRVY_DTA
		WHERE 1 = 1
		AND DTA_NO = #DTA_NO# /* 최소_구간_조사_자료.자료_번호 */
]]>
	</delete>

	<select id="mummSctnSrvyDtaDAO.selectMummSctnSrvyDta"
		 parameterClass="mummSctnSrvyDtaVO" resultClass="mummSctnSrvyDtaVO">
	<![CDATA[
		/* mummSctnSrvyDtaDAO.selectMummSctnSrvyDta */
		/* 최소_구간_조사_자료 조회 */
		SELECT
			tnmummsctnsrvydta.DTA_NO /* 최소_구간_조사_자료.자료_번호 */
			, tnmummsctnsrvydta.SRVY_NO /* 최소_구간_조사_자료.조사_번호 */
			, tnmummsctnsrvydta.SRVY_YEAR /* 최소_구간_조사_자료.조사_년도 */
			, tnmummsctnsrvydta.ROUTE_CODE /* 최소_구간_조사_자료.노선_코드 */
			, tnmummsctnsrvydta.DIRECT_CODE /* 최소_구간_조사_자료.행선_코드 */
			, tnmummsctnsrvydta.TRACK /* 최소_구간_조사_자료.차로 */
			, tnmummsctnsrvydta.STRTPT /* 최소_구간_조사_자료.시점 */
			, tnmummsctnsrvydta.ENDPT /* 최소_구간_조사_자료.종점 */
			, tnmummsctnsrvydta.IRI_VAL /* 최소_구간_조사_자료.종단평탄성_값 */
			, tnmummsctnsrvydta.RD_VAL /* 최소_구간_조사_자료.소성변형_값 */
			, tnmummsctnsrvydta.VRTCAL_CR /* 최소_구간_조사_자료.종방향_균열 */
			, tnmummsctnsrvydta.HRZNTAL_CR /* 최소_구간_조사_자료.횡방향_균열 */
			, tnmummsctnsrvydta.CNSTRCT_JOINT_CR /* 최소_구간_조사_자료.시공_줄눈_균열 */
			, tnmummsctnsrvydta.TRTS_BAC_CR /* 최소_구간_조사_자료.거북등_균열 */
			, tnmummsctnsrvydta.PTCHG_CR /* 최소_구간_조사_자료.패칭_균열 */
			, tnmummsctnsrvydta.CR_VAL /* 최소_구간_조사_자료.표면손상값 */
			, tnmummsctnsrvydta.CR_IDX /* 최소_구간_조사_자료.표면손상지수 */
			, tnmummsctnsrvydta.RD_IDX /* 최소_구간_조사_자료.소성변형지수 */
			, tnmummsctnsrvydta.CNTL_DFECT /* 최소_구간_조사_자료.지배_결함 */
			, tnmummsctnsrvydta.SRVY_KND /* 최소_구간_조사_자료.조사_종류 */
			, tnmummsctnsrvydta.SRVY_MT /* 최소_구간_조사_자료.조사_월 */
			, tnmummsctnsrvydta.MEMO /* 최소_구간_조사_자료.메모 */
			, tnmummsctnsrvydta.SRVY_DE /* 최소_구간_조사_자료.조사_일자 */
			, tnmummsctnsrvydta.TRACE1_LA /* 최소_구간_조사_자료.TRACE1_LA */
			, tnmummsctnsrvydta.TRACE1_LO /* 최소_구간_조사_자료.TRACE1_LO */
			, tnmummsctnsrvydta.TRACE2_LA /* 최소_구간_조사_자료.TRACE2_LA */
			, tnmummsctnsrvydta.TRACE2_LO /* 최소_구간_조사_자료.TRACE2_LO */
			, tnmummsctnsrvydta.SRVY_NM /* 최소_구간_조사_자료.조사_명 */
			, tnmummsctnsrvydta.EXMNR_NM /* 최소_구간_조사_자료.조사자_명 */
			, tnmummsctnsrvydta.SCTN_STRTPT_DC /* 최소_구간_조사_자료.구간_시점_설명 */
			, tnmummsctnsrvydta.SCTN_ENDPT_DC /* 최소_구간_조사_자료.구간_종점_설명 */
			, tnmummsctnsrvydta.ROAD_NM /* 최소_구간_조사_자료.도로_명 */
			, tnmummsctnsrvydta.FRNT_IMG_FILE_NM /* 최소_구간_조사_자료.전방_이미지_파일_명 */
			, tnmummsctnsrvydta.RDSRFC_IMG_FILE_NM_1 /* 최소_구간_조사_자료.노면_이미지_파일_명_1 */
			, tnmummsctnsrvydta.RDSRFC_IMG_FILE_NM_2 /* 최소_구간_조사_자료.노면_이미지_파일_명_2 */
			, tnmummsctnsrvydta.EXCEL_DTA_SEQ /* 최소_구간_조사_자료.엑셀_자료_SEQ */
			, tnmummsctnsrvydta.FRMULA_NO /* 최소_구간_조사_자료.수식_번호 */
			, tnmummsctnsrvydta.POTHOLE_CR /* 최소_구간_조사_자료.포트홀_균열 */
			, tnmummsctnsrvydta.RI_IDX /* 최소_구간_조사_자료.평탄성_지수 */
			, tnmummsctnsrvydta.UPDT_AT /* 최소_구간_조사_자료.수정_여부 */
			, tnmummsctnsrvydta.DELETE_AT /* 최소_구간_조사_자료.삭제_여부 */
			, tnmummsctnsrvydta.USE_AT /* 최소_구간_조사_자료.사용_여부 */
			, tnmummsctnsrvydta.CRTR_NO /* 최소_구간_조사_자료.생성자_번호 */
			, tnmummsctnsrvydta.CREAT_DT /* 최소_구간_조사_자료.생성_일시 */
			, tnmummsctnsrvydta.UPDUSR_NO /* 최소_구간_조사_자료.수정자_번호 */
			, tnmummsctnsrvydta.UPDT_DT /* 최소_구간_조사_자료.수정_일시 */
			, tnmummsctnsrvydta.G2_LONLAT /* 최소_구간_조사_자료.G2_LONLAT */
			, tnmummsctnsrvydta.G2_LONLAT_BUFFER /* 최소_구간_조사_자료.G2_LONLAT_BUFFER */
			, tnmummsctnsrvydta.BLOCK_CR /* 최소_구간_조사_자료.블럭_균열 */
			, tnmummsctnsrvydta.CR_LT /* 최소_구간_조사_자료.균열_길이 */
			, tnmummsctnsrvydta.CR_WID /* 최소_구간_조사_자료.균열_폭 */
			, tnmummsctnsrvydta.NHPCI /* 최소_구간_조사_자료.NHPCI */
			, tnmummsctnsrvydta.SPI /* 최소_구간_조사_자료.SPI */
			, tnmummsctnsrvydta.XCR /* 최소_구간_조사_자료.NHPCI_균열 */
			, tnmummsctnsrvydta.RCI /* 최소_구간_조사_자료.표면_조도_지수 */
			, tnmummsctnsrvydta.SCR /* 최소_구간_조사_자료.표면_상태_지수 */
			, tnmummsctnsrvydta.AC_LOW /* 최소_구간_조사_자료.거북등균열_LOW */
			, tnmummsctnsrvydta.AC_MED /* 최소_구간_조사_자료.거북등균열_MED */
			, tnmummsctnsrvydta.AC_HI /* 최소_구간_조사_자료.거북등균열_HI */
			, tnmummsctnsrvydta.LC_LOW /* 최소_구간_조사_자료.종방향균열_LOW */
			, tnmummsctnsrvydta.LC_MED /* 최소_구간_조사_자료.종방향균열_MED */
			, tnmummsctnsrvydta.LC_HI /* 최소_구간_조사_자료.종방향균열_HI */
			, tnmummsctnsrvydta.TC_LOW /* 최소_구간_조사_자료.횡방향균열_LOW */
			, tnmummsctnsrvydta.TC_MED /* 최소_구간_조사_자료.횡방향균열_MED */
			, tnmummsctnsrvydta.TC_HI /* 최소_구간_조사_자료.횡방향균열_HI */
			, tnmummsctnsrvydta.AC_IDX /* 최소_구간_조사_자료.거북등균열_지수 */
			, tnmummsctnsrvydta.LC_IDX /* 최소_구간_조사_자료.종방향균열_지수 */
			, tnmummsctnsrvydta.TC_IDX /* 최소_구간_조사_자료.횡방향균열_지수 */
			, tnmummsctnsrvydta.PTCHG_IDX /* 최소_구간_조사_자료.패칭_지수 */
			, tnmummsctnsrvydta.RD_LOW /* 최소_구간_조사_자료.소성변형_LOW */
			, tnmummsctnsrvydta.RD_MED /* 최소_구간_조사_자료.소성변형_MED */
			, tnmummsctnsrvydta.RD_HI /* 최소_구간_조사_자료.소성변형_HI */
			, tnmummsctnsrvydta.STRTPT_TEST /* 최소_구간_조사_자료.STRTPT_TEST */
			, tnmummsctnsrvydta.ENDPT_TEST /* 최소_구간_조사_자료.ENDPT_TEST */
			, tnmummsctnsrvydta.MSG_TEST /* 최소_구간_조사_자료.MSG_TEST */
			, tnmummsctnsrvydta.MSG_CODE /* 최소_구간_조사_자료.MSG_CODE */
			, tnmummsctnsrvydta.BLOCK_CR_LOW /* 최소_구간_조사_자료.블럭_균열_LOW */
			, tnmummsctnsrvydta.BLOCK_CR_MED /* 최소_구간_조사_자료.블럭_균열_MED */
			, tnmummsctnsrvydta.BLOCK_CR_HI /* 최소_구간_조사_자료.블럭_균열_HI */
			, tnmummsctnsrvydta.POTHOLE_IDX /* 최소_구간_조사_자료.포트홀_지수 */
			, tnmummsctnsrvydta.DMG_CUZ_CLMT /* 최소_구간_조사_자료.파손_원인_기후 */
			, tnmummsctnsrvydta.DMG_CUZ_VMTC /* 최소_구간_조사_자료.파손_원인_교통량 */
			, tnmummsctnsrvydta.DMG_CUZ_ETC /* 최소_구간_조사_자료.파손_원인_기타 */
			, tnmummsctnsrvydta.PC_GRAD /* 최소_구간_조사_자료.포장상태등급 */
			, tnmummsctnsrvydta.GPCI /* 최소_구간_조사_자료.GPCI */
			, tnmummsctnsrvydta.BC_IDX /* 최소_구간_조사_자료.블럭균열_지수 */
			, tnmummsctnsrvydta.LAST_DTA_AT /* 최소_구간_조사_자료.최종_자료_여부 */
		FROM TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
		WHERE 1 = 1
		AND tnmummsctnsrvydta.DTA_NO = #DTA_NO#::int /* 최소_구간_조사_자료.자료_번호 */
		AND tnmummsctnsrvydta.DELETE_AT = 'N' /* 최소_구간_조사_자료.삭제_여부 */
		AND tnmummsctnsrvydta.USE_AT = 'Y' /* 최소_구간_조사_자료.사용_여부 */
]]>
	</select>

	<select id="mummSctnSrvyDtaDAO.SelectMummSctnSrvyDtaTab1"
		parameterClass="mummSctnSrvyDtaVO" resultClass="hashmap">
	<![CDATA[
	/* mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaTab1 */
	/* 최소_구간_조사_자료 상세 조회_tab_1*/
	SELECT  SRVY_NO,SRVY_NM,ROUTE_NAME,ROUTE_CODE,ROAD_NM,STRTPTNL,MIN(STRTPT) AS STRTPT,MAX(ENDPT) AS ENDPT,(MAX(ENDPT)-MIN(STRTPT)) AS LENGTH,MEMO,SRVY_DE,TRACK,DIRECT_CODE
		FROM(SELECT
				SRVY_NO /* 최소_구간_조사_자료.조사_번호 */
				, SRVY_NM /* 최소_구간_조사_자료.조사_명 */
			    , (SELECT ROAD_NAME FROM TN_ROUTE_INFO ruteinf WHERE ruteinf.ROAD_NO = tnmummsctnsrvydta.ROUTE_CODE) AS ROUTE_NAME /* 노선명 */
			    , ROUTE_CODE /* 최소_구간_조사_자료.노선_코드 */
			    , ROAD_NM /* 최소_구간_조사_자료.도로_명 */
			    , concat(SCTN_STRTPT_DC , '~' , SCTN_ENDPT_DC) AS STRTPTNL /* 최소_구간_조사_자료.시종점_설명*/
			    , STRTPT /* 최소_구간_조사_자료.시점 */
			    , ENDPT  /* 최소_구간_조사_자료.종점 */
			    , MEMO /* 최소_구간_조사_자료.메모 */
			    , TO_CHAR(date(SRVY_DE), 'yyyy-mm-dd') AS SRVY_DE /* 최소_구간_조사_자료.조사_일 */
			    , TRACK /* 최소_구간_조사_자료.차로*/
			    , DIRECT_CODE /* 최소_구간_조사_자료.행선_코드*/
			FROM TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
			WHERE USE_AT = 'Y'
                AND DELETE_AT = 'N'
				AND SRVY_DE = #SRVY_DE#
				AND LTRIM(ROUTE_CODE,'0') = #ROUTE_CODE#
				AND SRVY_NO = #SRVY_NO#)
		GROUP BY SRVY_NO,  SRVY_NM, ROUTE_NAME,  ROUTE_CODE,ROAD_NM,STRTPTNL, MEMO, SRVY_DE, TRACK, DIRECT_CODE
	]]>
	</select>

	<select id="mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaTab2" parameterClass="mummSctnSrvyDtaVO" resultClass="hashmap">
	    <![CDATA[
	    /* mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaTab2 */
		/* 최소_구간_조사_자료 상세 조회_tab_2*/
	   SELECT   '구간종합' AS DIRECTION,
                    TRACK, /* 최소_구간_조사_자료.차로 */
                    ROUND(AVG(GPCI),  2) AS GPCI,
                    ROUND(AVG(IRI_VAL), 2) AS IRI_VAL,
                    ROUND(AVG(RD_VAL),  2 ) AS RD_VAL,
                    ROUND( AVG(CR_VAL),  2 ) AS CR_VAL
                FROM
                    (
                        SELECT
                           *
                        FROM
                            TN_MUMM_SCTN_SRVY_DTA TNMUMMSCTNSRVYDTA
                        WHERE
                                1 = 1
                            AND
                                TNMUMMSCTNSRVYDTA.USE_AT = 'Y'
                            AND
                                TNMUMMSCTNSRVYDTA.DELETE_AT = 'N'
                            AND
                                TNMUMMSCTNSRVYDTA.SRVY_DE = #SRVY_DE#
                            AND
                                  TNMUMMSCTNSRVYDTA.SRVY_NO= #SRVY_NO#
                            AND
                                TNMUMMSCTNSRVYDTA. DIRECT_CODE IN ( 'S','E')
                    )
                GROUP BY
                   TRACK
				UNION ALL
				 SELECT   '상행종합' AS DIRECTION,
				                    TRACK,
				                    ROUND(AVG(GPCI),  2) AS GPCI,
				                    ROUND(AVG(IRI_VAL), 2) AS IRI_VAL,
				                    ROUND(AVG(RD_VAL),  2 ) AS RD_VAL,
				                    ROUND( AVG(CR_VAL),  2 ) AS CR_VAL
				                FROM
				                    (
				                        SELECT
				                           *
				                        FROM
				                            TN_MUMM_SCTN_SRVY_DTA TNMUMMSCTNSRVYDTA
				                        WHERE
				                                1 = 1
				                            AND
				                                TNMUMMSCTNSRVYDTA.USE_AT = 'Y'
				                            AND
				                                TNMUMMSCTNSRVYDTA.DELETE_AT = 'N'
				                            AND
				                                TNMUMMSCTNSRVYDTA.SRVY_DE = #SRVY_DE#
				                            AND
				                                  TNMUMMSCTNSRVYDTA.SRVY_NO= #SRVY_NO#
				                            AND
				                                TNMUMMSCTNSRVYDTA. DIRECT_CODE = 'S'
				                    )
				                GROUP BY
				                    TRACK
				UNION ALL
				 SELECT   '하행종합' AS DIRECTION,
				                     TRACK,
				                     ROUND(AVG(GPCI),  2) AS GPCI,
				                    ROUND(AVG(IRI_VAL), 2) AS IRI_VAL,
				                    ROUND(AVG(RD_VAL),  2 ) AS RD_VAL,
				                    ROUND( AVG(CR_VAL),  2 ) AS CR_VAL
				                FROM
				                    (
				                        SELECT
				                           *
				                        FROM
				                            TN_MUMM_SCTN_SRVY_DTA TNMUMMSCTNSRVYDTA
				                        WHERE
				                                1 = 1
				                            AND
				                                TNMUMMSCTNSRVYDTA.USE_AT = 'Y'
				                            AND
				                                TNMUMMSCTNSRVYDTA.DELETE_AT = 'N'
				                            AND
				                                TNMUMMSCTNSRVYDTA.SRVY_DE = #SRVY_DE#
				                            AND
				                                  TNMUMMSCTNSRVYDTA.SRVY_NO= #SRVY_NO#
				                            AND
				                                TNMUMMSCTNSRVYDTA. DIRECT_CODE = 'E'
				                    )
				                GROUP BY
				                    TRACK
         ]]>
	</select>

	<select id="mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaView3"
		resultClass="mummSctnSrvyDtaVO">
	<![CDATA[
	 SELECT  SRVY_NM
		    , (SELECT ROAD_NAME FROM TN_ROUTE_INFO ruteinf WHERE ruteinf.ROAD_NO = tnmummsctnsrvydta.ROUTE_CODE) AS ROUTE_NAME
		    , ROUTE_CODE
		    , ROAD_NM
		    , concat(SCTN_STRTPT_DC , '~' , SCTN_ENDPT_DC) AS STRTPTNL
		    , STRTPT
		    , ENDPT
		    , (ENDPT - STRTPT) AS LENGTH
		    , MEMO
		    , MAX(TO_CHAR(date(SRVY_DE), 'yyyy-mm-dd')) AS SRVY_DE
		FROM TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
		WHERE 1 = 1
		AND SRVY_DE = #SRVY_DE#
		AND ROUTE_CODE = #ROUTE_CODE#
		AND STRTPT >= #STRTPT#
		AND ENDPT <= #ENDPT#
		GROUP BY SRVY_NM, ROUTE_CODE, SCTN_STRTPT_DC, SCTN_ENDPT_DC, MEMO, ROAD_NM
		LIMIT 1
	]]>
	</select>

	<sql id="mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaList.where">
		WHERE 1 = 1

		<isEqual property="searchCondition" compareValue="0">
			AND
			tnmummsctnsrvydta.DTA_NO = #searchKeyword#
		</isEqual>
		<isEqual property="searchCondition" compareValue="1">
			AND
			tnmummsctnsrvydta.SRVY_NO LIKE '%' || #searchKeyword# || '%'
		</isEqual>
		<isNotEmpty property="DTA_NO"><![CDATA[ /* 최소_구간_조사_자료.자료_번호 */ AND tnmummsctnsrvydta.DTA_NO = #DTA_NO# ]]></isNotEmpty>
		<isNotEmpty property="SRVY_NO"><![CDATA[ /* 최소_구간_조사_자료.조사_번호 */ AND tnmummsctnsrvydta.SRVY_NO = #SRVY_NO# ]]></isNotEmpty>
		<isNotEmpty property="SRVY_YEAR"><![CDATA[ /* 최소_구간_조사_자료.조사_년도 */ AND tnmummsctnsrvydta.SRVY_YEAR = #SRVY_YEAR# ]]></isNotEmpty>
		<isNotEmpty property="ROUTE_CODE"><![CDATA[ /* 최소_구간_조사_자료.노선_코드 */ AND tnmummsctnsrvydta.ROUTE_CODE = #ROUTE_CODE# ]]></isNotEmpty>
		<isNotEmpty property="DIRECT_CODE"><![CDATA[ /* 최소_구간_조사_자료.행선_코드 */ AND tnmummsctnsrvydta.DIRECT_CODE = #DIRECT_CODE# ]]></isNotEmpty>
		<isNotEmpty property="TRACK"><![CDATA[ /* 최소_구간_조사_자료.차로 */ AND tnmummsctnsrvydta.TRACK = #TRACK# ]]></isNotEmpty>
		<isNotEmpty property="STRTPT"><![CDATA[ /* 최소_구간_조사_자료.시점 */ AND tnmummsctnsrvydta.STRTPT = #STRTPT# ]]></isNotEmpty>
		<isNotEmpty property="ENDPT"><![CDATA[ /* 최소_구간_조사_자료.종점 */ AND tnmummsctnsrvydta.ENDPT = #ENDPT# ]]></isNotEmpty>
		<isNotEmpty property="IRI_VAL"><![CDATA[ /* 최소_구간_조사_자료.종단평탄성_값 */ AND tnmummsctnsrvydta.IRI_VAL = #IRI_VAL# ]]></isNotEmpty>
		<isNotEmpty property="RD_VAL"><![CDATA[ /* 최소_구간_조사_자료.소성변형_값 */ AND tnmummsctnsrvydta.RD_VAL = #RD_VAL# ]]></isNotEmpty>
		<isNotEmpty property="VRTCAL_CR"><![CDATA[ /* 최소_구간_조사_자료.종방향_균열 */ AND tnmummsctnsrvydta.VRTCAL_CR = #VRTCAL_CR# ]]></isNotEmpty>
		<isNotEmpty property="HRZNTAL_CR"><![CDATA[ /* 최소_구간_조사_자료.횡방향_균열 */ AND tnmummsctnsrvydta.HRZNTAL_CR = #HRZNTAL_CR# ]]></isNotEmpty>
		<isNotEmpty property="CNSTRCT_JOINT_CR"><![CDATA[ /* 최소_구간_조사_자료.시공_줄눈_균열 */ AND tnmummsctnsrvydta.CNSTRCT_JOINT_CR = #CNSTRCT_JOINT_CR# ]]></isNotEmpty>
		<isNotEmpty property="TRTS_BAC_CR"><![CDATA[ /* 최소_구간_조사_자료.거북등_균열 */ AND tnmummsctnsrvydta.TRTS_BAC_CR = #TRTS_BAC_CR# ]]></isNotEmpty>
		<isNotEmpty property="PTCHG_CR"><![CDATA[ /* 최소_구간_조사_자료.패칭_균열 */ AND tnmummsctnsrvydta.PTCHG_CR = #PTCHG_CR# ]]></isNotEmpty>
		<isNotEmpty property="CR_VAL"><![CDATA[ /* 최소_구간_조사_자료.표면손상값 */ AND tnmummsctnsrvydta.CR_VAL = #CR_VAL# ]]></isNotEmpty>
		<isNotEmpty property="CR_IDX"><![CDATA[ /* 최소_구간_조사_자료.표면손상지수 */ AND tnmummsctnsrvydta.CR_IDX = #CR_IDX# ]]></isNotEmpty>
		<isNotEmpty property="RD_IDX"><![CDATA[ /* 최소_구간_조사_자료.소성변형지수 */ AND tnmummsctnsrvydta.RD_IDX = #RD_IDX# ]]></isNotEmpty>
		<isNotEmpty property="GPCI"><![CDATA[ /* 최소_구간_조사_자료.포장상태지수 */ AND tnmummsctnsrvydta.GPCI = #GPCI# ]]></isNotEmpty>
		<isNotEmpty property="PC_GRAD"><![CDATA[ /* 최소_구간_조사_자료.포장상태등급 */ AND tnmummsctnsrvydta.PC_GRAD = #PC_GRAD# ]]></isNotEmpty>
		<isNotEmpty property="CNTL_DFECT"><![CDATA[ /* 최소_구간_조사_자료.지배_결함 */ AND tnmummsctnsrvydta.CNTL_DFECT = #CNTL_DFECT# ]]></isNotEmpty>
		<isNotEmpty property="SRVY_KND"><![CDATA[ /* 최소_구간_조사_자료.조사_종류 */ AND tnmummsctnsrvydta.SRVY_KND = #SRVY_KND# ]]></isNotEmpty>
		<isNotEmpty property="SRVY_MT"><![CDATA[ /* 최소_구간_조사_자료.조사_월 */ AND tnmummsctnsrvydta.SRVY_MT = #SRVY_MT# ]]></isNotEmpty>
		<isNotEmpty property="MEMO"><![CDATA[ /* 최소_구간_조사_자료.메모 */ AND tnmummsctnsrvydta.MEMO = #MEMO# ]]></isNotEmpty>
		<isNotEmpty property="SRVY_DE"><![CDATA[ /* 최소_구간_조사_자료.조사_일자 */ AND tnmummsctnsrvydta.SRVY_DE = #SRVY_DE# ]]></isNotEmpty>
		<isNotEmpty property="TRACE1_LA"><![CDATA[ /* 최소_구간_조사_자료.TRACE1_LA */ AND tnmummsctnsrvydta.TRACE1_LA = #TRACE1_LA# ]]></isNotEmpty>
		<isNotEmpty property="TRACE1_LO"><![CDATA[ /* 최소_구간_조사_자료.TRACE1_LO */ AND tnmummsctnsrvydta.TRACE1_LO = #TRACE1_LO# ]]></isNotEmpty>
		<isNotEmpty property="TRACE2_LA"><![CDATA[ /* 최소_구간_조사_자료.TRACE2_LA */ AND tnmummsctnsrvydta.TRACE2_LA = #TRACE2_LA# ]]></isNotEmpty>
		<isNotEmpty property="TRACE2_LO"><![CDATA[ /* 최소_구간_조사_자료.TRACE2_LO */ AND tnmummsctnsrvydta.TRACE2_LO = #TRACE2_LO# ]]></isNotEmpty>
		<isNotEmpty property="SRVY_NM"><![CDATA[ /* 최소_구간_조사_자료.조사_명 */ AND tnmummsctnsrvydta.SRVY_NM = #SRVY_NM# ]]></isNotEmpty>
		<isNotEmpty property="EXMNR_NM"><![CDATA[ /* 최소_구간_조사_자료.조사자_명 */ AND tnmummsctnsrvydta.EXMNR_NM = #EXMNR_NM# ]]></isNotEmpty>
		<isNotEmpty property="SCTN_STRTPT_DC"><![CDATA[ /* 최소_구간_조사_자료.구간_시점_설명 */ AND tnmummsctnsrvydta.SCTN_STRTPT_DC = #SCTN_STRTPT_DC# ]]></isNotEmpty>
		<isNotEmpty property="SCTN_ENDPT_DC"><![CDATA[ /* 최소_구간_조사_자료.구간_종점_설명 */ AND tnmummsctnsrvydta.SCTN_ENDPT_DC = #SCTN_ENDPT_DC# ]]></isNotEmpty>
		<isNotEmpty property="ROAD_NM"><![CDATA[ /* 최소_구간_조사_자료.도로_명 */ AND tnmummsctnsrvydta.ROAD_NM = #ROAD_NM# ]]></isNotEmpty>
		<isNotEmpty property="FRNT_IMG_FILE_NM"><![CDATA[ /* 최소_구간_조사_자료.전방_이미지_파일_명 */ AND tnmummsctnsrvydta.FRNT_IMG_FILE_NM = #FRNT_IMG_FILE_NM# ]]></isNotEmpty>
		<isNotEmpty property="RDSRFC_IMG_FILE_NM_1"><![CDATA[ /* 최소_구간_조사_자료.노면_이미지_파일_명_1 */ AND tnmummsctnsrvydta.RDSRFC_IMG_FILE_NM_1 = #RDSRFC_IMG_FILE_NM_1# ]]></isNotEmpty>
		<isNotEmpty property="RDSRFC_IMG_FILE_NM_2"><![CDATA[ /* 최소_구간_조사_자료.노면_이미지_파일_명_2 */ AND tnmummsctnsrvydta.RDSRFC_IMG_FILE_NM_2 = #RDSRFC_IMG_FILE_NM_2# ]]></isNotEmpty>
		<isNotEmpty property="EXCEL_DTA_SEQ"><![CDATA[ /* 최소_구간_조사_자료.엑셀_자료_SEQ */ AND tnmummsctnsrvydta.EXCEL_DTA_SEQ = #EXCEL_DTA_SEQ# ]]></isNotEmpty>
		<isNotEmpty property="FRMULA_NO"><![CDATA[ /* 최소_구간_조사_자료.수식_번호 */ AND tnmummsctnsrvydta.FRMULA_NO = #FRMULA_NO# ]]></isNotEmpty>
		<isNotEmpty property="POTHOLE_CR"><![CDATA[ /* 최소_구간_조사_자료.포트홀_균열 */ AND tnmummsctnsrvydta.POTHOLE_CR = #POTHOLE_CR# ]]></isNotEmpty>
		<isNotEmpty property="RI_IDX"><![CDATA[ /* 최소_구간_조사_자료.평탄성_지수 */ AND tnmummsctnsrvydta.RI_IDX = #RI_IDX# ]]></isNotEmpty>
		<isNotEmpty property="UPDT_AT"><![CDATA[ /* 최소_구간_조사_자료.수정_여부 */ AND tnmummsctnsrvydta.UPDT_AT = #UPDT_AT# ]]></isNotEmpty>
		<isNotEmpty property="DELETE_AT"><![CDATA[ /* 최소_구간_조사_자료.삭제_여부 */ AND tnmummsctnsrvydta.DELETE_AT = #DELETE_AT# ]]></isNotEmpty>
		<isNotEmpty property="USE_AT"><![CDATA[ /* 최소_구간_조사_자료.사용_여부 */ AND tnmummsctnsrvydta.USE_AT = #USE_AT# ]]></isNotEmpty>
		<isNotEmpty property="CRTR_NO"><![CDATA[ /* 최소_구간_조사_자료.생성자_번호 */ AND tnmummsctnsrvydta.CRTR_NO = #CRTR_NO# ]]></isNotEmpty>
		<isNotEmpty property="CREAT_DT"><![CDATA[ /* 최소_구간_조사_자료.생성_일시 */ AND tnmummsctnsrvydta.CREAT_DT = #CREAT_DT# ]]></isNotEmpty>
		<isNotEmpty property="UPDUSR_NO"><![CDATA[ /* 최소_구간_조사_자료.수정자_번호 */ AND tnmummsctnsrvydta.UPDUSR_NO = #UPDUSR_NO# ]]></isNotEmpty>
		<isNotEmpty property="UPDT_DT"><![CDATA[ /* 최소_구간_조사_자료.수정_일시 */ AND tnmummsctnsrvydta.UPDT_DT = #UPDT_DT# ]]></isNotEmpty>
		<isNotEmpty property="SCH_PERIOD_1"><![CDATA[ /* 최소_구간_조사_자료.조사_기간 */ AND tnmummsctnsrvydta.SRVY_DE >= #SCH_PERIOD_1# ]]></isNotEmpty>
		<isNotEmpty property="SCH_PERIOD_2"><![CDATA[ /* 최소_구간_조사_자료.조사_기간 */ AND tnmummsctnsrvydta.SRVY_DE <= #SCH_PERIOD_2# ]]></isNotEmpty>
		<isNotEmpty property="SCH_ROUTCODE"><![CDATA[ /* 최소_구간_조사_자료.노선_코드 */ AND tnmummsctnsrvydta.SCH_ROUTCODE = #SCH_ROUTCODE# ]]></isNotEmpty>
	</sql>

	<select id="mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaListPage"
		parameterClass="mummSctnSrvyDtaVO" resultClass="mummSctnSrvyDtaVO">
<![CDATA[
		/* mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaListPage */
		/* 최소_구간_조사_자료 조회(페이징) */
		WITH tnmummsctnsrvydta AS
		(
		SELECT
				tnmummsctnsrvydta.DTA_NO /* 최소_구간_조사_자료.자료_번호 */
				, tnmummsctnsrvydta.SRVY_NO /* 최소_구간_조사_자료.조사_번호 */
				, tnmummsctnsrvydta.SRVY_YEAR /* 최소_구간_조사_자료.조사_년도 */
				, tnmummsctnsrvydta.ROUTE_CODE /* 최소_구간_조사_자료.노선_코드 */
				, tnmummsctnsrvydta.DIRECT_CODE /* 최소_구간_조사_자료.행선_코드 */
				, tnmummsctnsrvydta.TRACK /* 최소_구간_조사_자료.차로 */
				, tnmummsctnsrvydta.STRTPT /* 최소_구간_조사_자료.시점 */
				, tnmummsctnsrvydta.ENDPT /* 최소_구간_조사_자료.종점 */
				, tnmummsctnsrvydta.IRI_VAL /* 최소_구간_조사_자료.종단평탄성_값 */
				, tnmummsctnsrvydta.RD_VAL /* 최소_구간_조사_자료.소성변형_값 */
				, tnmummsctnsrvydta.VRTCAL_CR /* 최소_구간_조사_자료.종방향_균열 */
				, tnmummsctnsrvydta.HRZNTAL_CR /* 최소_구간_조사_자료.횡방향_균열 */
				, tnmummsctnsrvydta.CNSTRCT_JOINT_CR /* 최소_구간_조사_자료.시공_줄눈_균열 */
				, tnmummsctnsrvydta.TRTS_BAC_CR /* 최소_구간_조사_자료.거북등_균열 */
				, tnmummsctnsrvydta.PTCHG_CR /* 최소_구간_조사_자료.패칭_균열 */
				, tnmummsctnsrvydta.CR_VAL /* 최소_구간_조사_자료.표면손상값 */
				, tnmummsctnsrvydta.CR_IDX /* 최소_구간_조사_자료.표면손상지수 */
				, tnmummsctnsrvydta.RD_IDX /* 최소_구간_조사_자료.소성변형지수 */
				, tnmummsctnsrvydta.GPCI /* 최소_구간_조사_자료.포장상태지수 */
				, tnmummsctnsrvydta.PC_GRAD /* 최소_구간_조사_자료.포장상태등급 */
				, tnmummsctnsrvydta.CNTL_DFECT /* 최소_구간_조사_자료.지배_결함 */
				, tnmummsctnsrvydta.SRVY_KND /* 최소_구간_조사_자료.조사_종류 */
				, tnmummsctnsrvydta.SRVY_MT /* 최소_구간_조사_자료.조사_월 */
				, tnmummsctnsrvydta.MEMO /* 최소_구간_조사_자료.메모 */
				, tnmummsctnsrvydta.SRVY_DE /* 최소_구간_조사_자료.조사_일자 */
				, tnmummsctnsrvydta.TRACE1_LA /* 최소_구간_조사_자료.TRACE1_LA */
				, tnmummsctnsrvydta.TRACE1_LO /* 최소_구간_조사_자료.TRACE1_LO */
				, tnmummsctnsrvydta.TRACE2_LA /* 최소_구간_조사_자료.TRACE2_LA */
				, tnmummsctnsrvydta.TRACE2_LO /* 최소_구간_조사_자료.TRACE2_LO */
				, tnmummsctnsrvydta.SRVY_NM /* 최소_구간_조사_자료.조사_명 */
				, tnmummsctnsrvydta.EXMNR_NM /* 최소_구간_조사_자료.조사자_명 */
				, tnmummsctnsrvydta.SCTN_STRTPT_DC /* 최소_구간_조사_자료.구간_시점_설명 */
				, tnmummsctnsrvydta.SCTN_ENDPT_DC /* 최소_구간_조사_자료.구간_종점_설명 */
				, tnmummsctnsrvydta.ROAD_NM /* 최소_구간_조사_자료.도로_명 */
				, tnmummsctnsrvydta.FRNT_IMG_FILE_NM /* 최소_구간_조사_자료.전방_이미지_파일_명 */
				, tnmummsctnsrvydta.RDSRFC_IMG_FILE_NM_1 /* 최소_구간_조사_자료.노면_이미지_파일_명_1 */
				, tnmummsctnsrvydta.RDSRFC_IMG_FILE_NM_2 /* 최소_구간_조사_자료.노면_이미지_파일_명_2 */
				, tnmummsctnsrvydta.EXCEL_DTA_SEQ /* 최소_구간_조사_자료.엑셀_자료_SEQ */
				, tnmummsctnsrvydta.FRMULA_NO /* 최소_구간_조사_자료.수식_번호 */
				, tnmummsctnsrvydta.POTHOLE_CR /* 최소_구간_조사_자료.포트홀_균열 */
				, tnmummsctnsrvydta.RI_IDX /* 최소_구간_조사_자료.평탄성_지수 */
				, tnmummsctnsrvydta.UPDT_AT /* 최소_구간_조사_자료.수정_여부 */
				, tnmummsctnsrvydta.DELETE_AT /* 최소_구간_조사_자료.삭제_여부 */
				, tnmummsctnsrvydta.USE_AT /* 최소_구간_조사_자료.사용_여부 */
				, tnmummsctnsrvydta.CRTR_NO /* 최소_구간_조사_자료.생성자_번호 */
				, tnmummsctnsrvydta.CREAT_DT /* 최소_구간_조사_자료.생성_일시 */
				, tnmummsctnsrvydta.UPDUSR_NO /* 최소_구간_조사_자료.수정자_번호 */
				, tnmummsctnsrvydta.UPDT_DT /* 최소_구간_조사_자료.수정_일시 */

			FROM TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
]]>
		WHERE 1 = 1

		<isEqual property="searchCondition" compareValue="0">
			AND
			tnmummsctnsrvydta.DTA_NO = #searchKeyword#
		</isEqual>

		<isEqual property="searchCondition" compareValue="1">
			AND
			tnmummsctnsrvydta.SRVY_NO LIKE '%' || #searchKeyword# || '%'
		</isEqual>

		<isNotEmpty property="DTA_NO">
				<![CDATA[
					/* 최소_구간_조사_자료.자료_번호 */
					AND tnmummsctnsrvydta.DTA_NO = #DTA_NO#
				]]>
		</isNotEmpty>

		<isNotEmpty property="SRVY_NO">
				<![CDATA[
					/* 최소_구간_조사_자료.조사_번호 */
					AND tnmummsctnsrvydta.SRVY_NO = #SRVY_NO#
				]]>
		</isNotEmpty>

		<isNotEmpty property="SRVY_YEAR">
				<![CDATA[
					/* 최소_구간_조사_자료.조사_년도 */
					AND tnmummsctnsrvydta.SRVY_YEAR = #SRVY_YEAR#
				]]>
		</isNotEmpty>

		<isNotEmpty property="ROUTE_CODE">
				<![CDATA[
					/* 최소_구간_조사_자료.노선_코드 */
					AND tnmummsctnsrvydta.ROUTE_CODE = #ROUTE_CODE#
				]]>
		</isNotEmpty>

		<isNotEmpty property="DIRECT_CODE">
				<![CDATA[
					/* 최소_구간_조사_자료.행선_코드 */
					AND tnmummsctnsrvydta.DIRECT_CODE = #DIRECT_CODE#
				]]>
		</isNotEmpty>

		<isNotEmpty property="TRACK">
				<![CDATA[
					/* 최소_구간_조사_자료.차로 */
					AND tnmummsctnsrvydta.TRACK = #TRACK#
				]]>
		</isNotEmpty>

		<isNotEmpty property="STRTPT">
				<![CDATA[
					/* 최소_구간_조사_자료.시점 */
					AND tnmummsctnsrvydta.STRTPT = #STRTPT#
				]]>
		</isNotEmpty>

		<isNotEmpty property="ENDPT">
				<![CDATA[
					/* 최소_구간_조사_자료.종점 */
					AND tnmummsctnsrvydta.ENDPT = #ENDPT#
				]]>
		</isNotEmpty>

		<isNotEmpty property="IRI_VAL">
				<![CDATA[
					/* 최소_구간_조사_자료.종단평탄성_값 */
					AND tnmummsctnsrvydta.IRI_VAL = #IRI_VAL#
				]]>
		</isNotEmpty>

		<isNotEmpty property="RD_VAL">
				<![CDATA[
					/* 최소_구간_조사_자료.소성변형_값 */
					AND tnmummsctnsrvydta.RD_VAL = #RD_VAL#
				]]>
		</isNotEmpty>

		<isNotEmpty property="VRTCAL_CR">
				<![CDATA[
					/* 최소_구간_조사_자료.종방향_균열 */
					AND tnmummsctnsrvydta.VRTCAL_CR = #VRTCAL_CR#
				]]>
		</isNotEmpty>

		<isNotEmpty property="HRZNTAL_CR">
				<![CDATA[
					/* 최소_구간_조사_자료.횡방향_균열 */
					AND tnmummsctnsrvydta.HRZNTAL_CR = #HRZNTAL_CR#
				]]>
		</isNotEmpty>

		<isNotEmpty property="CNSTRCT_JOINT_CR">
				<![CDATA[
					/* 최소_구간_조사_자료.시공_줄눈_균열 */
					AND tnmummsctnsrvydta.CNSTRCT_JOINT_CR = #CNSTRCT_JOINT_CR#
				]]>
		</isNotEmpty>

		<isNotEmpty property="TRTS_BAC_CR">
				<![CDATA[
					/* 최소_구간_조사_자료.거북등_균열 */
					AND tnmummsctnsrvydta.TRTS_BAC_CR = #TRTS_BAC_CR#
				]]>
		</isNotEmpty>

		<isNotEmpty property="PTCHG_CR">
				<![CDATA[
					/* 최소_구간_조사_자료.패칭_균열 */
					AND tnmummsctnsrvydta.PTCHG_CR = #PTCHG_CR#
				]]>
		</isNotEmpty>

		<isNotEmpty property="CR_VAL">
				<![CDATA[
					/* 최소_구간_조사_자료.표면손상값 */
					AND tnmummsctnsrvydta.CR_VAL = #CR_VAL#
				]]>
		</isNotEmpty>

		<isNotEmpty property="CR_IDX">
				<![CDATA[
					/* 최소_구간_조사_자료.표면손상지수 */
					AND tnmummsctnsrvydta.CR_IDX = #CR_IDX#
				]]>
		</isNotEmpty>

		<isNotEmpty property="RD_IDX">
				<![CDATA[
					/* 최소_구간_조사_자료.소성변형지수 */
					AND tnmummsctnsrvydta.RD_IDX = #RD_IDX#
				]]>
		</isNotEmpty>

		<isNotEmpty property="GPCI">
				<![CDATA[
					/* 최소_구간_조사_자료.포장상태지수 */
					AND tnmummsctnsrvydta.GPCI = #GPCI#
				]]>
		</isNotEmpty>

		<isNotEmpty property="PC_GRAD">
				<![CDATA[
					/* 최소_구간_조사_자료.포장상태등급 */
					AND tnmummsctnsrvydta.PC_GRAD = #PC_GRAD#
				]]>
		</isNotEmpty>

		<isNotEmpty property="CNTL_DFECT">
				<![CDATA[
					/* 최소_구간_조사_자료.지배_결함 */
					AND tnmummsctnsrvydta.CNTL_DFECT = #CNTL_DFECT#
				]]>
		</isNotEmpty>

		<isNotEmpty property="SRVY_KND">
				<![CDATA[
					/* 최소_구간_조사_자료.조사_종류 */
					AND tnmummsctnsrvydta.SRVY_KND = #SRVY_KND#
				]]>
		</isNotEmpty>

		<isNotEmpty property="SRVY_MT">
				<![CDATA[
					/* 최소_구간_조사_자료.조사_월 */
					AND tnmummsctnsrvydta.SRVY_MT = #SRVY_MT#
				]]>
		</isNotEmpty>

		<isNotEmpty property="MEMO">
				<![CDATA[
					/* 최소_구간_조사_자료.메모 */
					AND tnmummsctnsrvydta.MEMO = #MEMO#
				]]>
		</isNotEmpty>

		<isNotEmpty property="SRVY_DE">
				<![CDATA[
					/* 최소_구간_조사_자료.조사_일자 */
					AND tnmummsctnsrvydta.SRVY_DE = #SRVY_DE#
				]]>
		</isNotEmpty>

		<isNotEmpty property="TRACE1_LA">
				<![CDATA[
					/* 최소_구간_조사_자료.TRACE1_LA */
					AND tnmummsctnsrvydta.TRACE1_LA = #TRACE1_LA#
				]]>
		</isNotEmpty>

		<isNotEmpty property="TRACE1_LO">
				<![CDATA[
					/* 최소_구간_조사_자료.TRACE1_LO */
					AND tnmummsctnsrvydta.TRACE1_LO = #TRACE1_LO#
				]]>
		</isNotEmpty>

		<isNotEmpty property="TRACE2_LA">
				<![CDATA[
					/* 최소_구간_조사_자료.TRACE2_LA */
					AND tnmummsctnsrvydta.TRACE2_LA = #TRACE2_LA#
				]]>
		</isNotEmpty>

		<isNotEmpty property="TRACE2_LO">
				<![CDATA[
					/* 최소_구간_조사_자료.TRACE2_LO */
					AND tnmummsctnsrvydta.TRACE2_LO = #TRACE2_LO#
				]]>
		</isNotEmpty>

		<isNotEmpty property="SRVY_NM">
				<![CDATA[
					/* 최소_구간_조사_자료.조사_명 */
					AND tnmummsctnsrvydta.SRVY_NM = #SRVY_NM#
				]]>
		</isNotEmpty>

		<isNotEmpty property="EXMNR_NM">
				<![CDATA[
					/* 최소_구간_조사_자료.조사자_명 */
					AND tnmummsctnsrvydta.EXMNR_NM = #EXMNR_NM#
				]]>
		</isNotEmpty>

		<isNotEmpty property="SCTN_STRTPT_DC">
				<![CDATA[
					/* 최소_구간_조사_자료.구간_시점_설명 */
					AND tnmummsctnsrvydta.SCTN_STRTPT_DC = #SCTN_STRTPT_DC#
				]]>
		</isNotEmpty>

		<isNotEmpty property="SCTN_ENDPT_DC">
				<![CDATA[
					/* 최소_구간_조사_자료.구간_종점_설명 */
					AND tnmummsctnsrvydta.SCTN_ENDPT_DC = #SCTN_ENDPT_DC#
				]]>
		</isNotEmpty>

		<isNotEmpty property="ROAD_NM">
				<![CDATA[
					/* 최소_구간_조사_자료.도로_명 */
					AND tnmummsctnsrvydta.ROAD_NM = #ROAD_NM#
				]]>
		</isNotEmpty>

		<isNotEmpty property="FRNT_IMG_FILE_NM">
				<![CDATA[
					/* 최소_구간_조사_자료.전방_이미지_파일_명 */
					AND tnmummsctnsrvydta.FRNT_IMG_FILE_NM = #FRNT_IMG_FILE_NM#
				]]>
		</isNotEmpty>

		<isNotEmpty property="RDSRFC_IMG_FILE_NM_1">
				<![CDATA[
					/* 최소_구간_조사_자료.노면_이미지_파일_명_1 */
					AND tnmummsctnsrvydta.RDSRFC_IMG_FILE_NM_1 = #RDSRFC_IMG_FILE_NM_1#
				]]>
		</isNotEmpty>

		<isNotEmpty property="RDSRFC_IMG_FILE_NM_2">
				<![CDATA[
					/* 최소_구간_조사_자료.노면_이미지_파일_명_2 */
					AND tnmummsctnsrvydta.RDSRFC_IMG_FILE_NM_2 = #RDSRFC_IMG_FILE_NM_2#
				]]>
		</isNotEmpty>

		<isNotEmpty property="EXCEL_DTA_SEQ">
				<![CDATA[
					/* 최소_구간_조사_자료.엑셀_자료_SEQ */
					AND tnmummsctnsrvydta.EXCEL_DTA_SEQ = #EXCEL_DTA_SEQ#
				]]>
		</isNotEmpty>

		<isNotEmpty property="FRMULA_NO">
				<![CDATA[
					/* 최소_구간_조사_자료.수식_번호 */
					AND tnmummsctnsrvydta.FRMULA_NO = #FRMULA_NO#
				]]>
		</isNotEmpty>

		<isNotEmpty property="POTHOLE_CR">
				<![CDATA[
					/* 최소_구간_조사_자료.포트홀_균열 */
					AND tnmummsctnsrvydta.POTHOLE_CR = #POTHOLE_CR#
				]]>
		</isNotEmpty>

		<isNotEmpty property="RI_IDX">
				<![CDATA[
					/* 최소_구간_조사_자료.평탄성_지수 */
					AND tnmummsctnsrvydta.RI_IDX = #RI_IDX#
				]]>
		</isNotEmpty>

		<isNotEmpty property="UPDT_AT">
				<![CDATA[
					/* 최소_구간_조사_자료.수정_여부 */
					AND tnmummsctnsrvydta.UPDT_AT = #UPDT_AT#
				]]>
		</isNotEmpty>


		<isNotEmpty property="DELETE_AT">
				<![CDATA[
					/* 최소_구간_조사_자료.삭제_여부 */
					AND tnmummsctnsrvydta.DELETE_AT = #DELETE_AT#
				]]>
		</isNotEmpty>

		<isNotEmpty property="USE_AT">
				<![CDATA[
					/* 최소_구간_조사_자료.사용_여부 */
					AND tnmummsctnsrvydta.USE_AT = #USE_AT#
				]]>
		</isNotEmpty>

		<isNotEmpty property="CRTR_NO">
				<![CDATA[
					/* 최소_구간_조사_자료.생성자_번호 */
					AND tnmummsctnsrvydta.CRTR_NO = #CRTR_NO#
				]]>
		</isNotEmpty>

		<isNotEmpty property="CREAT_DT">
				<![CDATA[
					/* 최소_구간_조사_자료.생성_일시 */
					AND tnmummsctnsrvydta.CREAT_DT = #CREAT_DT#
				]]>
		</isNotEmpty>

		<isNotEmpty property="UPDUSR_NO">
				<![CDATA[
					/* 최소_구간_조사_자료.수정자_번호 */
					AND tnmummsctnsrvydta.UPDUSR_NO = #UPDUSR_NO#
				]]>
		</isNotEmpty>

		<isNotEmpty property="UPDT_DT">
				<![CDATA[
					/* 최소_구간_조사_자료.수정_일시 */
					AND tnmummsctnsrvydta.UPDT_DT = #UPDT_DT#
				]]>
		</isNotEmpty>
	<![CDATA[
		)
		SELECT tnmummsctnsrvydta.* FROM
		(
		SELECT
										tnmummsctnsrvydta.DTA_NO /* 최소_구간_조사_자료.자료_번호 */
											, tnmummsctnsrvydta.SRVY_NO /* 최소_구간_조사_자료.조사_번호 */
											, tnmummsctnsrvydta.SRVY_YEAR /* 최소_구간_조사_자료.조사_년도 */
											, tnmummsctnsrvydta.ROUTE_CODE /* 최소_구간_조사_자료.노선_코드 */
											, tnmummsctnsrvydta.DIRECT_CODE /* 최소_구간_조사_자료.행선_코드 */
											, tnmummsctnsrvydta.TRACK /* 최소_구간_조사_자료.차로 */
											, tnmummsctnsrvydta.STRTPT /* 최소_구간_조사_자료.시점 */
											, tnmummsctnsrvydta.ENDPT /* 최소_구간_조사_자료.종점 */
											, tnmummsctnsrvydta.IRI_VAL /* 최소_구간_조사_자료.종단평탄성_값 */
											, tnmummsctnsrvydta.RD_VAL /* 최소_구간_조사_자료.소성변형_값 */
											, tnmummsctnsrvydta.VRTCAL_CR /* 최소_구간_조사_자료.종방향_균열 */
											, tnmummsctnsrvydta.HRZNTAL_CR /* 최소_구간_조사_자료.횡방향_균열 */
											, tnmummsctnsrvydta.CNSTRCT_JOINT_CR /* 최소_구간_조사_자료.시공_줄눈_균열 */
											, tnmummsctnsrvydta.TRTS_BAC_CR /* 최소_구간_조사_자료.거북등_균열 */
											, tnmummsctnsrvydta.PTCHG_CR /* 최소_구간_조사_자료.패칭_균열 */
											, tnmummsctnsrvydta.CR_VAL /* 최소_구간_조사_자료.표면손상값 */
											, tnmummsctnsrvydta.CR_IDX /* 최소_구간_조사_자료.표면손상지수 */
											, tnmummsctnsrvydta.RD_IDX /* 최소_구간_조사_자료.소성변형지수 */
											, tnmummsctnsrvydta.GPCI /* 최소_구간_조사_자료.포장상태지수 */
											, tnmummsctnsrvydta.PC_GRAD /* 최소_구간_조사_자료.포장상태등급 */
											, tnmummsctnsrvydta.CNTL_DFECT /* 최소_구간_조사_자료.지배_결함 */
											, tnmummsctnsrvydta.SRVY_KND /* 최소_구간_조사_자료.조사_종류 */
											, tnmummsctnsrvydta.SRVY_MT /* 최소_구간_조사_자료.조사_월 */
											, tnmummsctnsrvydta.MEMO /* 최소_구간_조사_자료.메모 */
											, tnmummsctnsrvydta.SRVY_DE /* 최소_구간_조사_자료.조사_일자 */
											, tnmummsctnsrvydta.TRACE1_LA /* 최소_구간_조사_자료.TRACE1_LA */
											, tnmummsctnsrvydta.TRACE1_LO /* 최소_구간_조사_자료.TRACE1_LO */
											, tnmummsctnsrvydta.TRACE2_LA /* 최소_구간_조사_자료.TRACE2_LA */
											, tnmummsctnsrvydta.TRACE2_LO /* 최소_구간_조사_자료.TRACE2_LO */
											, tnmummsctnsrvydta.SRVY_NM /* 최소_구간_조사_자료.조사_명 */
											, tnmummsctnsrvydta.EXMNR_NM /* 최소_구간_조사_자료.조사자_명 */
											, tnmummsctnsrvydta.SCTN_STRTPT_DC /* 최소_구간_조사_자료.구간_시점_설명 */
											, tnmummsctnsrvydta.SCTN_ENDPT_DC /* 최소_구간_조사_자료.구간_종점_설명 */
											, tnmummsctnsrvydta.ROAD_NM /* 최소_구간_조사_자료.도로_명 */
											, tnmummsctnsrvydta.FRNT_IMG_FILE_NM /* 최소_구간_조사_자료.전방_이미지_파일_명 */
											, tnmummsctnsrvydta.RDSRFC_IMG_FILE_NM_1 /* 최소_구간_조사_자료.노면_이미지_파일_명_1 */
											, tnmummsctnsrvydta.RDSRFC_IMG_FILE_NM_2 /* 최소_구간_조사_자료.노면_이미지_파일_명_2 */
											, tnmummsctnsrvydta.EXCEL_DTA_SEQ /* 최소_구간_조사_자료.엑셀_자료_SEQ */
											, tnmummsctnsrvydta.FRMULA_NO /* 최소_구간_조사_자료.수식_번호 */
											, tnmummsctnsrvydta.POTHOLE_CR /* 최소_구간_조사_자료.포트홀_균열 */
											, tnmummsctnsrvydta.RI_IDX /* 최소_구간_조사_자료.평탄성_지수 */
											, tnmummsctnsrvydta.UPDT_AT /* 최소_구간_조사_자료.수정_여부 */
											, tnmummsctnsrvydta.DELETE_AT /* 최소_구간_조사_자료.삭제_여부 */
											, tnmummsctnsrvydta.USE_AT /* 최소_구간_조사_자료.사용_여부 */
											, tnmummsctnsrvydta.CRTR_NO /* 최소_구간_조사_자료.생성자_번호 */
											, tnmummsctnsrvydta.CREAT_DT /* 최소_구간_조사_자료.생성_일시 */
											, tnmummsctnsrvydta.UPDUSR_NO /* 최소_구간_조사_자료.수정자_번호 */
											, tnmummsctnsrvydta.UPDT_DT /* 최소_구간_조사_자료.수정_일시 */
			, ROW_NUMBER() OVER( ORDER BY tnmummsctnsrvydta.DTA_NO ASC, tnmummsctnsrvydta.SRVY_NO DESC )  ROW_NO
			FROM  tnmummsctnsrvydta
			WHERE 1=1
		)  tnmummsctnsrvydta
		WHERE 1=1
]]>
<![CDATA[
  		AND  tnmummsctnsrvydta.ROW_NO BETWEEN #firstIndex# + 1 AND #lastIndex#
]]>
<![CDATA[
		AND  tnmummsctnsrvydta.ROW_NO <= #lastIndex#	AND  ROW_NO > #firstIndex#
]]>
	</select>


	<select id="mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaTab3ListPage" parameterClass="mummSctnSrvyDtaVO" resultClass="mummSctnSrvyDtaVO">
	    <![CDATA[
		/* mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaTab3ListPage */
		/* 최소_구간_조사_자료_10m 세부내역 조회  */
		SELECT * FROM (SELECT ROW_NUMBER() OVER() AS rn, tb.* FROM (
			SELECT
				 tnmummsctnsrvydta.STRTPT 		/* 최소_구간_조사_자료.시점 */
				, tnmummsctnsrvydta.ENDPT 		/* 최소_구간_조사_자료.종점 */
				, tnmummsctnsrvydta.AC_IDX		/* 최소_구간_조사_자료.거북등균열_지수*/
				, tnmummsctnsrvydta.BLOCK_CR	/* 최소_구간_조사_자료.블럭_균열*/
				, tnmummsctnsrvydta.LC_IDX		/* 최소_구간_조사_자료.종방향균열_지수*/
				, tnmummsctnsrvydta.TC_IDX		/* 최소_구간_조사_자료.횡방향균열_지수*/
				, tnmummsctnsrvydta.PTCHG_IDX	/* 최소_구간_조사_자료.패칭_지수*/
				, tnmummsctnsrvydta.POTHOLE_IDX	/* 최소_구간_조사_자료.포트홀_지수*/
				, tnmummsctnsrvydta.RD_IDX 		/* 최소_구간_조사_자료.소성변형지수 */
				, tnmummsctnsrvydta.IRI_VAL 	/* 최소_구간_조사_자료.종단평탄성_값 */
				, tnmummsctnsrvydta.GPCI 		/* 최소_구간_조사_자료.포장상태_값 */
				, tnmummsctnsrvydta.TRACK 		/* 최소_구간_조사_자료.차로 */
				, tnmummsctnsrvydta.DIRECT_CODE /* 최소_구간_조사_자료.행선_코드 */
			FROM TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
			WHERE USE_AT = 'Y'
                AND DELETE_AT = 'N'
				AND SRVY_DE = #SRVY_DE#
				AND LTRIM(ROUTE_CODE,'0') = #ROUTE_CODE#
				AND SRVY_NO = #SRVY_NO#
]]>
	<isNotEmpty property="SCH_STRTPT"><![CDATA[ /* 최소_구간_조사_자료.시점 */ AND tnmummsctnsrvydta.STRTPT >= #SCH_STRTPT# ]]></isNotEmpty>
	<isNotEmpty property="SCH_ENDPT"><![CDATA[ /* 최소_구간_조사_자료.종점 */ AND tnmummsctnsrvydta.ENDPT <= #SCH_ENDPT# ]]></isNotEmpty>
    <isNotEmpty property="orderByColumn">
		ORDER BY $orderByColumn$ $orderByType$
	</isNotEmpty>
		) tb) tnmummsctnsrvydta  WHERE 1=1
		<isEqual prepend=" " property="usePage" compareValue="true">
<![CDATA[
    AND rn BETWEEN #firstIndex# + 1 AND #firstIndex# + #recordCountPerPage#
]]>
		</isEqual>
	</select>

	<select id="mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaList"
		parameterClass="mummSctnSrvyDtaVO" resultClass="mummSctnSrvyDtaVO">
<![CDATA[
		/* mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaList */
		/* 최소_구간_조사_자료 조회 */
		SELECT * FROM (SELECT ROW_NUMBER() OVER() AS rn, tb.* FROM (
			 SELECT
			 		srvy_no,
                    srvy_de,
                    route_code,
                    road_name AS route_nm,
                    direct_code,
                    track,
                    MIN(strtpt) AS strtpt,
                    MAX(endpt) AS endpt
                FROM
                    (SELECT
                    	tnrouteinfo.road_name/* 노선정보.노선명 */,
						tnmummsctnsrvydta.srvy_no/* 최소_구간_조사_자료.조사_번호 */,
	                    tnmummsctnsrvydta.route_code /* 최소_구간_조사_자료.노선_코드 */,
	                    tnmummsctnsrvydta.strtpt /* 최소_구간_조사_자료.시점 */,
	                    tnmummsctnsrvydta.endpt /* 최소_구간_조사_자료.종점 */,
	                    tnmummsctnsrvydta.GPCI /* 최소_구간_조사_자료.GPCI */,
	                    tnmummsctnsrvydta.iri_val/* 최소_구간_조사_자료.종단평탄성_값 */,
	                    tnmummsctnsrvydta.rd_val/* 최소_구간_조사_자료.소성변형_값 */,
	                    tnmummsctnsrvydta.cr_val/* 최소_구간_조사_자료.표면손상값 */,
	                    tnmummsctnsrvydta.cntl_dfect/* 최소_구간_조사_자료.지배_결함 */,
	                    tnmummsctnsrvydta.srvy_de /* 최소_구간_조사_자료.조사_일자 */,
	                    tnmummsctnsrvydta.sctn_strtpt_dc /* 최소_구간_조사_자료.구간_시점_설명 */,
	                    tnmummsctnsrvydta.sctn_endpt_dc /* 최소_구간_조사_자료.구간_종점_설명 */,
	                    tnmummsctnsrvydta.road_nm /* 최소_구간_조사_자료.도로_명 */,
	                    tnmummsctnsrvydta.use_at /* 최소_구간_조사_자료.사용_여부 */,
	                    tnmummsctnsrvydta.delete_at /* 최소_구간_조사_자료.삭제_여부 */,
	                    tnmummsctnsrvydta.direct_code/* 최소_구간_조사_자료.행선_코드 */,
	                    tnmummsctnsrvydta.track /* 최소_구간_조사_자료.차로 */
			FROM TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta LEFT OUTER JOIN TN_ROUTE_INFO tnrouteinfo ON tnrouteinfo.road_no = tnmummsctnsrvydta.route_code
			WHERE 1=1
			   AND tnmummsctnsrvydta.use_at ='Y'
			   AND tnmummsctnsrvydta.delete_at='N'
]]>
		<isNotEmpty property="SCH_PERIOD_1"><![CDATA[ /* 최소_구간_조사_자료.조사_기간 */ AND tnmummsctnsrvydta.SRVY_DE >= #SCH_PERIOD_1# ]]></isNotEmpty>
		<isNotEmpty property="SCH_PERIOD_2"><![CDATA[ /* 최소_구간_조사_자료.조사_기간 */ AND tnmummsctnsrvydta.SRVY_DE <= #SCH_PERIOD_2# ]]></isNotEmpty>
		<isNotEmpty property="SCH_ROUTCODE"><![CDATA[ /* 최소_구간_조사_자료.노선_코드 */ AND  LTRIM(tnmummsctnsrvydta.ROUTE_CODE,'0') = #SCH_ROUTCODE# ]]></isNotEmpty>
		<isNotEmpty property="SCH_ROUTNM"><![CDATA[ /* 노선정보.노선명 */ AND  tnrouteinfo.road_name LIKE '%' || #SCH_ROUTNM# || '%']]></isNotEmpty>
		 )
         GROUP BY srvy_no,srvy_de,route_code,road_name,direct_code,track
		<isNotEmpty property="orderByColumn">
			ORDER BY $orderByColumn$ $orderByType$
		</isNotEmpty>
         ) tb) tnmummsctnsrvydta
		WHERE 1=1
		<isEqual prepend=" " property="usePage" compareValue="true">
<![CDATA[
    AND rn BETWEEN #firstIndex# + 1 AND #firstIndex# + #recordCountPerPage#
]]>
		</isEqual>
	</select>


	<select id="mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaListTotalCount"
		parameterClass="mummSctnSrvyDtaVO" resultClass="int">
<![CDATA[
		/* mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaListTotalCount */
		/* 최소_구간_조사_자료 목록 개수 조회  */
		SELECT COUNT(*) FROM (
			SELECT
					srvy_no,
                    srvy_de,
                    route_code,
                    road_name AS route_nm,
                    direct_code,
                    track,
                    MIN(strtpt) AS strtpt,
                    MAX(endpt) AS endpt
                FROM
                    (SELECT
                    	tnrouteinfo.road_name/* 노선정보.노선명 */,
						tnmummsctnsrvydta.srvy_no/* 최소_구간_조사_자료.조사_번호 */,
	                    tnmummsctnsrvydta.route_code /* 최소_구간_조사_자료.노선_코드 */,
	                    tnmummsctnsrvydta.strtpt /* 최소_구간_조사_자료.시점 */,
	                    tnmummsctnsrvydta.endpt /* 최소_구간_조사_자료.종점 */,
	                    tnmummsctnsrvydta.GPCI /* 최소_구간_조사_자료.GPCI */,
	                    tnmummsctnsrvydta.iri_val/* 최소_구간_조사_자료.종단평탄성_값 */,
	                    tnmummsctnsrvydta.rd_val/* 최소_구간_조사_자료.소성변형_값 */,
	                    tnmummsctnsrvydta.cr_val/* 최소_구간_조사_자료.표면손상값 */,
	                    tnmummsctnsrvydta.cntl_dfect/* 최소_구간_조사_자료.지배_결함 */,
	                    tnmummsctnsrvydta.srvy_de /* 최소_구간_조사_자료.조사_일자 */,
	                    tnmummsctnsrvydta.sctn_strtpt_dc /* 최소_구간_조사_자료.구간_시점_설명 */,
	                    tnmummsctnsrvydta.sctn_endpt_dc /* 최소_구간_조사_자료.구간_종점_설명 */,
	                    tnmummsctnsrvydta.road_nm /* 최소_구간_조사_자료.도로_명 */,
	                    tnmummsctnsrvydta.use_at /* 최소_구간_조사_자료.사용_여부 */,
	                    tnmummsctnsrvydta.delete_at /* 최소_구간_조사_자료.삭제_여부 */,
	                    tnmummsctnsrvydta.direct_code/* 최소_구간_조사_자료.행선_코드 */,
	                    tnmummsctnsrvydta.track /* 최소_구간_조사_자료.차로 */
					FROM TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta LEFT OUTER JOIN TN_ROUTE_INFO tnrouteinfo ON tnrouteinfo.road_no = tnmummsctnsrvydta.route_code
					WHERE 1=1
		   			  AND tnmummsctnsrvydta.use_at ='Y'
			   		  AND tnmummsctnsrvydta.delete_at='N'
]]>
		<isNotEmpty property="SCH_PERIOD_1"><![CDATA[ /* 최소_구간_조사_자료.조사_기간 */ AND tnmummsctnsrvydta.SRVY_DE >= #SCH_PERIOD_1# ]]></isNotEmpty>
		<isNotEmpty property="SCH_PERIOD_2"><![CDATA[ /* 최소_구간_조사_자료.조사_기간 */ AND tnmummsctnsrvydta.SRVY_DE <= #SCH_PERIOD_2# ]]></isNotEmpty>
		<isNotEmpty property="SCH_ROUTCODE"><![CDATA[ /* 최소_구간_조사_자료.노선_코드 */ AND LTRIM(tnmummsctnsrvydta.ROUTE_CODE,'0') = #SCH_ROUTCODE# ]]></isNotEmpty>
		<isNotEmpty property="SCH_ROUTNM"><![CDATA[ /* 노선정보.노선명 */ AND  tnrouteinfo.road_name LIKE '%' || #SCH_ROUTNM# || '%']]></isNotEmpty>
<![CDATA[
		 )
         GROUP BY srvy_no,srvy_de,route_code,road_name,direct_code,track
]]>
	</select>

	<select id="mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaTab3ListPageTotalCount" resultClass="int">
	     <![CDATA[
		/* mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaTab3ListPageTotalCount */
		/* 최소_구간_조사_자료_20m 세부내역 개수 조회  */
	    SELECT COUNT(*)
		  FROM (SELECT
				 tnmummsctnsrvydta.STRTPT 		/* 최소_구간_조사_자료.시점 */
				, tnmummsctnsrvydta.ENDPT 		/* 최소_구간_조사_자료.종점 */
				, tnmummsctnsrvydta.AC_IDX		/* 최소_구간_조사_자료.거북등균열_지수*/
				, tnmummsctnsrvydta.BLOCK_CR	/* 최소_구간_조사_자료.블럭_균열*/
				, tnmummsctnsrvydta.LC_IDX		/* 최소_구간_조사_자료.종방향균열_지수*/
				, tnmummsctnsrvydta.TC_IDX		/* 최소_구간_조사_자료.횡방향균열_지수*/
				, tnmummsctnsrvydta.PTCHG_IDX	/* 최소_구간_조사_자료.패칭_지수*/
				, tnmummsctnsrvydta.POTHOLE_IDX	/* 최소_구간_조사_자료.포트홀_지수*/
				, tnmummsctnsrvydta.RD_IDX 		/* 최소_구간_조사_자료.소성변형지수 */
				, tnmummsctnsrvydta.IRI_VAL 	/* 최소_구간_조사_자료.종단평탄성_값 */
				, tnmummsctnsrvydta.GPCI 		/* 최소_구간_조사_자료.포장상태_값 */
				, tnmummsctnsrvydta.TRACK 		/* 최소_구간_조사_자료.차로 */
				, tnmummsctnsrvydta.DIRECT_CODE /* 최소_구간_조사_자료.행선_코드 */
			FROM TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
			WHERE USE_AT = 'Y'
                AND DELETE_AT = 'N'
				AND SRVY_DE = #SRVY_DE#
				AND LTRIM(ROUTE_CODE,'0') = #ROUTE_CODE#
				AND SRVY_NO = #SRVY_NO#
	  ]]>
	   	<isNotEmpty property="SCH_STRTPT"><![CDATA[ /* 최소_구간_조사_자료.시점 */ AND tnmummsctnsrvydta.STRTPT >= #SCH_STRTPT# ]]></isNotEmpty>
		<isNotEmpty property="SCH_ENDPT"><![CDATA[ /* 최소_구간_조사_자료.종점 */ AND tnmummsctnsrvydta.ENDPT <= #SCH_ENDPT# ]]></isNotEmpty>
	  )
	</select>







	<select id="mummSctnSrvyDtaDAO.mummSctnSrvyDtaSctnByCell"
            parameterClass="mummSctnSrvyDtaVO" resultClass="mummSctnSrvyDtaVO">
        <![CDATA[
            /* mummSctnSrvyDtaDAO.mummSctnSrvyDtaSctnByCell */
            /* JOY_통합정보조회 - 조사자료 : 선택한 셀로 섹션 정보 조회 */
            SELECT
			    tnmummsctnsrvydta.CELL_ID
			    , tnmummsctnsrvydta.RDSRFC_IMG_FILE_NM_1
			    , tnmummsctnsrvydta.DTA_NO
			    , sect.CELL_ID SECT_CELL_ID
			    , sect.ROUTE_CODE
			    , sect.DIRECT_CODE
			    , sect.TRACK
			    , sect.STRTPT
			    , sect.ENDPT
			FROM (
			    SELECT
			        cell.CELL_ID
			        , tnmummsctnsrvydta.ROUTE_CODE
			        , tnmummsctnsrvydta.DIRECT_CODE
			        , tnmummsctnsrvydta.TRACK
			        , tnmummsctnsrvydta.STRTPT
			        , tnmummsctnsrvydta.ENDPT
			        , tnmummsctnsrvydta.RDSRFC_IMG_FILE_NM_1
			        , tnmummsctnsrvydta.DTA_NO
			        , ROW_NUMBER() OVER() as rnum
			    FROM (
			        SELECT cell.*
			        FROM CELL_10 cell
			        WHERE cell.CELL_ID = #CELL_ID#
			    ) cell
			    INNER JOIN TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
			            ON tnmummsctnsrvydta.ROUTE_CODE = cell.ROUTE_CODE
			           AND tnmummsctnsrvydta.DIRECT_CODE = cell.DIRECT_CODE
			           AND tnmummsctnsrvydta.TRACK = cell.TRACK
			           AND tnmummsctnsrvydta.STRTPT = cell.STRTPT
			           AND tnmummsctnsrvydta.ENDPT = cell.ENDPT
			           AND tnmummsctnsrvydta.USE_AT = 'Y'
			           AND tnmummsctnsrvydta.DELETE_AT = 'N'
			           AND tnmummsctnsrvydta.LAST_DTA_AT = 'Y'
			    ORDER BY tnmummsctnsrvydta.DTA_NO
			) tnmummsctnsrvydta
			LEFT OUTER JOIN CELL_SECT sect
			             ON tnmummsctnsrvydta.ROUTE_CODE = sect.ROUTE_CODE
			            AND tnmummsctnsrvydta.DIRECT_CODE = sect.DIRECT_CODE
			            AND tnmummsctnsrvydta.TRACK = sect.TRACK
			WHERE 1 = 1
                AND sect.STRTPT <= tnmummsctnsrvydta.STRTPT
                AND sect.ENDPT >= tnmummsctnsrvydta.ENDPT
                AND rnum = 1
        ]]>
    </select>

    <select id="mummSctnSrvyDtaDAO.mummSctnSrvyDtaSctnList"
            parameterClass="mummSctnSrvyDtaVO" resultClass="mummSctnSrvyDtaVO">
        <![CDATA[
            /* mummSctnSrvyDtaDAO.mummSctnSrvyDtaSctnList */
            /* JOY_통합정보조회 - 조사정보 : 선택한 섹션의 정보 조회 */
            SELECT
                sect.OBJECT_ID
                , tnsmdtagnlsttus.SRVY_YEAR
                , tnsmdtagnlsttus.SRVY_MT
                , tnsmdtagnlsttus.ROUTE_CODE AS ROAD_NO
                , tnsmdtagnlsttus.ROUTE_CODE::int AS ROAD_NO_VAL
                , road.ROAD_NAME AS ROAD_NM
                , CASE tnsmdtagnlsttus.DIRECT_CODE
                    WHEN 'S' THEN '상행'
                    WHEN 'E' THEN '하행'
                    WHEN 'SE' THEN '상하행'
                    ELSE ''
                END AS DIRECT_NM
                , tnsmdtagnlsttus.TRACK
                , ( SELECT code.CODE_NM FROM TC_CODE code
                    WHERE code.CODE_VAL = road.ROAD_GRAD ) AS ROAD_GRAD
                , tnsmdtagnlsttus.STRTPT
                , tnsmdtagnlsttus.ENDPT
                , ( SELECT tcdept.LOWEST_DEPT_NM FROM TC_DEPT tcdept
                    WHERE tcdept.DEPT_CODE = sect.DEPT_CODE ) AS DEPT_CODE
                , ( SELECT tccode.CODE_NM FROM TC_CODE tccode
                    WHERE tccode.CODE_VAL = sect.CELL_TYPE ) AS CELL_TYPE
                , ( SELECT tccode.CODE_NM FROM TC_CODE tccode
                    WHERE tccode.CODE_VAL = sect.VMTC_GRAD ) AS VMTC_GRAD
                , ( SELECT n3a.NAME FROM N3A_G0100000 n3a
                    WHERE SUBSTR(n3a.BJCD, 1, 5) = sect.ADM_CODE ) AS ADM_CODE
                , tnsmdtagnlsttus.AC_LOW
                , tnsmdtagnlsttus.AC_MED
                , tnsmdtagnlsttus.AC_HI
                , tnsmdtagnlsttus.BLOCK_CR_LOW
                , tnsmdtagnlsttus.BLOCK_CR_MED
                , tnsmdtagnlsttus.BLOCK_CR_HI
                , tnsmdtagnlsttus.LC_LOW
                , tnsmdtagnlsttus.LC_MED
                , tnsmdtagnlsttus.LC_HI
                , tnsmdtagnlsttus.TC_LOW
                , tnsmdtagnlsttus.TC_MED
                , tnsmdtagnlsttus.TC_HI
                , tnsmdtagnlsttus.PTCHG_CR
                , tnsmdtagnlsttus.POTHOLE_CR
                , tnsmdtagnlsttus.RD_VAL
                , tnsmdtagnlsttus.IRI_VAL
            FROM
                TN_SM_DTA_GNL_STTUS tnsmdtagnlsttus
                LEFT OUTER JOIN TN_ROUTE_INFO road
                             ON road.ROAD_NO = tnsmdtagnlsttus.ROUTE_CODE
                , CELL_SECT sect
            WHERE 1=1
                AND tnsmdtagnlsttus.DIRECT_CODE = sect.DIRECT_CODE
                AND tnsmdtagnlsttus.TRACK = sect.TRACK
                AND tnsmdtagnlsttus.ROUTE_CODE = sect.ROUTE_CODE
                AND tnsmdtagnlsttus.STRTPT = sect.STRTPT
                AND tnsmdtagnlsttus.ENDPT = sect.ENDPT
                AND tnsmdtagnlsttus.USE_AT = 'Y'
                AND TNSMDTAGNLSTTUS.DELETE_AT = 'N'
                AND TNSMDTAGNLSTTUS.LAST_DTA_AT = 'Y'
                AND sect.CELL_ID IN
        ]]>

        <iterate open="(" close=")" property="CELL_ID_ARR" conjunction=",">
            <![CDATA[
                #CELL_ID_ARR[]#
            ]]>
        </iterate>

        <![CDATA[
            ORDER BY tnsmdtagnlsttus.STRTPT
        ]]>
    </select>

    <select id="mummSctnSrvyDtaDAO.mummSctnSrvyDtaCellList"
            parameterClass="mummSctnSrvyDtaVO" resultClass="mummSctnSrvyDtaVO">
        <![CDATA[
            /* mummSctnSrvyDtaDAO.mummSctnSrvyDtaCellList */
            /* JOY_통합정보조회 - 조사정보 : 선택한 셀의 정보 조회 */
            SELECT
			    cell.CELL_ID
			    , tnmummsctnsrvydta.SRVY_YEAR
			    , tnmummsctnsrvydta.SRVY_MT
			    , tnmummsctnsrvydta.ROUTE_CODE AS ROAD_NO
			    , tnmummsctnsrvydta.ROUTE_CODE AS ROAD_NO_VAL
                , road.ROAD_NAME AS ROAD_NM
                , CASE tnmummsctnsrvydta.DIRECT_CODE
                    WHEN 'S' THEN '상행'
                    WHEN 'E' THEN '하행'
                    WHEN 'SE' THEN '상하행'
                    ELSE ''
                END AS DIRECT_NM
                , tnmummsctnsrvydta.TRACK
                , ( SELECT code.CODE_NM FROM TC_CODE code
                    WHERE code.CODE_VAL = road.ROAD_GRAD ) AS ROAD_GRAD
                , tnmummsctnsrvydta.STRTPT
                , tnmummsctnsrvydta.ENDPT
                , ( SELECT tcdept.LOWEST_DEPT_NM FROM TC_DEPT tcdept
                    WHERE tcdept.DEPT_CODE = cell.DEPT_CODE::text ) AS DEPT_CODE
                , ( SELECT tccode.CODE_NM FROM TC_CODE tccode
                    WHERE tccode.CODE_VAL = cell.CELL_TYPE ) AS CELL_TYPE
                , ( SELECT tccode.CODE_NM FROM TC_CODE tccode
                    WHERE tccode.CODE_VAL = cell.VMTC_GRAD ) AS VMTC_GRAD
                , ( SELECT n3a.NAME FROM N3A_G0100000 n3a
                    WHERE SUBSTR(n3a.BJCD, 1, 5) = cell.ADM_CODE ) AS ADM_CODE
                , tnmummsctnsrvydta.AC_LOW
                , tnmummsctnsrvydta.BLOCK_CR_LOW
                , tnmummsctnsrvydta.LC_LOW
                , tnmummsctnsrvydta.PTCHG_CR
                , tnmummsctnsrvydta.POTHOLE_CR
                , tnmummsctnsrvydta.RD_VAL
                , tnmummsctnsrvydta.IRI_VAL
            FROM CELL_10 cell
            LEFT OUTER JOIN TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
                         ON tnmummsctnsrvydta.ROUTE_CODE = cell.ROUTE_CODE
                        AND tnmummsctnsrvydta.DIRECT_CODE = cell.DIRECT_CODE
                        AND tnmummsctnsrvydta.TRACK = cell.TRACK
                        AND tnmummsctnsrvydta.STRTPT = cell.STRTPT
                        AND tnmummsctnsrvydta.ENDPT = cell.ENDPT
            LEFT OUTER JOIN TN_ROUTE_INFO road
		                 ON road.ROAD_NO = tnmummsctnsrvydta.ROUTE_CODE
			WHERE 1=1
			    AND tnmummsctnsrvydta.USE_AT = 'Y'
			    AND tnmummsctnsrvydta.DELETE_AT = 'N'
			    AND tnmummsctnsrvydta.LAST_DTA_AT = 'Y'
			    AND cell.CELL_ID IN
        ]]>

        <iterate open="(" close=")" property="CELL_ID_ARR" conjunction=",">
            <![CDATA[
                #CELL_ID_ARR[]#
            ]]>
        </iterate>

        <![CDATA[
            ORDER BY tnmummsctnsrvydta.STRTPT
        ]]>

    </select>

    <select id="mummSctnSrvyDtaDAO.mummSctnSrvyDtaCellInfo"
            parameterClass="mummSctnSrvyDtaVO" resultClass="mummSctnSrvyDtaVO">
        <![CDATA[
            /* mummSctnSrvyDtaDAO.mummSctnSrvyDtaCellInfo */
            /* JOY_통합정보조회 - 조사정보 : 선택한 섹션의 셀 정보 조회 (셀 ID 조회) */
            SELECT
			    cell.CELL_ID
			    , mumm.ROUTE_CODE
			    , mumm.DIRECT_CODE
			    , mumm.TRACK
			    , mumm.STRTPT
			    , mumm.ENDPT
			    , mumm.RDSRFC_IMG_FILE_NM_1
                , mumm.RDSRFC_IMG_FILE_NM_2
			FROM (
			    SELECT
                    mumm.*
				FROM (
				    SELECT *
				    FROM CELL_SECT
				    WHERE CELL_ID = #CELL_ID#
				) SECT
				LEFT OUTER JOIN TN_MUMM_SCTN_SRVY_DTA mumm
				             ON SECT.ROUTE_CODE = mumm.ROUTE_CODE
				            AND SECT.DIRECT_CODE = mumm.DIRECT_CODE
				            AND SECT.TRACK = mumm.TRACK
				            AND SECT.STRTPT <= mumm.STRTPT
				            AND SECT.ENDPT >= mumm.ENDPT
				WHERE mumm.USE_AT = 'Y'
				    AND mumm.DELETE_AT = 'N'
				    AND mumm.LAST_DTA_AT = 'Y'
		    ) mumm
		    INNER JOIN CELL_10 cell
				    ON cell.ROUTE_CODE = mumm.ROUTE_CODE
				   AND cell.DIRECT_CODE = mumm.DIRECT_CODE
				   AND cell.TRACK = mumm.TRACK
				   AND cell.STRTPT = mumm.STRTPT
				   AND cell.ENDPT = mumm.ENDPT
			ORDER BY cell.STRTPT
        ]]>

    </select>

    <select id="mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaListByItgrtn"
            parameterClass="mummSctnSrvyDtaVO" resultClass="mummSctnSrvyDtaVO">
        <![CDATA[
            /* mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaListByItgrtn */
            /* JOY_통합정보조회 - 상태평가 : 조사정보 리스트 조회 */
            SELECT * FROM (
                SELECT ROW_NUMBER() OVER(ORDER BY cell.CELL_ID ASC) AS RN
                    , tnmummsctnsrvydta.*
                    , cell.CELL_ID /* CELL_10.셀_아이디 */
                    , cell.ROAD_GRAD /* 노선정보.노선_등급 */
                    , tnrouteinfo.ROAD_NAME /* 노선정보.노선명 */
                    , tnmummsctnsrvydta.ROUTE_CODE::int ROAD_NO_VAL
                FROM TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
                LEFT OUTER JOIN CELL_10 cell
                        ON tnmummsctnsrvydta.ROUTE_CODE = cell.ROUTE_CODE
                       AND tnmummsctnsrvydta.STRTPT = cell.STRTPT
                       AND tnmummsctnsrvydta.ENDPT = cell.ENDPT
                       AND tnmummsctnsrvydta.DIRECT_CODE = cell.DIRECT_CODE
                       AND tnmummsctnsrvydta.TRACK = cell.TRACK
                LEFT OUTER JOIN TN_ROUTE_INFO tnrouteinfo
                        ON tnrouteinfo.ROAD_NO = tnmummsctnsrvydta.ROUTE_CODE
                WHERE 1=1
                  AND USE_AT = 'Y'
                  AND DELETE_AT = 'N'
                  AND LAST_DTA_AT = 'Y'
                  AND CELL.CELL_ID IN
        ]]>

        <iterate open="(" close=")" property="CELL_ID_ARR" conjunction=",">
            <![CDATA[
                #CELL_ID_ARR[]#
            ]]>
        </iterate>
        <![CDATA[
            )as sub_MummSctnSrvyDta
            WHERE 1=1
        ]]>

        <isEqual prepend=" " property="usePage" compareValue="true">
            <![CDATA[
                AND rn BETWEEN #firstIndex# + 1 AND #firstIndex# + #recordCountPerPage#
            ]]>
        </isEqual>

    </select>

    <select id="mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaListByItgrtnCnt"
            parameterClass="mummSctnSrvyDtaVO" resultClass="int">
        <![CDATA[
            /* mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaListByItgrtnCnt */
            /* JOY_통합정보조회 - 상태평가 : 조사정보 리스트 개수 조회 */
            SELECT COUNT(*) FROM (
                SELECT
                    TNMUMMSCTNSRVYDTA.*
                FROM TN_MUMM_SCTN_SRVY_DTA TNMUMMSCTNSRVYDTA
                LEFT OUTER JOIN CELL_10 CELL
                        ON TNMUMMSCTNSRVYDTA.ROUTE_CODE = CELL.ROUTE_CODE
                       AND TNMUMMSCTNSRVYDTA.STRTPT = CELL.STRTPT
                       AND TNMUMMSCTNSRVYDTA.ENDPT = CELL.ENDPT
                       AND TNMUMMSCTNSRVYDTA.DIRECT_CODE = CELL.DIRECT_CODE
                       AND TNMUMMSCTNSRVYDTA.TRACK = CELL.TRACK
                LEFT OUTER JOIN TN_ROUTE_INFO TNROUTEINFO
                        ON TNROUTEINFO.ROAD_NO = TNMUMMSCTNSRVYDTA.ROUTE_CODE
                WHERE 1=1
                  AND USE_AT = 'Y'
                  AND DELETE_AT = 'N'
                  AND LAST_DTA_AT = 'Y'
                  AND CELL.CELL_ID IN
        ]]>

        <iterate open="(" close=")" property="CELL_ID_ARR" conjunction=",">
            <![CDATA[
                #CELL_ID_ARR[]#
            ]]>
        </iterate>

        <![CDATA[
            )as sub_MummSctnSrvyDta
            WHERE 1=1
        ]]>
    </select>

    <select id="mummSctnSrvyDtaDAO.mummRoutCntStatsGPCI"
            parameterClass="mummSctnSrvyDtaVO" resultClass="mummSctnSrvyDtaVO">
        <![CDATA[
            /* mummSctnSrvyDtaDAO.mummRoutCntStatsGPCI */
            /* JOY_ 통계 > 포장상태평가 > 노선별통계 */
            SELECT
			    tnrouteinfo.ROAD_GRAD
			    , tnrouteinfo.ROAD_NO AS ROUTE_CODE
			    , tnrouteinfo.ROAD_NAME AS ROAD_NM
			    , COALESCE(ROUND(AVG(tnmummsctnsrvydta.GPCI)::numeric, 2), 0) AS GPCI
			    , COALESCE(ROUND(AVG(tnmummsctnsrvydta.DMG_CUZ_VMTC)::numeric, 2), 0) AS DMG_CUZ_VMTC
                , COALESCE(ROUND(AVG(tnmummsctnsrvydta.DMG_CUZ_CLMT)::numeric, 2), 0) AS DMG_CUZ_CLMT
                , COALESCE(ROUND(AVG(tnmummsctnsrvydta.DMG_CUZ_ETC)::numeric, 2), 0) AS DMG_CUZ_ETC
			FROM
			    TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
			RIGHT OUTER JOIN TN_ROUTE_INFO tnrouteinfo
			    ON tnrouteinfo.ROAD_NO = tnmummsctnsrvydta.ROUTE_CODE
			    AND tnmummsctnsrvydta.USE_AT = 'Y'
                AND tnmummsctnsrvydta.DELETE_AT = 'N'
                AND tnmummsctnsrvydta.LAST_DTA_AT = 'Y'
			WHERE 1=1
			    AND tnrouteinfo.ROAD_NAME IS NOT NULL
		]]>

		<isNotEmpty property="ROAD_GRAD"><![CDATA[AND tnrouteinfo.ROAD_GRAD = #ROAD_GRAD#]]></isNotEmpty>
		<isNotEmpty property="ROUTE_CODE"><![CDATA[AND tnrouteinfo.ROAD_NO = #ROUTE_CODE#]]></isNotEmpty>

		<![CDATA[
			GROUP BY tnrouteinfo.ROAD_GRAD, tnrouteinfo.ROAD_NO, tnrouteinfo.ROAD_NAME
			ORDER BY tnrouteinfo.ROAD_GRAD, tnrouteinfo.ROAD_NO
        ]]>
    </select>

    <select id="mummSctnSrvyDtaDAO.mummRoutCntStatsExcel"
            parameterClass="mummSctnSrvyDtaVO" resultClass="hashMap">
        <![CDATA[
            /* mummSctnSrvyDtaDAO.mummRoutCntStatsExcel */
            /* JOY_ 통계 > 포장상태평가 > 노선별통계 */
            SELECT
                tnrouteinfo.ROAD_GRAD
                , tnrouteinfo.ROAD_NO AS ROUTE_CODE
                , tnrouteinfo.ROAD_NAME AS ROAD_NM
                , COALESCE(ROUND(AVG(tnmummsctnsrvydta.GPCI)::numeric, 2), 0) AS GPCI
                , COALESCE(ROUND(AVG(tnmummsctnsrvydta.DMG_CUZ_VMTC)::numeric, 2), 0) AS DMG_CUZ_VMTC
                , COALESCE(ROUND(AVG(tnmummsctnsrvydta.DMG_CUZ_CLMT)::numeric, 2), 0) AS DMG_CUZ_CLMT
                , COALESCE(ROUND(AVG(tnmummsctnsrvydta.DMG_CUZ_ETC)::numeric, 2), 0) AS DMG_CUZ_ETC
            FROM
                TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
            RIGHT OUTER JOIN TN_ROUTE_INFO tnrouteinfo
                ON tnrouteinfo.ROAD_NO = tnmummsctnsrvydta.ROUTE_CODE
                AND tnmummsctnsrvydta.USE_AT = 'Y'
                AND tnmummsctnsrvydta.DELETE_AT = 'N'
                AND tnmummsctnsrvydta.LAST_DTA_AT = 'Y'
            WHERE 1=1
                AND tnrouteinfo.ROAD_NAME IS NOT NULL
        ]]>

        <isNotEmpty property="ROAD_GRAD"><![CDATA[AND tnrouteinfo.ROAD_GRAD = #ROAD_GRAD#]]></isNotEmpty>
        <isNotEmpty property="ROUTE_CODE"><![CDATA[AND tnrouteinfo.ROAD_NO = #ROUTE_CODE#]]></isNotEmpty>

        <![CDATA[
            GROUP BY tnrouteinfo.ROAD_GRAD, tnrouteinfo.ROAD_NO, tnrouteinfo.ROAD_NAME
            ORDER BY tnrouteinfo.ROAD_GRAD, tnrouteinfo.ROAD_NO
        ]]>
    </select>

    <select id="mummSctnSrvyDtaDAO.mummDeptCntStats"
            parameterClass="mummSctnSrvyDtaVO" resultClass="mummSctnSrvyDtaVO">
        <![CDATA[
            /* mummSctnSrvyDtaDAO.mummDeptCntStats */
            /* JOY_ 통계 > 포장상태평가 > 관리기관별통계 */
            SELECT
			    dept.DEPT_CODE
			    , dept.LOWEST_DEPT_NM AS DEPT_NM
			    , COALESCE(mumm.GPCI, 0) AS GPCI
			    , COALESCE(mumm.DMG_CUZ_CLMT, 0) AS DMG_CUZ_CLMT
			    , COALESCE(mumm.DMG_CUZ_VMTC, 0) AS DMG_CUZ_VMTC
			    , COALESCE(mumm.DMG_CUZ_ETC, 0) AS DMG_CUZ_ETC
			FROM (
			        SELECT dept.*
			        FROM TC_DEPT dept
			        WHERE dept.DEPT_CODE IN ('6411399','6411799')
			    ) dept
			LEFT OUTER jOIN (
			        SELECT
			            tb.DEPT_CODE
			            , ROUND(AVG(tb.GPCI)::numeric, 2) AS GPCI
			            , ROUND(AVG(tb.DMG_CUZ_CLMT)::numeric, 2) AS DMG_CUZ_CLMT
			            , ROUND(AVG(tb.DMG_CUZ_VMTC)::numeric, 2) AS DMG_CUZ_VMTC
			            , ROUND(AVG(tb.DMG_CUZ_ETC)::numeric, 2) AS DMG_CUZ_ETC
			        FROM (
			            SELECT
			                cell10.DEPT_CODE
			                , tnmummsctnsrvydta.*
			            FROM TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
			            LEFT OUTER JOIN CELL_10 cell10
			                ON cell10.ROUTE_CODE = tnmummsctnsrvydta.ROUTE_CODE
			               AND cell10.DIRECT_CODE = tnmummsctnsrvydta.DIRECT_CODE
			               AND cell10.TRACK = tnmummsctnsrvydta.TRACK
			               AND cell10.STRTPT = tnmummsctnsrvydta.STRTPT
			               AND cell10.ENDPT = tnmummsctnsrvydta.ENDPT
			            WHERE 1=1
			                AND tnmummsctnsrvydta.USE_AT = 'Y'
			                AND tnmummsctnsrvydta.DELETE_AT = 'N'
			                AND tnmummsctnsrvydta.LAST_DTA_AT = 'Y'
			        ) tb
			        WHERE 1=1
			            AND tb.DEPT_CODE IS NOT NULL
			        GROUP BY tb.DEPT_CODE
			    ) mumm
			    ON dept.DEPT_CODE = mumm.DEPT_CODE::text
			WHERE 1=1
		]]>
		<isNotEmpty property="DEPT_CODE"><![CDATA[ AND dept.DEPT_CODE = #DEPT_CODE# ]]></isNotEmpty>

    </select>

    <select id="mummSctnSrvyDtaDAO.mummDeptCntStatsExcel"
            parameterClass="mummSctnSrvyDtaVO" resultClass="hashMap">
        <![CDATA[
            /* mummSctnSrvyDtaDAO.mummDeptCntStatsExcel */
            /* JOY_ 통계 > 포장상태평가 > 관리기관별통계 */
            SELECT
                dept.DEPT_CODE
                , dept.LOWEST_DEPT_NM AS DEPT_NM
                , COALESCE(mumm.GPCI, 0) AS GPCI
                , COALESCE(mumm.DMG_CUZ_CLMT, 0) AS DMG_CUZ_CLMT
                , COALESCE(mumm.DMG_CUZ_VMTC, 0) AS DMG_CUZ_VMTC
                , COALESCE(mumm.DMG_CUZ_ETC, 0) AS DMG_CUZ_ETC
            FROM (
                    SELECT dept.*
                    FROM TC_DEPT dept
                    WHERE dept.DEPT_CODE IN ('6411399','6411799')
                ) dept
            LEFT OUTER jOIN (
                    SELECT
                        tb.DEPT_CODE
                        , ROUND(AVG(tb.GPCI)::numeric, 2) AS GPCI
                        , ROUND(AVG(tb.DMG_CUZ_CLMT)::numeric, 2) AS DMG_CUZ_CLMT
                        , ROUND(AVG(tb.DMG_CUZ_VMTC)::numeric, 2) AS DMG_CUZ_VMTC
                        , ROUND(AVG(tb.DMG_CUZ_ETC)::numeric, 2) AS DMG_CUZ_ETC
                    FROM (
                        SELECT
                            cell10.DEPT_CODE
                            , tnmummsctnsrvydta.*
                        FROM TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
                        LEFT OUTER JOIN CELL_10 cell10
                            ON cell10.ROUTE_CODE = tnmummsctnsrvydta.ROUTE_CODE
                           AND cell10.DIRECT_CODE = tnmummsctnsrvydta.DIRECT_CODE
                           AND cell10.TRACK = tnmummsctnsrvydta.TRACK
                           AND cell10.STRTPT = tnmummsctnsrvydta.STRTPT
                           AND cell10.ENDPT = tnmummsctnsrvydta.ENDPT
                        WHERE 1=1
                            AND tnmummsctnsrvydta.USE_AT = 'Y'
                            AND tnmummsctnsrvydta.DELETE_AT = 'N'
                            AND tnmummsctnsrvydta.LAST_DTA_AT = 'Y'
                    ) tb
                    WHERE 1=1
                        AND tb.DEPT_CODE IS NOT NULL
                    GROUP BY tb.DEPT_CODE
                ) mumm
                ON dept.DEPT_CODE = mumm.DEPT_CODE::text
            WHERE 1=1
        ]]>
        <isNotEmpty property="DEPT_CODE"><![CDATA[ AND dept.DEPT_CODE = #DEPT_CODE# ]]></isNotEmpty>

    </select>

	<resultMap id="mapMummSctnSrvyDtaVO" class="mummSctnSrvyDtaVO">
		 <result property="PREDCT_YEAR" column="PREDCT_YEAR" /><!-- COMMENTS -->
		 <result property="PREDCT_MT" column="PREDCT_MT" /><!-- COMMENTS -->
		 <result property="AC_IDX" column="AC_IDX" /><!-- COMMENTS -->
		 <result property="BC_IDX" column="BC_IDX" /><!-- COMMENTS -->
		 <result property="LC_IDX" column="LC_IDX" /><!-- COMMENTS -->
		 <result property="TC_IDX" column="TC_IDX" /><!-- COMMENTS -->
		 <result property="RD_IDX" column="RD_IDX" /><!-- COMMENTS -->
		 <result property="PTCHG_IDX" column="PTCHG_IDX" /><!-- COMMENTS -->
		 <result property="POTHOLE_IDX" column="POTHOLE_IDX" /><!-- COMMENTS -->
		 <result property="SCR" column="SCR" /><!-- COMMENTS -->
		 <result property="RCI" column="RCI" /><!-- COMMENTS -->
		 <result property="GPCI" column="GPCI" /><!-- COMMENTS -->
		 <result property="CNTL_DFECT" column="CNTL_DFECT" /><!-- COMMENTS -->
		 <result property="DMG_CUZ_CLMT" column="DMG_CUZ_CLMT" /><!-- COMMENTS -->
		 <result property="DMG_CUZ_VMTC" column="DMG_CUZ_VMTC" /><!-- COMMENTS -->
		 <result property="DMG_CUZ_ETC" column="DMG_CUZ_ETC" /><!-- COMMENTS -->
		 <result property="RPAIR_TA_AT" column="RPAIR_TA_AT" /><!-- COMMENTS -->

	</resultMap>

	<!-- 입력한 조사자료 엑셀 데이터를 시스템에 반영한다. -->
	<parameterMap id="prc_clac_predct_evl" class="java.util.Map">
		<parameter property="p_CELL_IDS" javaType="java.lang.String"
			jdbcType="VARCHAR" />
		<parameter property="p_PREDCT_CEN" javaType="java.lang.String"
			jdbcType="VARCHAR" />
		<parameter property="p_MODE" javaType="java.lang.String"
			jdbcType="VARCHAR" />
	</parameterMap>
	<select id="mummSctnSrvyDtaDAO.PRC_CLAC_PREDCT_EVL"
		parameterMap="prc_clac_predct_evl" resultMap="mapMummSctnSrvyDtaVO">
		select predct_year, predct_mt, ac_idx, bc_idx, lc_idx, tc_idx, rd_idx, ptchg_idx, pothole_idx, scr, rci, gpci, cntl_dfect, dmg_cuz_clmt, dmg_cuz_vmtc, dmg_cuz_etc, rpair_ta_at from PRC_CLAC_PREDCT_EVL(?::text,?::text,?::text)
	</select>

    <select id="mummSctnSrvyDtaDAO.integratedListExcel"
            parameterClass="mummSctnSrvyDtaVO" resultClass="hashMap">
        <![CDATA[
            /* mummSctnSrvyDtaDAO.integratedListExcel */
            /* JOY_통합정보조회 - 상태평가 : 엑셀저장 */
            SELECT *
            FROM (
                SELECT ROW_NUMBER() OVER(ORDER BY cell.CELL_ID ASC) AS RN
                , (SELECT CODE_NM FROM TC_CODE WHERE cell.ROAD_GRAD = TC_CODE.CODE_VAL )  ROAD_GRAD
                , tnmummsctnsrvydta.ROUTE_CODE
                , tnrouteinfo.ROAD_NAME /* 노선정보.노선명 */
                , CASE
                    WHEN tnmummsctnsrvydta.DIRECT_CODE = 'S' THEN '상행'
                    WHEN tnmummsctnsrvydta.DIRECT_CODE = 'E' THEN '하행'
                    ELSE '' 
                  END as DIRECT_CODE
                , tnmummsctnsrvydta.TRACK
                , to_char(tnmummsctnsrvydta.STRTPT / 1000, 'FM999990.00') STRTPT
                , to_char(tnmummsctnsrvydta.ENDPT / 1000, 'FM999990.00') ENDPT
                , tnmummsctnsrvydta.TRTS_BAC_CR
                , tnmummsctnsrvydta.BLOCK_CR
                , tnmummsctnsrvydta.VRTCAL_CR
                , tnmummsctnsrvydta.HRZNTAL_CR
                , tnmummsctnsrvydta.PTCHG_CR
                , tnmummsctnsrvydta.POTHOLE_CR
                , tnmummsctnsrvydta.RD_VAL
                , tnmummsctnsrvydta.IRI_VAL
                , tnmummsctnsrvydta.AC_IDX
                , tnmummsctnsrvydta.BC_IDX
                , tnmummsctnsrvydta.LC_IDX
                , tnmummsctnsrvydta.TC_IDX
                , tnmummsctnsrvydta.PTCHG_IDX
                , tnmummsctnsrvydta.POTHOLE_IDX
                , tnmummsctnsrvydta.RD_IDX
                , tnmummsctnsrvydta.RCI
                , tnmummsctnsrvydta.SCR
                , tnmummsctnsrvydta.GPCI
                , tnmummsctnsrvydta.CNTL_DFECT
                , ( SELECT tccode.CN FROM TC_CODE tccode WHERE tccode.CODE_VAL = tnmummsctnsrvydta.CNTL_DFECT ) CNTL_DFECT_NM
                , tnmummsctnsrvydta.DMG_CUZ_CLMT
                , tnmummsctnsrvydta.DMG_CUZ_VMTC
                , tnmummsctnsrvydta.DMG_CUZ_ETC
                , CASE
                    WHEN tnmummsctnsrvydta.DMG_CUZ_CLMT = tnmummsctnsrvydta.DMG_CUZ_VMTC
                        AND tnmummsctnsrvydta.DMG_CUZ_VMTC = tnmummsctnsrvydta.DMG_CUZ_ETC
                    THEN
                        CASE
                            WHEN tnmummsctnsrvydta.DMG_CUZ_ETC = 0 THEN '파손없음'
                            ELSE '교통량/하부불량, 기후, 기타'
                        END
                    WHEN tnmummsctnsrvydta.DMG_CUZ_CLMT > tnmummsctnsrvydta.DMG_CUZ_VMTC
                         AND tnmummsctnsrvydta.DMG_CUZ_CLMT > tnmummsctnsrvydta.DMG_CUZ_ETC
                    THEN '기후'
                    WHEN tnmummsctnsrvydta.DMG_CUZ_VMTC > tnmummsctnsrvydta.DMG_CUZ_CLMT
                         AND tnmummsctnsrvydta.DMG_CUZ_VMTC > tnmummsctnsrvydta.DMG_CUZ_ETC
                    THEN '교통량/하부불량'
                    WHEN tnmummsctnsrvydta.DMG_CUZ_ETC > tnmummsctnsrvydta.DMG_CUZ_CLMT
                         AND tnmummsctnsrvydta.DMG_CUZ_ETC > tnmummsctnsrvydta.DMG_CUZ_VMTC
                    THEN '기타'
                    WHEN tnmummsctnsrvydta.DMG_CUZ_CLMT = tnmummsctnsrvydta.DMG_CUZ_VMTC
                        AND tnmummsctnsrvydta.DMG_CUZ_CLMT > tnmummsctnsrvydta.DMG_CUZ_ETC
                    THEN '교통량/하부불량, 기후'
                    WHEN tnmummsctnsrvydta.DMG_CUZ_CLMT = tnmummsctnsrvydta.DMG_CUZ_ETC
                        AND tnmummsctnsrvydta.DMG_CUZ_CLMT > tnmummsctnsrvydta.DMG_CUZ_VMTC
                    THEN '기후, 기타'
                    WHEN tnmummsctnsrvydta.DMG_CUZ_VMTC = tnmummsctnsrvydta.DMG_CUZ_ETC
                        AND tnmummsctnsrvydta.DMG_CUZ_VMTC > tnmummsctnsrvydta.DMG_CUZ_CLMT
                    THEN '교통량/하부불량, 기타'
                    ELSE ''
                  END DMG_CUZ /*파손원인*/
                , tnmummsctnsrvydta.CREAT_DT
                , tnmummsctnsrvydta.UPDT_DT
                , CASE
                    WHEN tnmummsctnsrvydta.UPDT_DT is NULL
                        THEN TO_CHAR( tnmummsctnsrvydta.CREAT_DT, 'YYYY.MM' )
                    ELSE TO_CHAR( tnmummsctnsrvydta.UPDT_DT, 'YYYY.MM' )
                  END YEAR_MT
                /* 조사자료 */
                , tnmummsctnsrvydta.SRVY_YEAR
                , tnmummsctnsrvydta.SRVY_MT
				, tnmummsctnsrvydta.SRVY_NM
                , tnmummsctnsrvydta.SRVY_NO
                , FN_GET_GPCI_INTEG( tnmummsctnsrvydta.ROUTE_CODE, tnmummsctnsrvydta.DIRECT_CODE, tnmummsctnsrvydta.TRACK
                             , tnmummsctnsrvydta.STRTPT, tnmummsctnsrvydta.ENDPT, 0) PREDCT0
                , FN_GET_GPCI_INTEG( tnmummsctnsrvydta.ROUTE_CODE, tnmummsctnsrvydta.DIRECT_CODE, tnmummsctnsrvydta.TRACK
                             , tnmummsctnsrvydta.STRTPT, tnmummsctnsrvydta.ENDPT, 1) PREDCT1
                , FN_GET_GPCI_INTEG( tnmummsctnsrvydta.ROUTE_CODE, tnmummsctnsrvydta.DIRECT_CODE, tnmummsctnsrvydta.TRACK
                             , tnmummsctnsrvydta.STRTPT, tnmummsctnsrvydta.ENDPT, 2) PREDCT2
                , FN_GET_GPCI_INTEG( tnmummsctnsrvydta.ROUTE_CODE, tnmummsctnsrvydta.DIRECT_CODE, tnmummsctnsrvydta.TRACK
                             , tnmummsctnsrvydta.STRTPT, tnmummsctnsrvydta.ENDPT, 3) PREDCT3
                , FN_GET_GPCI_INTEG( tnmummsctnsrvydta.ROUTE_CODE, tnmummsctnsrvydta.DIRECT_CODE, tnmummsctnsrvydta.TRACK
                             , tnmummsctnsrvydta.STRTPT, tnmummsctnsrvydta.ENDPT, 4) PREDCT4
                , FN_GET_GPCI_INTEG( tnmummsctnsrvydta.ROUTE_CODE, tnmummsctnsrvydta.DIRECT_CODE, tnmummsctnsrvydta.TRACK
                             , tnmummsctnsrvydta.STRTPT, tnmummsctnsrvydta.ENDPT, 5) PREDCT5
                , FN_GET_GPCI_INTEG( tnmummsctnsrvydta.ROUTE_CODE, tnmummsctnsrvydta.DIRECT_CODE, tnmummsctnsrvydta.TRACK
                             , tnmummsctnsrvydta.STRTPT, tnmummsctnsrvydta.ENDPT, 6) PREDCT6
                , FN_GET_GPCI_INTEG( tnmummsctnsrvydta.ROUTE_CODE, tnmummsctnsrvydta.DIRECT_CODE, tnmummsctnsrvydta.TRACK
                             , tnmummsctnsrvydta.STRTPT, tnmummsctnsrvydta.ENDPT, 7) PREDCT7
                , FN_GET_GPCI_INTEG( tnmummsctnsrvydta.ROUTE_CODE, tnmummsctnsrvydta.DIRECT_CODE, tnmummsctnsrvydta.TRACK
                             , tnmummsctnsrvydta.STRTPT, tnmummsctnsrvydta.ENDPT, 8) PREDCT8
                , FN_GET_GPCI_INTEG( tnmummsctnsrvydta.ROUTE_CODE, tnmummsctnsrvydta.DIRECT_CODE, tnmummsctnsrvydta.TRACK
                             , tnmummsctnsrvydta.STRTPT, tnmummsctnsrvydta.ENDPT, 9) PREDCT9
                , FN_GET_GPCI_INTEG( tnmummsctnsrvydta.ROUTE_CODE, tnmummsctnsrvydta.DIRECT_CODE, tnmummsctnsrvydta.TRACK
                             , tnmummsctnsrvydta.STRTPT, tnmummsctnsrvydta.ENDPT, 10) PREDCT10

                FROM TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
                LEFT OUTER JOIN CELL_10 cell
                        ON tnmummsctnsrvydta.ROUTE_CODE = cell.ROUTE_CODE
                       AND tnmummsctnsrvydta.STRTPT = cell.STRTPT
                       AND tnmummsctnsrvydta.ENDPT = cell.ENDPT
                       AND tnmummsctnsrvydta.DIRECT_CODE = cell.DIRECT_CODE
                       AND tnmummsctnsrvydta.TRACK = cell.TRACK
                LEFT OUTER JOIN TN_ROUTE_INFO tnrouteinfo
                        ON tnrouteinfo.ROAD_NO = tnmummsctnsrvydta.ROUTE_CODE
                WHERE 1=1
                  AND USE_AT = 'Y'
                  AND DELETE_AT = 'N'
                  AND LAST_DTA_AT = 'Y'
                  AND CELL_ID IN
        ]]>

        <iterate open="(" close=")" property="CELL_ID_ARR" conjunction=",">
            <![CDATA[
                #CELL_ID_ARR[]#
            ]]>
        </iterate>
        <![CDATA[
            )as sub_integrated
            WHERE 1=1
        ]]>

    </select>

    <select id="mummSctnSrvyDtaDAO.selectMummSctnSrvyDtaByCell" parameterClass="mummSctnSrvyDtaVO" resultClass="mummSctnSrvyDtaVO">
    <![CDATA[
        /* mummSctnSrvyDtaVO.selectMummSctnSrvyDtaByCell */
        SELECT
            tnmummsctnsrvydta.DTA_NO /* 최소_구간_조사_자료.자료_번호 */
            , tnmummsctnsrvydta.SRVY_NO /* 최소_구간_조사_자료.조사_번호 */
            , tnmummsctnsrvydta.SRVY_YEAR /* 최소_구간_조사_자료.조사_년도 */
            , tnmummsctnsrvydta.ROUTE_CODE /* 최소_구간_조사_자료.노선_코드 */
            , tnmummsctnsrvydta.DIRECT_CODE /* 최소_구간_조사_자료.행선_코드 */
            , tnmummsctnsrvydta.TRACK /* 최소_구간_조사_자료.차로 */
            , tnmummsctnsrvydta.STRTPT /* 최소_구간_조사_자료.시점 */
            , tnmummsctnsrvydta.ENDPT /* 최소_구간_조사_자료.종점 */
            , tnmummsctnsrvydta.IRI_VAL /* 최소_구간_조사_자료.종단평탄성_값 */
            , tnmummsctnsrvydta.RD_VAL /* 최소_구간_조사_자료.소성변형_값 */
            , tnmummsctnsrvydta.VRTCAL_CR /* 최소_구간_조사_자료.종방향_균열 */
            , tnmummsctnsrvydta.HRZNTAL_CR /* 최소_구간_조사_자료.횡방향_균열 */
            , tnmummsctnsrvydta.CNSTRCT_JOINT_CR /* 최소_구간_조사_자료.시공_줄눈_균열 */
            , tnmummsctnsrvydta.TRTS_BAC_CR /* 최소_구간_조사_자료.거북등_균열 */
            , tnmummsctnsrvydta.PTCHG_CR /* 최소_구간_조사_자료.패칭_균열 */
            , tnmummsctnsrvydta.CR_VAL /* 최소_구간_조사_자료.표면손상값 */
            , tnmummsctnsrvydta.CR_IDX /* 최소_구간_조사_자료.표면손상지수 */
            , tnmummsctnsrvydta.RD_IDX /* 최소_구간_조사_자료.소성변형지수 */
            , tnmummsctnsrvydta.CNTL_DFECT /* 최소_구간_조사_자료.지배_결함 */
            , tnmummsctnsrvydta.SRVY_KND /* 최소_구간_조사_자료.조사_종류 */
            , tnmummsctnsrvydta.SRVY_MT /* 최소_구간_조사_자료.조사_월 */
            , tnmummsctnsrvydta.MEMO /* 최소_구간_조사_자료.메모 */
            , tnmummsctnsrvydta.SRVY_DE /* 최소_구간_조사_자료.조사_일자 */
            , tnmummsctnsrvydta.TRACE1_LA /* 최소_구간_조사_자료.TRACE1_LA */
            , tnmummsctnsrvydta.TRACE1_LO /* 최소_구간_조사_자료.TRACE1_LO */
            , tnmummsctnsrvydta.TRACE2_LA /* 최소_구간_조사_자료.TRACE2_LA */
            , tnmummsctnsrvydta.TRACE2_LO /* 최소_구간_조사_자료.TRACE2_LO */
            , tnmummsctnsrvydta.SRVY_NM /* 최소_구간_조사_자료.조사_명 */
            , tnmummsctnsrvydta.EXMNR_NM /* 최소_구간_조사_자료.조사자_명 */
            , tnmummsctnsrvydta.SCTN_STRTPT_DC /* 최소_구간_조사_자료.구간_시점_설명 */
            , tnmummsctnsrvydta.SCTN_ENDPT_DC /* 최소_구간_조사_자료.구간_종점_설명 */
            , tnmummsctnsrvydta.ROAD_NM /* 최소_구간_조사_자료.도로_명 */
            , tnmummsctnsrvydta.FRNT_IMG_FILE_NM /* 최소_구간_조사_자료.전방_이미지_파일_명 */
            , tnmummsctnsrvydta.RDSRFC_IMG_FILE_NM_1 /* 최소_구간_조사_자료.노면_이미지_파일_명_1 */
            , tnmummsctnsrvydta.RDSRFC_IMG_FILE_NM_2 /* 최소_구간_조사_자료.노면_이미지_파일_명_2 */
            , tnmummsctnsrvydta.EXCEL_DTA_SEQ /* 최소_구간_조사_자료.엑셀_자료_SEQ */
            , tnmummsctnsrvydta.FRMULA_NO /* 최소_구간_조사_자료.수식_번호 */
            , tnmummsctnsrvydta.POTHOLE_CR /* 최소_구간_조사_자료.포트홀_균열 */
            , tnmummsctnsrvydta.RI_IDX /* 최소_구간_조사_자료.평탄성_지수 */
            , tnmummsctnsrvydta.UPDT_AT /* 최소_구간_조사_자료.수정_여부 */
            , tnmummsctnsrvydta.DELETE_AT /* 최소_구간_조사_자료.삭제_여부 */
            , tnmummsctnsrvydta.USE_AT /* 최소_구간_조사_자료.사용_여부 */
            , tnmummsctnsrvydta.CRTR_NO /* 최소_구간_조사_자료.생성자_번호 */
            , tnmummsctnsrvydta.CREAT_DT /* 최소_구간_조사_자료.생성_일시 */
            , tnmummsctnsrvydta.UPDUSR_NO /* 최소_구간_조사_자료.수정자_번호 */
            , tnmummsctnsrvydta.UPDT_DT /* 최소_구간_조사_자료.수정_일시 */
            , tnmummsctnsrvydta.G2_LONLAT /* 최소_구간_조사_자료.G2_LONLAT */
            , tnmummsctnsrvydta.G2_LONLAT_BUFFER /* 최소_구간_조사_자료.G2_LONLAT_BUFFER */
            , tnmummsctnsrvydta.BLOCK_CR /* 최소_구간_조사_자료.블럭_균열 */
            , tnmummsctnsrvydta.CR_LT /* 최소_구간_조사_자료.균열_길이 */
            , tnmummsctnsrvydta.CR_WID /* 최소_구간_조사_자료.균열_폭 */
            , tnmummsctnsrvydta.NHPCI /* 최소_구간_조사_자료.NHPCI */
            , tnmummsctnsrvydta.SPI /* 최소_구간_조사_자료.SPI */
            , tnmummsctnsrvydta.XCR /* 최소_구간_조사_자료.NHPCI_균열 */
            , tnmummsctnsrvydta.RCI /* 최소_구간_조사_자료.표면_조도_지수 */
            , tnmummsctnsrvydta.SCR /* 최소_구간_조사_자료.표면_상태_지수 */
            , tnmummsctnsrvydta.AC_LOW /* 최소_구간_조사_자료.거북등균열_LOW */
            , tnmummsctnsrvydta.AC_MED /* 최소_구간_조사_자료.거북등균열_MED */
            , tnmummsctnsrvydta.AC_HI /* 최소_구간_조사_자료.거북등균열_HI */
            , tnmummsctnsrvydta.LC_LOW /* 최소_구간_조사_자료.종방향균열_LOW */
            , tnmummsctnsrvydta.LC_MED /* 최소_구간_조사_자료.종방향균열_MED */
            , tnmummsctnsrvydta.LC_HI /* 최소_구간_조사_자료.종방향균열_HI */
            , tnmummsctnsrvydta.TC_LOW /* 최소_구간_조사_자료.횡방향균열_LOW */
            , tnmummsctnsrvydta.TC_MED /* 최소_구간_조사_자료.횡방향균열_MED */
            , tnmummsctnsrvydta.TC_HI /* 최소_구간_조사_자료.횡방향균열_HI */
            , tnmummsctnsrvydta.AC_IDX /* 최소_구간_조사_자료.거북등균열_지수 */
            , tnmummsctnsrvydta.LC_IDX /* 최소_구간_조사_자료.종방향균열_지수 */
            , tnmummsctnsrvydta.TC_IDX /* 최소_구간_조사_자료.횡방향균열_지수 */
            , tnmummsctnsrvydta.PTCHG_IDX /* 최소_구간_조사_자료.패칭_지수 */
            , tnmummsctnsrvydta.RD_LOW /* 최소_구간_조사_자료.소성변형_LOW */
            , tnmummsctnsrvydta.RD_MED /* 최소_구간_조사_자료.소성변형_MED */
            , tnmummsctnsrvydta.RD_HI /* 최소_구간_조사_자료.소성변형_HI */
            , tnmummsctnsrvydta.STRTPT_TEST /* 최소_구간_조사_자료.STRTPT_TEST */
            , tnmummsctnsrvydta.ENDPT_TEST /* 최소_구간_조사_자료.ENDPT_TEST */
            , tnmummsctnsrvydta.MSG_TEST /* 최소_구간_조사_자료.MSG_TEST */
            , tnmummsctnsrvydta.MSG_CODE /* 최소_구간_조사_자료.MSG_CODE */
            , tnmummsctnsrvydta.BLOCK_CR_LOW /* 최소_구간_조사_자료.블럭_균열_LOW */
            , tnmummsctnsrvydta.BLOCK_CR_MED /* 최소_구간_조사_자료.블럭_균열_MED */
            , tnmummsctnsrvydta.BLOCK_CR_HI /* 최소_구간_조사_자료.블럭_균열_HI */
            , tnmummsctnsrvydta.POTHOLE_IDX /* 최소_구간_조사_자료.포트홀_지수 */
            , tnmummsctnsrvydta.DMG_CUZ_CLMT /* 최소_구간_조사_자료.파손_원인_기후 */
            , tnmummsctnsrvydta.DMG_CUZ_VMTC /* 최소_구간_조사_자료.파손_원인_교통량 */
            , tnmummsctnsrvydta.DMG_CUZ_ETC /* 최소_구간_조사_자료.파손_원인_기타 */
            , tnmummsctnsrvydta.PC_GRAD /* 최소_구간_조사_자료.포장상태등급 */
            , tnmummsctnsrvydta.GPCI /* 최소_구간_조사_자료.GPCI */
            , tnmummsctnsrvydta.BC_IDX /* 최소_구간_조사_자료.블럭균열_지수 */
            , tnmummsctnsrvydta.LAST_DTA_AT /* 최소_구간_조사_자료.최종_자료_여부 */
        FROM TN_MUMM_SCTN_SRVY_DTA tnmummsctnsrvydta
	    LEFT OUTER JOIN CELL_10 cell
	        ON cell.ROUTE_CODE = tnmummsctnsrvydta.ROUTE_CODE
	        and cell.DIRECT_CODE = tnmummsctnsrvydta.DIRECT_CODE
	        and cell.TRACK = tnmummsctnsrvydta.TRACK
	        and cell.STRTPT <= tnmummsctnsrvydta.STRTPT
	        and cell.ENDPT >= tnmummsctnsrvydta.ENDPT
	        WHERE 1 = 1
	        AND tnmummsctnsrvydta.DELETE_AT = 'N' /* 최소_구간_조사_자료.삭제_여부 */
	        AND tnmummsctnsrvydta.USE_AT = 'Y' /* 최소_구간_조사_자료.사용_여부 */
	       AND cell.CELL_ID = #CELL_ID#
    ]]>

    <isNotEmpty property="SRVY_YEAR"><![CDATA[ AND tnmummsctnsrvydta.SRVY_YEAR = #SRVY_YEAR# ]]></isNotEmpty>
    <isEmpty property="SRVY_YEAR"><![CDATA[ AND tnmummsctnsrvydta.LAST_DTA_AT = 'Y' ]]></isEmpty>

    </select>


	<select id="mummSctnSrvyDtaDAO.getrdairival">
	<![CDATA[
	/* mummSctnSrvyDtaDAO.getrdairival */
	]]>
	
	select 
		IRI_VAL
		,RD_VAL 
		,ST_AsGeoJSON(st_centroid(geom)) geojson
 	from cell_10
	right outer join tn_mumm_sctn_srvy_dta
	on (
		cell_10.route_code = tn_mumm_sctn_srvy_dta.route_code
		AND cell_10.direct_code = tn_mumm_sctn_srvy_dta.direct_code
		AND cell_10.track = tn_mumm_sctn_srvy_dta.track
		AND cell_10.strtpt = tn_mumm_sctn_srvy_dta.strtpt
		AND cell_10.endpt = tn_mumm_sctn_srvy_dta.endpt
		AND tn_mumm_sctn_srvy_dta.use_at = 'Y'
		AND tn_mumm_sctn_srvy_dta.delete_at = 'N'
	)
	where 1=1
	<isNotEmpty property="SRVY_YEAR">
	AND SRVY_YEAR = #SRVY_YEAR#
	</isNotEmpty>
	and sctn_no = (
		select sctn_no from cell_sect 
		where 1=1
		<isNotEmpty property="CELL_ID">
		and cell_id = #CELL_ID#
		</isNotEmpty>
	)
	</select>

</sqlMap>
