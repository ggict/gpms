<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="flawCntrwkDAO">
 
	<typeAlias alias="egovMap"	type="egovframework.rte.psl.dataaccess.util.EgovMap" />
	<typeAlias  alias="flawCntrwkSerarchVO" type="kr.go.gg.gpms.flawcntrwk.service.model.FlawCntrwkDefaultVO"/>
	<typeAlias alias="flawCntrwkVO"	type="kr.go.gg.gpms.flawcntrwk.service.model.FlawCntrwkVO" />

	<resultMap id="flawCntrwk.resultMap"
		class="flawCntrwkVO">
		<result property="CNTRWK_ID" column="CNTRWK_ID" columnIndex="1" /> <!-- 하자_보수_공사.공사_ID -->
		<result property="FLAW_CNTRWK_ID" column="FLAW_CNTRWK_ID" columnIndex="2" /> <!-- 하자_보수_공사.하자_공사_ID -->
		<result property="FLAW_ID" column="FLAW_ID" columnIndex="3" /> <!-- 하자_보수_공사.하자_ID -->
		<result property="DETAIL_CNTRWK_ID" column="DETAIL_CNTRWK_ID" columnIndex="4" /> <!-- 하자_보수_공사.세부_공사_ID -->
		<result property="DETAIL_CNTRWK_GROUP" column="DETAIL_CNTRWK_GROUP" columnIndex="5" /> <!-- 하자_보수_공사.세부_공사_그룹 -->
		<result property="DETAIL_KND_NM" column="DETAIL_KND_NM" columnIndex="6" /> <!-- 하자_보수_공사.세부_종류_명 -->
		<result property="CNTRWK_DE" column="CNTRWK_DE" columnIndex="7" /> <!-- 하자_보수_공사.공사_일자 -->
		<result property="FLAW_CO_NO" column="FLAW_CO_NO" columnIndex="8" /> <!-- 하자_보수_공사.하자_업체_번호 -->
		<result property="FLAW_CO_NM" column="FLAW_CO_NM" columnIndex="9" /> <!-- 하자_보수_공사.하자_업체_명 -->
		<result property="FLAW_CHCK_DE" column="FLAW_CHCK_DE" columnIndex="10" /> <!-- 하자_보수_공사.하자_검사_일자 -->
		<result property="FLAW_AR" column="FLAW_AR" columnIndex="11" /> <!-- 하자_보수_공사.하자_면적 -->
		<result property="FLAW_LEN" column="FLAW_LEN" columnIndex="12" /> <!-- 하자_보수_공사.하자_연장 -->
		<result property="FLAW_LC" column="FLAW_LC" columnIndex="13" /> <!-- 하자_보수_공사.하자_위치 -->
		<result property="FLAW_CAUSE" column="FLAW_CAUSE" columnIndex="14" /> <!-- 하자_보수_공사.하자_원인 -->
		<result property="ROAD_NM" column="ROAD_NM" columnIndex="15" /> <!-- 하자_보수_공사.도로_명 -->
		<result property="ROUTE_CODE" column="ROUTE_CODE" columnIndex="16" /> <!-- 하자_보수_공사.노선_코드 -->
		<result property="DIRECT_CODE" column="DIRECT_CODE" columnIndex="17" /> <!-- 하자_보수_공사.행선_코드 -->
		<result property="TRACK" column="TRACK" columnIndex="18" /> <!-- 하자_보수_공사.차로 -->
		<result property="STRTPT" column="STRTPT" columnIndex="19" /> <!-- 하자_보수_공사.시점 -->
		<result property="ENDPT" column="ENDPT" columnIndex="20" /> <!-- 하자_보수_공사.종점 -->
		<result property="PAV_STLE_CODE" column="PAV_STLE_CODE" columnIndex="21" /> <!-- 하자_보수_공사.포장_형태_코드 -->
		<result property="PAV_MSRC_ETC" column="PAV_MSRC_ETC" columnIndex="22" /> <!-- 하자_보수_공사.포장_공법_기타 -->
		<result property="RPAIR_THICK_DC" column="RPAIR_THICK_DC" columnIndex="23" /> <!-- 하자_보수_공사.보수_두께_설명 -->
		<result property="RPAIR_THICK" column="RPAIR_THICK" columnIndex="24" /> <!-- 하자_보수_공사.보수_두께 -->
		<result property="RPAIR_AR" column="RPAIR_AR" columnIndex="25" /> <!-- 하자_보수_공사.보수_면적 -->
		<result property="RPAIR_BT" column="RPAIR_BT" columnIndex="26" /> <!-- 하자_보수_공사.보수_폭 -->
		<result property="RPAIR_LEN" column="RPAIR_LEN" columnIndex="27" /> <!-- 하자_보수_공사.보수_연장 -->
		<result property="RPAIR_LC" column="RPAIR_LC" columnIndex="28" /> <!-- 하자_보수_공사.보수_위치 -->
		<result property="RPAIR_DE" column="RPAIR_DE" columnIndex="29" /> <!-- 하자_보수_공사.보수_일자 -->
		<result property="RPAIR_MATRL_DETAIL_NM" column="RPAIR_MATRL_DETAIL_NM" columnIndex="30" /> <!-- 하자_보수_공사.보수_재료_세부_명 -->
		<result property="RPAIR_THICK_BASE" column="RPAIR_THICK_BASE" columnIndex="31" /> <!-- 하자_보수_공사.보수_두께_기층 -->
		<result property="RPAIR_THICK_CNTR" column="RPAIR_THICK_CNTR" columnIndex="32" /> <!-- 하자_보수_공사.보수_두께_중간층 -->
		<result property="RPAIR_THICK_ASCON" column="RPAIR_THICK_ASCON" columnIndex="33" /> <!-- 하자_보수_공사.보수_두께_표층 -->
		<result property="PAV_MATRL_ASCON_CODE" column="PAV_MATRL_ASCON_CODE" columnIndex="34" /> <!-- 하자_보수_공사.포장_재료_표층_코드 -->
		<result property="PAV_MATRL_ASCON_ETC" column="PAV_MATRL_ASCON_ETC" columnIndex="35" /> <!-- 하자_보수_공사.포장_재료_표층_기타 -->
		<result property="PAV_MATRL_BASE_CODE" column="PAV_MATRL_BASE_CODE" columnIndex="36" /> <!-- 하자_보수_공사.포장_재료_기층_코드 -->
		<result property="PAV_MATRL_BASE_ETC" column="PAV_MATRL_BASE_ETC" columnIndex="37" /> <!-- 하자_보수_공사.포장_재료_기층_기타 -->
		<result property="PAV_MATRL_CNTR_CODE" column="PAV_MATRL_CNTR_CODE" columnIndex="38" /> <!-- 하자_보수_공사.포장_재료_중간층_코드 -->
		<result property="PAV_MATRL_CNTR_ETC" column="PAV_MATRL_CNTR_ETC" columnIndex="39" /> <!-- 하자_보수_공사.포장_재료_중간층_기타 -->
		<result property="FILE_NO" column="FILE_NO" columnIndex="40" /> <!-- 하자_보수_공사.파일_번호 -->
		<result property="OPERT_BFE_PHOTO_NO" column="OPERT_BFE_PHOTO_NO" columnIndex="41" /> <!-- 하자_보수_공사.작업_전_사진_번호 -->
		<result property="OPERT_AFT_PHOTO_NO" column="OPERT_AFT_PHOTO_NO" columnIndex="42" /> <!-- 하자_보수_공사.작업_후_사진_번호 -->
		<result property="USE_AT" column="USE_AT" columnIndex="43" /> <!-- 하자_보수_공사.사용_여부 -->
		<result property="DELETE_AT" column="DELETE_AT" columnIndex="44" /> <!-- 하자_보수_공사.삭제_여부 -->
		<result property="CRTR_NO" column="CRTR_NO" columnIndex="45" /> <!-- 하자_보수_공사.생성자_번호 -->
		<result property="CREAT_DT" column="CREAT_DT" columnIndex="46" /> <!-- 하자_보수_공사.생성_일시 -->
		<result property="UPDUSR_NO" column="UPDUSR_NO" columnIndex="47" /> <!-- 하자_보수_공사.수정자_번호 -->
		<result property="UPDT_DT" column="UPDT_DT" columnIndex="48" /> <!-- 하자_보수_공사.수정_일시 -->
	</resultMap>

	<insert id="flawCntrwkDAO.insertFlawCntrwk">
		<selectKey resultClass="String" keyProperty="FLAW_CNTRWK_ID">
  <![CDATA[
  select nextval('SEQ_TN_FLAW_CNTRWK')
  ]]>
  </selectKey>
	<![CDATA[ 
		/* flawCntrwkDAO.insertFlawCntrwk */
		/* 하자_보수_공사 등록 */		
		INSERT INTO TN_FLAW_CNTRWK (
			CNTRWK_ID /* 하자_보수_공사.공사_ID */
			, FLAW_CNTRWK_ID /* 하자_보수_공사.하자_공사_ID */
			, FLAW_ID /* 하자_보수_공사.하자_ID */
			, DETAIL_CNTRWK_ID /* 하자_보수_공사.세부_공사_ID */
			, DETAIL_CNTRWK_GROUP /* 하자_보수_공사.세부_공사_그룹 */
			, DETAIL_KND_NM /* 하자_보수_공사.세부_종류_명 */
			, CNTRWK_DE /* 하자_보수_공사.공사_일자 */
			, FLAW_CO_NO /* 하자_보수_공사.하자_업체_번호 */
			, FLAW_CO_NM /* 하자_보수_공사.하자_업체_명 */
			, FLAW_CHCK_DE /* 하자_보수_공사.하자_검사_일자 */
			, FLAW_AR /* 하자_보수_공사.하자_면적 */
			, FLAW_LEN /* 하자_보수_공사.하자_연장 */
			, FLAW_LC /* 하자_보수_공사.하자_위치 */
			, FLAW_CAUSE /* 하자_보수_공사.하자_원인 */
			, ROAD_NM /* 하자_보수_공사.도로_명 */
			, ROUTE_CODE /* 하자_보수_공사.노선_코드 */
			, DIRECT_CODE /* 하자_보수_공사.행선_코드 */
			, TRACK /* 하자_보수_공사.차로 */
			, STRTPT /* 하자_보수_공사.시점 */
			, ENDPT /* 하자_보수_공사.종점 */
			, PAV_STLE_CODE /* 하자_보수_공사.포장_형태_코드 */
			, PAV_MSRC_ETC /* 하자_보수_공사.포장_공법_기타 */
			, RPAIR_THICK_DC /* 하자_보수_공사.보수_두께_설명 */
			, RPAIR_THICK /* 하자_보수_공사.보수_두께 */
			, RPAIR_AR /* 하자_보수_공사.보수_면적 */
			, RPAIR_BT /* 하자_보수_공사.보수_폭 */
			, RPAIR_LEN /* 하자_보수_공사.보수_연장 */
			, RPAIR_LC /* 하자_보수_공사.보수_위치 */
			, RPAIR_DE /* 하자_보수_공사.보수_일자 */
			, RPAIR_MATRL_DETAIL_NM /* 하자_보수_공사.보수_재료_세부_명 */
			, RPAIR_THICK_BASE /* 하자_보수_공사.보수_두께_기층 */
			, RPAIR_THICK_CNTR /* 하자_보수_공사.보수_두께_중간층 */
			, RPAIR_THICK_ASCON /* 하자_보수_공사.보수_두께_표층 */
			, PAV_MATRL_ASCON_CODE /* 하자_보수_공사.포장_재료_표층_코드 */
			, PAV_MATRL_ASCON_ETC /* 하자_보수_공사.포장_재료_표층_기타 */
			, PAV_MATRL_BASE_CODE /* 하자_보수_공사.포장_재료_기층_코드 */
			, PAV_MATRL_BASE_ETC /* 하자_보수_공사.포장_재료_기층_기타 */
			, PAV_MATRL_CNTR_CODE /* 하자_보수_공사.포장_재료_중간층_코드 */
			, PAV_MATRL_CNTR_ETC /* 하자_보수_공사.포장_재료_중간층_기타 */
			, FILE_NO /* 하자_보수_공사.파일_번호 */
			, OPERT_BFE_PHOTO_NO /* 하자_보수_공사.작업_전_사진_번호 */
			, OPERT_AFT_PHOTO_NO /* 하자_보수_공사.작업_후_사진_번호 */
			, USE_AT /* 하자_보수_공사.사용_여부 */
			, DELETE_AT /* 하자_보수_공사.삭제_여부 */
			, CRTR_NO /* 하자_보수_공사.생성자_번호 */
			, CREAT_DT /* 하자_보수_공사.생성_일시 */
			, UPDUSR_NO /* 하자_보수_공사.수정자_번호 */
			, UPDT_DT /* 하자_보수_공사.수정_일시 */
			, RPAIR_MTHD_CODE /* 하자_보수_공사.보수_꽁법_코드  */
		) VALUES (
			#CNTRWK_ID# /* 하자_보수_공사.공사_ID */
			, #FLAW_CNTRWK_ID# /* 하자_보수_공사.하자_공사_ID */
			, #FLAW_ID# /* 하자_보수_공사.하자_ID */
			, #DETAIL_CNTRWK_ID# /* 하자_보수_공사.세부_공사_ID */
			, #DETAIL_CNTRWK_GROUP# /* 하자_보수_공사.세부_공사_그룹 */
			, #DETAIL_KND_NM# /* 하자_보수_공사.세부_종류_명 */
			, #CNTRWK_DE# /* 하자_보수_공사.공사_일자 */
			, #FLAW_CO_NO# /* 하자_보수_공사.하자_업체_번호 */
			, #FLAW_CO_NM# /* 하자_보수_공사.하자_업체_명 */
			, #FLAW_CHCK_DE# /* 하자_보수_공사.하자_검사_일자 */
			, #FLAW_AR# /* 하자_보수_공사.하자_면적 */
			, #FLAW_LEN# /* 하자_보수_공사.하자_연장 */
			, #FLAW_LC# /* 하자_보수_공사.하자_위치 */
			, #FLAW_CAUSE# /* 하자_보수_공사.하자_원인 */
			, #ROAD_NM# /* 하자_보수_공사.도로_명 */
			, #ROUTE_CODE# /* 하자_보수_공사.노선_코드 */
			, #DIRECT_CODE# /* 하자_보수_공사.행선_코드 */
			, #TRACK# /* 하자_보수_공사.차로 */
			, #STRTPT# /* 하자_보수_공사.시점 */
			, #ENDPT# /* 하자_보수_공사.종점 */
			, #PAV_STLE_CODE# /* 하자_보수_공사.포장_형태_코드 */
			, #PAV_MSRC_ETC# /* 하자_보수_공사.포장_공법_기타 */
			, #RPAIR_THICK_DC# /* 하자_보수_공사.보수_두께_설명 */
			, #RPAIR_THICK# /* 하자_보수_공사.보수_두께 */
			, #RPAIR_AR# /* 하자_보수_공사.보수_면적 */
			, #RPAIR_BT# /* 하자_보수_공사.보수_폭 */
			, #RPAIR_LEN# /* 하자_보수_공사.보수_연장 */
			, #RPAIR_LC# /* 하자_보수_공사.보수_위치 */
			, #RPAIR_DE# /* 하자_보수_공사.보수_일자 */
			, #RPAIR_MATRL_DETAIL_NM# /* 하자_보수_공사.보수_재료_세부_명 */
			, #RPAIR_THICK_BASE# /* 하자_보수_공사.보수_두께_기층 */
			, #RPAIR_THICK_CNTR# /* 하자_보수_공사.보수_두께_중간층 */
			, #RPAIR_THICK_ASCON# /* 하자_보수_공사.보수_두께_표층 */
			, #PAV_MATRL_ASCON_CODE# /* 하자_보수_공사.포장_재료_표층_코드 */
			, #PAV_MATRL_ASCON_ETC# /* 하자_보수_공사.포장_재료_표층_기타 */
			, #PAV_MATRL_BASE_CODE# /* 하자_보수_공사.포장_재료_기층_코드 */
			, #PAV_MATRL_BASE_ETC# /* 하자_보수_공사.포장_재료_기층_기타 */
			, #PAV_MATRL_CNTR_CODE# /* 하자_보수_공사.포장_재료_중간층_코드 */
			, #PAV_MATRL_CNTR_ETC# /* 하자_보수_공사.포장_재료_중간층_기타 */
			, #FILE_NO# /* 하자_보수_공사.파일_번호 */
			, #OPERT_BFE_PHOTO_NO# /* 하자_보수_공사.작업_전_사진_번호 */
			, #OPERT_AFT_PHOTO_NO# /* 하자_보수_공사.작업_후_사진_번호 */
			, 'Y' /* 하자_보수_공사.사용_여부 */
			, 'N' /* 하자_보수_공사.삭제_여부 */
			, #CRTR_NO# /* 하자_보수_공사.생성자_번호 */
			, NOW() /* 하자_보수_공사.생성_일시 */
			, #UPDUSR_NO# /* 하자_보수_공사.수정자_번호 */
			, NOW() /* 하자_보수_공사.수정_일시 */
			, #RPAIR_MTHD_CODE# /* 하자_보수_공사.보수_꽁법_코드  */
		)
]]>
	</insert>

	<update id="flawCntrwkDAO.updateFlawCntrwk">
	<![CDATA[ 
		/* flawCntrwkDAO.updateFlawCntrwk */
		/* 하자_보수_공사 수정 */
		UPDATE TN_FLAW_CNTRWK SET
			UPDUSR_NO = #UPDUSR_NO# /* 하자_보수_공사.수정자_번호 */
		  , UPDT_DT = NOW() /* 하자_보수_공사.수정_일시 */

, CNTRWK_ID = #CNTRWK_ID# /* 하자_보수_공사.공사_ID */
			

, FLAW_ID = #FLAW_ID# /* 하자_보수_공사.하자_ID */
			

, DETAIL_CNTRWK_ID = #DETAIL_CNTRWK_ID# /* 하자_보수_공사.세부_공사_ID */
			

, DETAIL_CNTRWK_GROUP = #DETAIL_CNTRWK_GROUP# /* 하자_보수_공사.세부_공사_그룹 */
			

, DETAIL_KND_NM = #DETAIL_KND_NM# /* 하자_보수_공사.세부_종류_명 */
			

, CNTRWK_DE = #CNTRWK_DE# /* 하자_보수_공사.공사_일자 */
			

, FLAW_CO_NO = #FLAW_CO_NO# /* 하자_보수_공사.하자_업체_번호 */
			

, FLAW_CO_NM = #FLAW_CO_NM# /* 하자_보수_공사.하자_업체_명 */
			

, FLAW_CHCK_DE = #FLAW_CHCK_DE# /* 하자_보수_공사.하자_검사_일자 */
			

, FLAW_AR = #FLAW_AR# /* 하자_보수_공사.하자_면적 */
			

, FLAW_LEN = #FLAW_LEN# /* 하자_보수_공사.하자_연장 */
			

, FLAW_LC = #FLAW_LC# /* 하자_보수_공사.하자_위치 */
			

, FLAW_CAUSE = #FLAW_CAUSE# /* 하자_보수_공사.하자_원인 */
			

, ROAD_NM = #ROAD_NM# /* 하자_보수_공사.도로_명 */
			

, ROUTE_CODE = #ROUTE_CODE# /* 하자_보수_공사.노선_코드 */
			

, DIRECT_CODE = #DIRECT_CODE# /* 하자_보수_공사.행선_코드 */
			

, TRACK = #TRACK# /* 하자_보수_공사.차로 */
			

, STRTPT = #STRTPT# /* 하자_보수_공사.시점 */
			

, ENDPT = #ENDPT# /* 하자_보수_공사.종점 */
			

, PAV_STLE_CODE = #PAV_STLE_CODE# /* 하자_보수_공사.포장_형태_코드 */
			

, PAV_MSRC_ETC = #PAV_MSRC_ETC# /* 하자_보수_공사.포장_공법_기타 */
			

, RPAIR_THICK_DC = #RPAIR_THICK_DC# /* 하자_보수_공사.보수_두께_설명 */
			

, RPAIR_THICK = #RPAIR_THICK# /* 하자_보수_공사.보수_두께 */
			

, RPAIR_AR = #RPAIR_AR# /* 하자_보수_공사.보수_면적 */
			

, RPAIR_BT = #RPAIR_BT# /* 하자_보수_공사.보수_폭 */
			

, RPAIR_LEN = #RPAIR_LEN# /* 하자_보수_공사.보수_연장 */
			

, RPAIR_LC = #RPAIR_LC# /* 하자_보수_공사.보수_위치 */
			

, RPAIR_DE = #RPAIR_DE# /* 하자_보수_공사.보수_일자 */
			

, RPAIR_MATRL_DETAIL_NM = #RPAIR_MATRL_DETAIL_NM# /* 하자_보수_공사.보수_재료_세부_명 */
			

, RPAIR_THICK_BASE = #RPAIR_THICK_BASE# /* 하자_보수_공사.보수_두께_기층 */
			

, RPAIR_THICK_CNTR = #RPAIR_THICK_CNTR# /* 하자_보수_공사.보수_두께_중간층 */
			

, RPAIR_THICK_ASCON = #RPAIR_THICK_ASCON# /* 하자_보수_공사.보수_두께_표층 */
			

, PAV_MATRL_ASCON_CODE = #PAV_MATRL_ASCON_CODE# /* 하자_보수_공사.포장_재료_표층_코드 */
			

, PAV_MATRL_ASCON_ETC = #PAV_MATRL_ASCON_ETC# /* 하자_보수_공사.포장_재료_표층_기타 */
			

, PAV_MATRL_BASE_CODE = #PAV_MATRL_BASE_CODE# /* 하자_보수_공사.포장_재료_기층_코드 */
			

, PAV_MATRL_BASE_ETC = #PAV_MATRL_BASE_ETC# /* 하자_보수_공사.포장_재료_기층_기타 */
			

, PAV_MATRL_CNTR_CODE = #PAV_MATRL_CNTR_CODE# /* 하자_보수_공사.포장_재료_중간층_코드 */
			

, PAV_MATRL_CNTR_ETC = #PAV_MATRL_CNTR_ETC# /* 하자_보수_공사.포장_재료_중간층_기타 */
			

, FILE_NO = #FILE_NO# /* 하자_보수_공사.파일_번호 */
			

, OPERT_BFE_PHOTO_NO = #OPERT_BFE_PHOTO_NO# /* 하자_보수_공사.작업_전_사진_번호 */
			

, OPERT_AFT_PHOTO_NO = #OPERT_AFT_PHOTO_NO# /* 하자_보수_공사.작업_후_사진_번호 */

, RPAIR_MTHD_CODE = #RPAIR_MTHD_CODE# /* 하자_보수_공사.보수_꽁법_코드  */
			
		WHERE 1 = 1
		AND FLAW_CNTRWK_ID = #FLAW_CNTRWK_ID# /* 하자_보수_공사.하자_공사_ID */
]]>
	</update>

	<delete id="flawCntrwkDAO.deleteFlawCntrwk">
	<![CDATA[ 
		/* flawCntrwkDAO.deleteFlawCntrwk */
		/* 하자_보수_공사 삭제 */
		UPDATE TN_FLAW_CNTRWK SET
		DELETE_AT = 'Y' /* 하자_보수_공사.삭제_여부 */
		, UPDUSR_NO = #UPDUSR_NO# /* 하자_보수_공사.수정자_번호 */
		, UPDT_DT = NOW() /* 하자_보수_공사.수정_일시 */
		WHERE 1 = 1
		AND FLAW_CNTRWK_ID = #FLAW_CNTRWK_ID# /* 하자_보수_공사.하자_공사_ID */
]]>
	</delete>
	
	<delete id="flawCntrwkDAO.deleteFlawCntrwkByCntrwkDtlID">
	<![CDATA[ 
		/* flawCntrwkDAO.deleteFlawCntrwkByCntrwkDtlID */
		/* 하자_보수_공사 삭제 */
		UPDATE TN_FLAW_CNTRWK SET
		DELETE_AT = 'Y' /* 하자_보수_공사.삭제_여부 */
		, UPDUSR_NO = #UPDUSR_NO# /* 하자_보수_공사.수정자_번호 */
		, UPDT_DT = NOW() /* 하자_보수_공사.수정_일시 */
		WHERE 1 = 1
]]>
		<isNotEmpty property="DETAIL_CNTRWK_ID">
			<![CDATA[ AND DETAIL_CNTRWK_ID = #DETAIL_CNTRWK_ID# /* 하자_보수_공사.하자_공사_ID */ ]]>
		</isNotEmpty>
<![CDATA[		
		AND CNTRWK_ID = #CNTRWK_ID#
]]>
	</delete>

	<select id="flawCntrwkDAO.selectFlawCntrwk" resultClass="flawCntrwkVO">
	<![CDATA[ 
		/* flawCntrwkDAO.selectFlawCntrwk */
		/* 하자_보수_공사 조회 */
		SELECT
			tnflawcntrwk.CNTRWK_ID /* 하자_보수_공사.공사_ID */
			, tnflawcntrwk.FLAW_CNTRWK_ID /* 하자_보수_공사.하자_공사_ID */
			, tnflawcntrwk.FLAW_ID /* 하자_보수_공사.하자_ID */
			, tnflawcntrwk.DETAIL_CNTRWK_ID /* 하자_보수_공사.세부_공사_ID */
			, tnflawcntrwk.DETAIL_CNTRWK_GROUP /* 하자_보수_공사.세부_공사_그룹 */
			, tnflawcntrwk.DETAIL_KND_NM /* 하자_보수_공사.세부_종류_명 */
			, tnflawcntrwk.CNTRWK_DE /* 하자_보수_공사.공사_일자 */
			, tnflawcntrwk.FLAW_CO_NO /* 하자_보수_공사.하자_업체_번호 */
			, COALESCE((SELECT CO_NM  FROM TN_COMPANY tncompany WHERE tncompany.CO_NO = tnflawcntrwk.FLAW_CO_NO), tnflawcntrwk.FLAW_CO_NM) AS FLAW_CO_NM/* 하자_보수_공사.하자_업체_명 */
			, tnflawcntrwk.FLAW_CHCK_DE /* 하자_보수_공사.하자_검사_일자 */
			, tnflawcntrwk.FLAW_AR /* 하자_보수_공사.하자_면적 */
			, tnflawcntrwk.FLAW_LEN /* 하자_보수_공사.하자_연장 */
			, tnflawcntrwk.FLAW_LC /* 하자_보수_공사.하자_위치 */
			, tnflawcntrwk.FLAW_CAUSE /* 하자_보수_공사.하자_원인 */
			, tnflawcntrwk.ROAD_NM /* 하자_보수_공사.도로_명 */
			, tnflawcntrwk.ROUTE_CODE /* 하자_보수_공사.노선_코드 */
			, tnflawcntrwk.DIRECT_CODE /* 하자_보수_공사.행선_코드 */
			, tnflawcntrwk.TRACK /* 하자_보수_공사.차로 */
			, tnflawcntrwk.STRTPT /* 하자_보수_공사.시점 */
			, tnflawcntrwk.ENDPT /* 하자_보수_공사.종점 */
			, tnflawcntrwk.PAV_STLE_CODE /* 하자_보수_공사.포장_형태_코드 */
			, tnflawcntrwk.PAV_MSRC_ETC /* 하자_보수_공사.포장_공법_기타 */
			, tnflawcntrwk.RPAIR_THICK_DC /* 하자_보수_공사.보수_두께_설명 */
			, tnflawcntrwk.RPAIR_THICK /* 하자_보수_공사.보수_두께 */
			, tnflawcntrwk.RPAIR_AR /* 하자_보수_공사.보수_면적 */
			, tnflawcntrwk.RPAIR_BT /* 하자_보수_공사.보수_폭 */
			, tnflawcntrwk.RPAIR_LEN /* 하자_보수_공사.보수_연장 */
			, tnflawcntrwk.RPAIR_LC /* 하자_보수_공사.보수_위치 */
			, tnflawcntrwk.RPAIR_DE /* 하자_보수_공사.보수_일자 */
			, tnflawcntrwk.RPAIR_MATRL_DETAIL_NM /* 하자_보수_공사.보수_재료_세부_명 */
			, tnflawcntrwk.RPAIR_THICK_BASE /* 하자_보수_공사.보수_두께_기층 */
			, tnflawcntrwk.RPAIR_THICK_CNTR /* 하자_보수_공사.보수_두께_중간층 */
			, tnflawcntrwk.RPAIR_THICK_ASCON /* 하자_보수_공사.보수_두께_표층 */
			, tnflawcntrwk.PAV_MATRL_ASCON_CODE /* 하자_보수_공사.포장_재료_표층_코드 */
			, tnflawcntrwk.PAV_MATRL_ASCON_ETC /* 하자_보수_공사.포장_재료_표층_기타 */
			, tnflawcntrwk.PAV_MATRL_BASE_CODE /* 하자_보수_공사.포장_재료_기층_코드 */
			, tnflawcntrwk.PAV_MATRL_BASE_ETC /* 하자_보수_공사.포장_재료_기층_기타 */
			, tnflawcntrwk.PAV_MATRL_CNTR_CODE /* 하자_보수_공사.포장_재료_중간층_코드 */
			, tnflawcntrwk.PAV_MATRL_CNTR_ETC /* 하자_보수_공사.포장_재료_중간층_기타 */
			, tnflawcntrwk.FILE_NO /* 하자_보수_공사.파일_번호 */
			, tnflawcntrwk.OPERT_BFE_PHOTO_NO /* 하자_보수_공사.작업_전_사진_번호 */
			, (SELECT tnattachfile.ORGINL_FILE_NM FROM TN_ATTACH_FILE tnattachfile	WHERE  tnattachfile.FILE_NO = tnflawcntrwk.OPERT_BFE_PHOTO_NO) AS OPERT_BFE_PHOTO_NM /*작업전사진명*/
			, tnflawcntrwk.OPERT_AFT_PHOTO_NO /* 하자_보수_공사.작업_후_사진_번호 */
			, (SELECT tnattachfile.ORGINL_FILE_NM FROM TN_ATTACH_FILE tnattachfile	WHERE  tnattachfile.FILE_NO = tnflawcntrwk.OPERT_AFT_PHOTO_NO) AS OPERT_AFT_PHOTO_NM /*작업후사진명*/
			, tnflawcntrwk.USE_AT /* 하자_보수_공사.사용_여부 */
			, tnflawcntrwk.DELETE_AT /* 하자_보수_공사.삭제_여부 */
			, tnflawcntrwk.CRTR_NO /* 하자_보수_공사.생성자_번호 */
			, tnflawcntrwk.CREAT_DT /* 하자_보수_공사.생성_일시 */
			, tnflawcntrwk.UPDUSR_NO /* 하자_보수_공사.수정자_번호 */
			, tnflawcntrwk.UPDT_DT /* 하자_보수_공사.수정_일시 */
			, tnflawcntrwk.RPAIR_MTHD_CODE /* 하자_보수_공사.보수_꽁법_코드  */
		FROM TN_FLAW_CNTRWK tnflawcntrwk
		WHERE 1 = 1
		AND tnflawcntrwk.FLAW_CNTRWK_ID = #FLAW_CNTRWK_ID# /* 하자_보수_공사.하자_공사_ID */
		AND tnflawcntrwk.CNTRWK_ID = #CNTRWK_ID# /* 하자_보수_공사.하자_공사_ID */
		AND tnflawcntrwk.DELETE_AT = 'N'
]]>
	</select>

	<sql id="flawCntrwkDAO.selectFlawCntrwkList.where">
		WHERE 1 = 1
		AND tnflawcntrwk.DELETE_AT = 'N'
		<isEqual property="searchCondition" compareValue="0">
			AND tnflawcntrwk.CNTRWK_ID = #searchKeyword#
		</isEqual>
		<isEqual property="searchCondition" compareValue="1">
			AND tnflawcntrwk.FLAW_CNTRWK_ID LIKE '%' || #searchKeyword# || '%'
		</isEqual>
		<isNotEmpty property="CNTRWK_ID"><![CDATA[ /* 하자_보수_공사.공사_ID */ AND tnflawcntrwk.CNTRWK_ID = #CNTRWK_ID# ]]></isNotEmpty>
		<isNotEmpty property="FLAW_CNTRWK_ID"><![CDATA[ /* 하자_보수_공사.하자_공사_ID */ AND tnflawcntrwk.FLAW_CNTRWK_ID = #FLAW_CNTRWK_ID# ]]></isNotEmpty>
		<isNotEmpty property="FLAW_ID"><![CDATA[ /* 하자_보수_공사.하자_ID */ AND tnflawcntrwk.FLAW_ID = #FLAW_ID# ]]></isNotEmpty>
		<isNotEmpty property="DETAIL_CNTRWK_ID"><![CDATA[ /* 하자_보수_공사.세부_공사_ID */ AND tnflawcntrwk.DETAIL_CNTRWK_ID = #DETAIL_CNTRWK_ID# ]]></isNotEmpty>
		<isNotEmpty property="DETAIL_CNTRWK_GROUP"><![CDATA[ /* 하자_보수_공사.세부_공사_그룹 */ AND tnflawcntrwk.DETAIL_CNTRWK_GROUP = #DETAIL_CNTRWK_GROUP# ]]></isNotEmpty>
		<isNotEmpty property="DETAIL_KND_NM"><![CDATA[ /* 하자_보수_공사.세부_종류_명 */ AND tnflawcntrwk.DETAIL_KND_NM = #DETAIL_KND_NM# ]]></isNotEmpty>
		<isNotEmpty property="CNTRWK_DE"><![CDATA[ /* 하자_보수_공사.공사_일자 */ AND tnflawcntrwk.CNTRWK_DE = #CNTRWK_DE# ]]></isNotEmpty>
		<isNotEmpty property="FLAW_CO_NO"><![CDATA[ /* 하자_보수_공사.하자_업체_번호 */ AND tnflawcntrwk.FLAW_CO_NO = #FLAW_CO_NO# ]]></isNotEmpty>
		<isNotEmpty property="FLAW_CO_NM"><![CDATA[ /* 하자_보수_공사.하자_업체_명 */ AND tnflawcntrwk.FLAW_CO_NM = #FLAW_CO_NM# ]]></isNotEmpty>
		<isNotEmpty property="FLAW_CHCK_DE"><![CDATA[ /* 하자_보수_공사.하자_검사_일자 */ AND tnflawcntrwk.FLAW_CHCK_DE = #FLAW_CHCK_DE# ]]></isNotEmpty>
		<isNotEmpty property="FLAW_AR"><![CDATA[ /* 하자_보수_공사.하자_면적 */ AND tnflawcntrwk.FLAW_AR = #FLAW_AR# ]]></isNotEmpty>
		<isNotEmpty property="FLAW_LEN"><![CDATA[ /* 하자_보수_공사.하자_연장 */ AND tnflawcntrwk.FLAW_LEN = #FLAW_LEN# ]]></isNotEmpty>
		<isNotEmpty property="FLAW_LC"><![CDATA[ /* 하자_보수_공사.하자_위치 */ AND tnflawcntrwk.FLAW_LC = #FLAW_LC# ]]></isNotEmpty>
		<isNotEmpty property="FLAW_CAUSE"><![CDATA[ /* 하자_보수_공사.하자_원인 */ AND tnflawcntrwk.FLAW_CAUSE = #FLAW_CAUSE# ]]></isNotEmpty>
		<isNotEmpty property="ROAD_NM"><![CDATA[ /* 하자_보수_공사.도로_명 */ AND tnflawcntrwk.ROAD_NM = #ROAD_NM# ]]></isNotEmpty>
		<isNotEmpty property="ROUTE_CODE"><![CDATA[ /* 하자_보수_공사.노선_코드 */ AND tnflawcntrwk.ROUTE_CODE = #ROUTE_CODE# ]]></isNotEmpty>
		<isNotEmpty property="DIRECT_CODE"><![CDATA[ /* 하자_보수_공사.행선_코드 */ AND tnflawcntrwk.DIRECT_CODE = #DIRECT_CODE# ]]></isNotEmpty>
		<isNotEmpty property="TRACK"><![CDATA[ /* 하자_보수_공사.차로 */ AND tnflawcntrwk.TRACK = #TRACK# ]]></isNotEmpty>
		<isNotEmpty property="STRTPT"><![CDATA[ /* 하자_보수_공사.시점 */ AND tnflawcntrwk.STRTPT = #STRTPT# ]]></isNotEmpty>
		<isNotEmpty property="ENDPT"><![CDATA[ /* 하자_보수_공사.종점 */ AND tnflawcntrwk.ENDPT = #ENDPT# ]]></isNotEmpty>
		<isNotEmpty property="PAV_STLE_CODE"><![CDATA[ /* 하자_보수_공사.포장_형태_코드 */ AND tnflawcntrwk.PAV_STLE_CODE = #PAV_STLE_CODE# ]]></isNotEmpty>
		<isNotEmpty property="PAV_MSRC_ETC"><![CDATA[ /* 하자_보수_공사.포장_공법_기타 */ AND tnflawcntrwk.PAV_MSRC_ETC = #PAV_MSRC_ETC# ]]></isNotEmpty>
		<isNotEmpty property="RPAIR_THICK_DC"><![CDATA[ /* 하자_보수_공사.보수_두께_설명 */ AND tnflawcntrwk.RPAIR_THICK_DC = #RPAIR_THICK_DC# ]]></isNotEmpty>
		<isNotEmpty property="RPAIR_THICK"><![CDATA[ /* 하자_보수_공사.보수_두께 */ AND tnflawcntrwk.RPAIR_THICK = #RPAIR_THICK# ]]></isNotEmpty>
		<isNotEmpty property="RPAIR_AR"><![CDATA[ /* 하자_보수_공사.보수_면적 */ AND tnflawcntrwk.RPAIR_AR = #RPAIR_AR# ]]></isNotEmpty>
		<isNotEmpty property="RPAIR_BT"><![CDATA[ /* 하자_보수_공사.보수_폭 */ AND tnflawcntrwk.RPAIR_BT = #RPAIR_BT# ]]></isNotEmpty>
		<isNotEmpty property="RPAIR_LEN"><![CDATA[ /* 하자_보수_공사.보수_연장 */ AND tnflawcntrwk.RPAIR_LEN = #RPAIR_LEN# ]]></isNotEmpty>
		<isNotEmpty property="RPAIR_LC"><![CDATA[ /* 하자_보수_공사.보수_위치 */ AND tnflawcntrwk.RPAIR_LC = #RPAIR_LC# ]]></isNotEmpty>
		<isNotEmpty property="RPAIR_DE"><![CDATA[ /* 하자_보수_공사.보수_일자 */ AND tnflawcntrwk.RPAIR_DE = #RPAIR_DE# ]]></isNotEmpty>
		<isNotEmpty property="RPAIR_MATRL_DETAIL_NM"><![CDATA[ /* 하자_보수_공사.보수_재료_세부_명 */ AND tnflawcntrwk.RPAIR_MATRL_DETAIL_NM = #RPAIR_MATRL_DETAIL_NM# ]]></isNotEmpty>
		<isNotEmpty property="RPAIR_THICK_BASE"><![CDATA[ /* 하자_보수_공사.보수_두께_기층 */ AND tnflawcntrwk.RPAIR_THICK_BASE = #RPAIR_THICK_BASE# ]]></isNotEmpty>
		<isNotEmpty property="RPAIR_THICK_CNTR"><![CDATA[ /* 하자_보수_공사.보수_두께_중간층 */ AND tnflawcntrwk.RPAIR_THICK_CNTR = #RPAIR_THICK_CNTR# ]]></isNotEmpty>
		<isNotEmpty property="RPAIR_THICK_ASCON"><![CDATA[ /* 하자_보수_공사.보수_두께_표층 */ AND tnflawcntrwk.RPAIR_THICK_ASCON = #RPAIR_THICK_ASCON# ]]></isNotEmpty>
		<isNotEmpty property="PAV_MATRL_ASCON_CODE"><![CDATA[ /* 하자_보수_공사.포장_재료_표층_코드 */ AND tnflawcntrwk.PAV_MATRL_ASCON_CODE = #PAV_MATRL_ASCON_CODE# ]]></isNotEmpty>
		<isNotEmpty property="PAV_MATRL_ASCON_ETC"><![CDATA[ /* 하자_보수_공사.포장_재료_표층_기타 */ AND tnflawcntrwk.PAV_MATRL_ASCON_ETC = #PAV_MATRL_ASCON_ETC# ]]></isNotEmpty>
		<isNotEmpty property="PAV_MATRL_BASE_CODE"><![CDATA[ /* 하자_보수_공사.포장_재료_기층_코드 */ AND tnflawcntrwk.PAV_MATRL_BASE_CODE = #PAV_MATRL_BASE_CODE# ]]></isNotEmpty>
		<isNotEmpty property="PAV_MATRL_BASE_ETC"><![CDATA[ /* 하자_보수_공사.포장_재료_기층_기타 */ AND tnflawcntrwk.PAV_MATRL_BASE_ETC = #PAV_MATRL_BASE_ETC# ]]></isNotEmpty>
		<isNotEmpty property="PAV_MATRL_CNTR_CODE"><![CDATA[ /* 하자_보수_공사.포장_재료_중간층_코드 */ AND tnflawcntrwk.PAV_MATRL_CNTR_CODE = #PAV_MATRL_CNTR_CODE# ]]></isNotEmpty>
		<isNotEmpty property="PAV_MATRL_CNTR_ETC"><![CDATA[ /* 하자_보수_공사.포장_재료_중간층_기타 */ AND tnflawcntrwk.PAV_MATRL_CNTR_ETC = #PAV_MATRL_CNTR_ETC# ]]></isNotEmpty>
		<isNotEmpty property="FILE_NO"><![CDATA[ /* 하자_보수_공사.파일_번호 */ AND tnflawcntrwk.FILE_NO = #FILE_NO# ]]></isNotEmpty>
		<isNotEmpty property="OPERT_BFE_PHOTO_NO"><![CDATA[ /* 하자_보수_공사.작업_전_사진_번호 */ AND tnflawcntrwk.OPERT_BFE_PHOTO_NO = #OPERT_BFE_PHOTO_NO# ]]></isNotEmpty>
		<isNotEmpty property="OPERT_AFT_PHOTO_NO"><![CDATA[ /* 하자_보수_공사.작업_후_사진_번호 */ AND tnflawcntrwk.OPERT_AFT_PHOTO_NO = #OPERT_AFT_PHOTO_NO# ]]></isNotEmpty>
		<isNotEmpty property="USE_AT"><![CDATA[ /* 하자_보수_공사.사용_여부 */ AND tnflawcntrwk.USE_AT = #USE_AT# ]]></isNotEmpty>
		<isNotEmpty property="DELETE_AT"><![CDATA[ /* 하자_보수_공사.삭제_여부 */ AND tnflawcntrwk.DELETE_AT = #DELETE_AT# ]]></isNotEmpty>
		<isNotEmpty property="CRTR_NO"><![CDATA[ /* 하자_보수_공사.생성자_번호 */ AND tnflawcntrwk.CRTR_NO = #CRTR_NO# ]]></isNotEmpty>
		<isNotEmpty property="CREAT_DT"><![CDATA[ /* 하자_보수_공사.생성_일시 */ AND tnflawcntrwk.CREAT_DT = #CREAT_DT# ]]></isNotEmpty>
		<isNotEmpty property="UPDUSR_NO"><![CDATA[ /* 하자_보수_공사.수정자_번호 */ AND tnflawcntrwk.UPDUSR_NO = #UPDUSR_NO# ]]></isNotEmpty>
		<isNotEmpty property="UPDT_DT"><![CDATA[ /* 하자_보수_공사.수정_일시 */ AND tnflawcntrwk.UPDT_DT = #UPDT_DT# ]]></isNotEmpty>
		<isNotEmpty property="RPAIR_MTHD_CODE"><![CDATA[ /* 하자_보수_공사.보수_꽁법_코드 */ AND tnflawcntrwk.RPAIR_MTHD_CODE = #RPAIR_MTHD_CODE# ]]></isNotEmpty>
</sql>

	<select id="flawCntrwkDAO.selectFlawCntrwkListPage"
		parameterClass="flawCntrwkVO"
		resultClass="flawCntrwkVO">
<![CDATA[ 		
		/* flawCntrwkDAO.selectFlawCntrwkListPage */
		/* 하자_보수_공사 조회(페이징) */
		WITH tnflawcntrwk AS
		(
		SELECT	
				tnflawcntrwk.CNTRWK_ID /* 하자_보수_공사.공사_ID */
				, tnflawcntrwk.FLAW_CNTRWK_ID /* 하자_보수_공사.하자_공사_ID */
				, tnflawcntrwk.FLAW_ID /* 하자_보수_공사.하자_ID */
				, tnflawcntrwk.DETAIL_CNTRWK_ID /* 하자_보수_공사.세부_공사_ID */
				, tnflawcntrwk.DETAIL_CNTRWK_GROUP /* 하자_보수_공사.세부_공사_그룹 */
				, tnflawcntrwk.DETAIL_KND_NM /* 하자_보수_공사.세부_종류_명 */
				, tnflawcntrwk.CNTRWK_DE /* 하자_보수_공사.공사_일자 */
				, tnflawcntrwk.FLAW_CO_NO /* 하자_보수_공사.하자_업체_번호 */
				, tnflawcntrwk.FLAW_CO_NM /* 하자_보수_공사.하자_업체_명 */
				, tnflawcntrwk.FLAW_CHCK_DE /* 하자_보수_공사.하자_검사_일자 */
				, tnflawcntrwk.FLAW_AR /* 하자_보수_공사.하자_면적 */
				, tnflawcntrwk.FLAW_LEN /* 하자_보수_공사.하자_연장 */
				, tnflawcntrwk.FLAW_LC /* 하자_보수_공사.하자_위치 */
				, tnflawcntrwk.FLAW_CAUSE /* 하자_보수_공사.하자_원인 */
				, tnflawcntrwk.ROAD_NM /* 하자_보수_공사.도로_명 */
				, tnflawcntrwk.ROUTE_CODE /* 하자_보수_공사.노선_코드 */
				, tnflawcntrwk.DIRECT_CODE /* 하자_보수_공사.행선_코드 */
				, tnflawcntrwk.TRACK /* 하자_보수_공사.차로 */
				, tnflawcntrwk.STRTPT /* 하자_보수_공사.시점 */
				, tnflawcntrwk.ENDPT /* 하자_보수_공사.종점 */
				, tnflawcntrwk.PAV_STLE_CODE /* 하자_보수_공사.포장_형태_코드 */
				, tnflawcntrwk.PAV_MSRC_ETC /* 하자_보수_공사.포장_공법_기타 */
				, tnflawcntrwk.RPAIR_THICK_DC /* 하자_보수_공사.보수_두께_설명 */
				, tnflawcntrwk.RPAIR_THICK /* 하자_보수_공사.보수_두께 */
				, tnflawcntrwk.RPAIR_AR /* 하자_보수_공사.보수_면적 */
				, tnflawcntrwk.RPAIR_BT /* 하자_보수_공사.보수_폭 */
				, tnflawcntrwk.RPAIR_LEN /* 하자_보수_공사.보수_연장 */
				, tnflawcntrwk.RPAIR_LC /* 하자_보수_공사.보수_위치 */
				, tnflawcntrwk.RPAIR_DE /* 하자_보수_공사.보수_일자 */
				, tnflawcntrwk.RPAIR_MATRL_DETAIL_NM /* 하자_보수_공사.보수_재료_세부_명 */
				, tnflawcntrwk.RPAIR_THICK_BASE /* 하자_보수_공사.보수_두께_기층 */
				, tnflawcntrwk.RPAIR_THICK_CNTR /* 하자_보수_공사.보수_두께_중간층 */
				, tnflawcntrwk.RPAIR_THICK_ASCON /* 하자_보수_공사.보수_두께_표층 */
				, tnflawcntrwk.PAV_MATRL_ASCON_CODE /* 하자_보수_공사.포장_재료_표층_코드 */
				, tnflawcntrwk.PAV_MATRL_ASCON_ETC /* 하자_보수_공사.포장_재료_표층_기타 */
				, tnflawcntrwk.PAV_MATRL_BASE_CODE /* 하자_보수_공사.포장_재료_기층_코드 */
				, tnflawcntrwk.PAV_MATRL_BASE_ETC /* 하자_보수_공사.포장_재료_기층_기타 */
				, tnflawcntrwk.PAV_MATRL_CNTR_CODE /* 하자_보수_공사.포장_재료_중간층_코드 */
				, tnflawcntrwk.PAV_MATRL_CNTR_ETC /* 하자_보수_공사.포장_재료_중간층_기타 */
				, tnflawcntrwk.FILE_NO /* 하자_보수_공사.파일_번호 */
				, tnflawcntrwk.OPERT_BFE_PHOTO_NO /* 하자_보수_공사.작업_전_사진_번호 */
				, tnflawcntrwk.OPERT_AFT_PHOTO_NO /* 하자_보수_공사.작업_후_사진_번호 */
				, tnflawcntrwk.USE_AT /* 하자_보수_공사.사용_여부 */
				, tnflawcntrwk.DELETE_AT /* 하자_보수_공사.삭제_여부 */
				, tnflawcntrwk.CRTR_NO /* 하자_보수_공사.생성자_번호 */
				, tnflawcntrwk.CREAT_DT /* 하자_보수_공사.생성_일시 */
				, tnflawcntrwk.UPDUSR_NO /* 하자_보수_공사.수정자_번호 */
				, tnflawcntrwk.UPDT_DT /* 하자_보수_공사.수정_일시 */
				, tnflawcntrwk.RPAIR_MTHD_CODE /* 하자_보수_공사.보수_꽁법_코드  */
			
			FROM TN_FLAW_CNTRWK tnflawcntrwk
]]>			
		WHERE 1 = 1

		<isEqual property="searchCondition" compareValue="0">
			AND tnflawcntrwk.CNTRWK_ID = #searchKeyword#
		</isEqual>

		<isEqual property="searchCondition" compareValue="1">
			AND tnflawcntrwk.FLAW_CNTRWK_ID LIKE '%' || #searchKeyword# || '%'
		</isEqual>
		
			<isNotEmpty property="CNTRWK_ID">
				<![CDATA[
					/* 하자_보수_공사.공사_ID */
					AND tnflawcntrwk.CNTRWK_ID = #CNTRWK_ID#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="FLAW_CNTRWK_ID">
				<![CDATA[
					/* 하자_보수_공사.하자_공사_ID */
					AND tnflawcntrwk.FLAW_CNTRWK_ID = #FLAW_CNTRWK_ID#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="FLAW_ID">
				<![CDATA[
					/* 하자_보수_공사.하자_ID */
					AND tnflawcntrwk.FLAW_ID = #FLAW_ID#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="DETAIL_CNTRWK_ID">
				<![CDATA[
					/* 하자_보수_공사.세부_공사_ID */
					AND tnflawcntrwk.DETAIL_CNTRWK_ID = #DETAIL_CNTRWK_ID#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="DETAIL_CNTRWK_GROUP">
				<![CDATA[
					/* 하자_보수_공사.세부_공사_그룹 */
					AND tnflawcntrwk.DETAIL_CNTRWK_GROUP = #DETAIL_CNTRWK_GROUP#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="DETAIL_KND_NM">
				<![CDATA[
					/* 하자_보수_공사.세부_종류_명 */
					AND tnflawcntrwk.DETAIL_KND_NM = #DETAIL_KND_NM#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="CNTRWK_DE">
				<![CDATA[
					/* 하자_보수_공사.공사_일자 */
					AND tnflawcntrwk.CNTRWK_DE = #CNTRWK_DE#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="FLAW_CO_NO">
				<![CDATA[
					/* 하자_보수_공사.하자_업체_번호 */
					AND tnflawcntrwk.FLAW_CO_NO = #FLAW_CO_NO#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="FLAW_CO_NM">
				<![CDATA[
					/* 하자_보수_공사.하자_업체_명 */
					AND tnflawcntrwk.FLAW_CO_NM = #FLAW_CO_NM#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="FLAW_CHCK_DE">
				<![CDATA[
					/* 하자_보수_공사.하자_검사_일자 */
					AND tnflawcntrwk.FLAW_CHCK_DE = #FLAW_CHCK_DE#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="FLAW_AR">
				<![CDATA[
					/* 하자_보수_공사.하자_면적 */
					AND tnflawcntrwk.FLAW_AR = #FLAW_AR#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="FLAW_LEN">
				<![CDATA[
					/* 하자_보수_공사.하자_연장 */
					AND tnflawcntrwk.FLAW_LEN = #FLAW_LEN#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="FLAW_LC">
				<![CDATA[
					/* 하자_보수_공사.하자_위치 */
					AND tnflawcntrwk.FLAW_LC = #FLAW_LC#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="FLAW_CAUSE">
				<![CDATA[
					/* 하자_보수_공사.하자_원인 */
					AND tnflawcntrwk.FLAW_CAUSE = #FLAW_CAUSE#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="ROAD_NM">
				<![CDATA[
					/* 하자_보수_공사.도로_명 */
					AND tnflawcntrwk.ROAD_NM = #ROAD_NM#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="ROUTE_CODE">
				<![CDATA[
					/* 하자_보수_공사.노선_코드 */
					AND tnflawcntrwk.ROUTE_CODE = #ROUTE_CODE#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="DIRECT_CODE">
				<![CDATA[
					/* 하자_보수_공사.행선_코드 */
					AND tnflawcntrwk.DIRECT_CODE = #DIRECT_CODE#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="TRACK">
				<![CDATA[
					/* 하자_보수_공사.차로 */
					AND tnflawcntrwk.TRACK = #TRACK#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="STRTPT">
				<![CDATA[
					/* 하자_보수_공사.시점 */
					AND tnflawcntrwk.STRTPT = #STRTPT#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="ENDPT">
				<![CDATA[
					/* 하자_보수_공사.종점 */
					AND tnflawcntrwk.ENDPT = #ENDPT#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="PAV_STLE_CODE">
				<![CDATA[
					/* 하자_보수_공사.포장_형태_코드 */
					AND tnflawcntrwk.PAV_STLE_CODE = #PAV_STLE_CODE#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="PAV_MSRC_ETC">
				<![CDATA[
					/* 하자_보수_공사.포장_공법_기타 */
					AND tnflawcntrwk.PAV_MSRC_ETC = #PAV_MSRC_ETC#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="RPAIR_THICK_DC">
				<![CDATA[
					/* 하자_보수_공사.보수_두께_설명 */
					AND tnflawcntrwk.RPAIR_THICK_DC = #RPAIR_THICK_DC#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="RPAIR_THICK">
				<![CDATA[
					/* 하자_보수_공사.보수_두께 */
					AND tnflawcntrwk.RPAIR_THICK = #RPAIR_THICK#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="RPAIR_AR">
				<![CDATA[
					/* 하자_보수_공사.보수_면적 */
					AND tnflawcntrwk.RPAIR_AR = #RPAIR_AR#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="RPAIR_BT">
				<![CDATA[
					/* 하자_보수_공사.보수_폭 */
					AND tnflawcntrwk.RPAIR_BT = #RPAIR_BT#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="RPAIR_LEN">
				<![CDATA[
					/* 하자_보수_공사.보수_연장 */
					AND tnflawcntrwk.RPAIR_LEN = #RPAIR_LEN#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="RPAIR_LC">
				<![CDATA[
					/* 하자_보수_공사.보수_위치 */
					AND tnflawcntrwk.RPAIR_LC = #RPAIR_LC#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="RPAIR_DE">
				<![CDATA[
					/* 하자_보수_공사.보수_일자 */
					AND tnflawcntrwk.RPAIR_DE = #RPAIR_DE#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="RPAIR_MATRL_DETAIL_NM">
				<![CDATA[
					/* 하자_보수_공사.보수_재료_세부_명 */
					AND tnflawcntrwk.RPAIR_MATRL_DETAIL_NM = #RPAIR_MATRL_DETAIL_NM#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="RPAIR_THICK_BASE">
				<![CDATA[
					/* 하자_보수_공사.보수_두께_기층 */
					AND tnflawcntrwk.RPAIR_THICK_BASE = #RPAIR_THICK_BASE#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="RPAIR_THICK_CNTR">
				<![CDATA[
					/* 하자_보수_공사.보수_두께_중간층 */
					AND tnflawcntrwk.RPAIR_THICK_CNTR = #RPAIR_THICK_CNTR#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="RPAIR_THICK_ASCON">
				<![CDATA[
					/* 하자_보수_공사.보수_두께_표층 */
					AND tnflawcntrwk.RPAIR_THICK_ASCON = #RPAIR_THICK_ASCON#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="PAV_MATRL_ASCON_CODE">
				<![CDATA[
					/* 하자_보수_공사.포장_재료_표층_코드 */
					AND tnflawcntrwk.PAV_MATRL_ASCON_CODE = #PAV_MATRL_ASCON_CODE#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="PAV_MATRL_ASCON_ETC">
				<![CDATA[
					/* 하자_보수_공사.포장_재료_표층_기타 */
					AND tnflawcntrwk.PAV_MATRL_ASCON_ETC = #PAV_MATRL_ASCON_ETC#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="PAV_MATRL_BASE_CODE">
				<![CDATA[
					/* 하자_보수_공사.포장_재료_기층_코드 */
					AND tnflawcntrwk.PAV_MATRL_BASE_CODE = #PAV_MATRL_BASE_CODE#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="PAV_MATRL_BASE_ETC">
				<![CDATA[
					/* 하자_보수_공사.포장_재료_기층_기타 */
					AND tnflawcntrwk.PAV_MATRL_BASE_ETC = #PAV_MATRL_BASE_ETC#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="PAV_MATRL_CNTR_CODE">
				<![CDATA[
					/* 하자_보수_공사.포장_재료_중간층_코드 */
					AND tnflawcntrwk.PAV_MATRL_CNTR_CODE = #PAV_MATRL_CNTR_CODE#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="PAV_MATRL_CNTR_ETC">
				<![CDATA[
					/* 하자_보수_공사.포장_재료_중간층_기타 */
					AND tnflawcntrwk.PAV_MATRL_CNTR_ETC = #PAV_MATRL_CNTR_ETC#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="FILE_NO">
				<![CDATA[
					/* 하자_보수_공사.파일_번호 */
					AND tnflawcntrwk.FILE_NO = #FILE_NO#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="OPERT_BFE_PHOTO_NO">
				<![CDATA[
					/* 하자_보수_공사.작업_전_사진_번호 */
					AND tnflawcntrwk.OPERT_BFE_PHOTO_NO = #OPERT_BFE_PHOTO_NO#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="OPERT_AFT_PHOTO_NO">
				<![CDATA[
					/* 하자_보수_공사.작업_후_사진_번호 */
					AND tnflawcntrwk.OPERT_AFT_PHOTO_NO = #OPERT_AFT_PHOTO_NO#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="USE_AT">
				<![CDATA[
					/* 하자_보수_공사.사용_여부 */
					AND tnflawcntrwk.USE_AT = #USE_AT#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="DELETE_AT">
				<![CDATA[
					/* 하자_보수_공사.삭제_여부 */
					AND tnflawcntrwk.DELETE_AT = #DELETE_AT#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="CRTR_NO">
				<![CDATA[
					/* 하자_보수_공사.생성자_번호 */
					AND tnflawcntrwk.CRTR_NO = #CRTR_NO#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="CREAT_DT">
				<![CDATA[
					/* 하자_보수_공사.생성_일시 */
					AND tnflawcntrwk.CREAT_DT = #CREAT_DT#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="UPDUSR_NO">
				<![CDATA[
					/* 하자_보수_공사.수정자_번호 */
					AND tnflawcntrwk.UPDUSR_NO = #UPDUSR_NO#
				]]>
			</isNotEmpty>
		
			<isNotEmpty property="UPDT_DT">
				<![CDATA[
					/* 하자_보수_공사.수정_일시 */
					AND tnflawcntrwk.UPDT_DT = #UPDT_DT#
				]]>
			</isNotEmpty>
			
			<isNotEmpty property="RPAIR_MTHD_CODE">
				<![CDATA[
					/* 하자_보수_공사.보수_꽁법_코드  */
					AND tnflawcntrwk.RPAIR_MTHD_CODE = #RPAIR_MTHD_CODE#
				]]>
			</isNotEmpty>
			
	<![CDATA[		
		)
		SELECT tnflawcntrwk.* FROM
		(
		SELECT 
										tnflawcntrwk.CNTRWK_ID /* 하자_보수_공사.공사_ID */
											, tnflawcntrwk.FLAW_CNTRWK_ID /* 하자_보수_공사.하자_공사_ID */
											, tnflawcntrwk.FLAW_ID /* 하자_보수_공사.하자_ID */
											, tnflawcntrwk.DETAIL_CNTRWK_ID /* 하자_보수_공사.세부_공사_ID */
											, tnflawcntrwk.DETAIL_CNTRWK_GROUP /* 하자_보수_공사.세부_공사_그룹 */
											, tnflawcntrwk.DETAIL_KND_NM /* 하자_보수_공사.세부_종류_명 */
											, tnflawcntrwk.CNTRWK_DE /* 하자_보수_공사.공사_일자 */
											, tnflawcntrwk.FLAW_CO_NO /* 하자_보수_공사.하자_업체_번호 */
											, tnflawcntrwk.FLAW_CO_NM /* 하자_보수_공사.하자_업체_명 */
											, tnflawcntrwk.FLAW_CHCK_DE /* 하자_보수_공사.하자_검사_일자 */
											, tnflawcntrwk.FLAW_AR /* 하자_보수_공사.하자_면적 */
											, tnflawcntrwk.FLAW_LEN /* 하자_보수_공사.하자_연장 */
											, tnflawcntrwk.FLAW_LC /* 하자_보수_공사.하자_위치 */
											, tnflawcntrwk.FLAW_CAUSE /* 하자_보수_공사.하자_원인 */
											, tnflawcntrwk.ROAD_NM /* 하자_보수_공사.도로_명 */
											, tnflawcntrwk.ROUTE_CODE /* 하자_보수_공사.노선_코드 */
											, tnflawcntrwk.DIRECT_CODE /* 하자_보수_공사.행선_코드 */
											, tnflawcntrwk.TRACK /* 하자_보수_공사.차로 */
											, tnflawcntrwk.STRTPT /* 하자_보수_공사.시점 */
											, tnflawcntrwk.ENDPT /* 하자_보수_공사.종점 */
											, tnflawcntrwk.PAV_STLE_CODE /* 하자_보수_공사.포장_형태_코드 */
											, tnflawcntrwk.PAV_MSRC_ETC /* 하자_보수_공사.포장_공법_기타 */
											, tnflawcntrwk.RPAIR_THICK_DC /* 하자_보수_공사.보수_두께_설명 */
											, tnflawcntrwk.RPAIR_THICK /* 하자_보수_공사.보수_두께 */
											, tnflawcntrwk.RPAIR_AR /* 하자_보수_공사.보수_면적 */
											, tnflawcntrwk.RPAIR_BT /* 하자_보수_공사.보수_폭 */
											, tnflawcntrwk.RPAIR_LEN /* 하자_보수_공사.보수_연장 */
											, tnflawcntrwk.RPAIR_LC /* 하자_보수_공사.보수_위치 */
											, tnflawcntrwk.RPAIR_DE /* 하자_보수_공사.보수_일자 */
											, tnflawcntrwk.RPAIR_MATRL_DETAIL_NM /* 하자_보수_공사.보수_재료_세부_명 */
											, tnflawcntrwk.RPAIR_THICK_BASE /* 하자_보수_공사.보수_두께_기층 */
											, tnflawcntrwk.RPAIR_THICK_CNTR /* 하자_보수_공사.보수_두께_중간층 */
											, tnflawcntrwk.RPAIR_THICK_ASCON /* 하자_보수_공사.보수_두께_표층 */
											, tnflawcntrwk.PAV_MATRL_ASCON_CODE /* 하자_보수_공사.포장_재료_표층_코드 */
											, tnflawcntrwk.PAV_MATRL_ASCON_ETC /* 하자_보수_공사.포장_재료_표층_기타 */
											, tnflawcntrwk.PAV_MATRL_BASE_CODE /* 하자_보수_공사.포장_재료_기층_코드 */
											, tnflawcntrwk.PAV_MATRL_BASE_ETC /* 하자_보수_공사.포장_재료_기층_기타 */
											, tnflawcntrwk.PAV_MATRL_CNTR_CODE /* 하자_보수_공사.포장_재료_중간층_코드 */
											, tnflawcntrwk.PAV_MATRL_CNTR_ETC /* 하자_보수_공사.포장_재료_중간층_기타 */
											, tnflawcntrwk.FILE_NO /* 하자_보수_공사.파일_번호 */
											, tnflawcntrwk.OPERT_BFE_PHOTO_NO /* 하자_보수_공사.작업_전_사진_번호 */
											, tnflawcntrwk.OPERT_AFT_PHOTO_NO /* 하자_보수_공사.작업_후_사진_번호 */
											, tnflawcntrwk.USE_AT /* 하자_보수_공사.사용_여부 */
											, tnflawcntrwk.DELETE_AT /* 하자_보수_공사.삭제_여부 */
											, tnflawcntrwk.CRTR_NO /* 하자_보수_공사.생성자_번호 */
											, tnflawcntrwk.CREAT_DT /* 하자_보수_공사.생성_일시 */
											, tnflawcntrwk.UPDUSR_NO /* 하자_보수_공사.수정자_번호 */
											, tnflawcntrwk.UPDT_DT /* 하자_보수_공사.수정_일시 */
											, tnflawcntrwk.RPAIR_MTHD_CODE /* 하자_보수_공사.보수_꽁법_코드  */
						/* 하자_보수_공사.공사_ID */
			/* 하자_보수_공사.하자_공사_ID */
			, ROW_NUMBER() OVER( ORDER BY tnflawcntrwk.CNTRWK_ID ASC, tnflawcntrwk.FLAW_CNTRWK_ID DESC )  ROW_NO
			FROM  tnflawcntrwk
			WHERE 1=1
		)  tnflawcntrwk
		WHERE 1=1
]]>			
<![CDATA[  		
  		AND  tnflawcntrwk.ROW_NO BETWEEN #firstIndex# + 1 AND #lastIndex#
]]>	  		
<![CDATA[
		AND  tnflawcntrwk.ROW_NO <= #lastIndex#	AND  ROW_NO > #firstIndex#
]]>	
	

	</select>	
	
	
	<select id="flawCntrwkDAO.selectFlawCntrwkList"
		parameterClass="flawCntrwkVO"
		resultClass="flawCntrwkVO">
<![CDATA[ 		
		/* flawCntrwkDAO.selectFlawCntrwkList */
		/* 하자_보수_공사 조회 */
		SELECT * FROM (SELECT ROW_NUMBER() OVER() AS rn, tb.* FROM (
			SELECT
				  cell10.cell_id  /* CELL_10.셀관리번호 */
				, tnflawcntrwk.CNTRWK_ID /* 하자_보수_공사.공사_ID */
				, tnflawcntrwk.FLAW_CNTRWK_ID /* 하자_보수_공사.하자_공사_ID */
				, tnflawcntrwk.FLAW_ID /* 하자_보수_공사.하자_ID */
				, tnflawcntrwk.DETAIL_CNTRWK_ID /* 하자_보수_공사.세부_공사_ID */
				, tnflawcntrwk.DETAIL_CNTRWK_GROUP /* 하자_보수_공사.세부_공사_그룹 */
				, tnflawcntrwk.DETAIL_KND_NM /* 하자_보수_공사.세부_종류_명 */
				, tnflawcntrwk.CNTRWK_DE /* 하자_보수_공사.공사_일자 */
				, tnflawcntrwk.FLAW_CO_NO /* 하자_보수_공사.하자_업체_번호 */
				, tnflawcntrwk.FLAW_CO_NM /* 하자_보수_공사.하자_업체_명 */
				, tnflawcntrwk.FLAW_CHCK_DE /* 하자_보수_공사.하자_검사_일자 */
				, tnflawcntrwk.FLAW_AR /* 하자_보수_공사.하자_면적 */
				, tnflawcntrwk.FLAW_LEN /* 하자_보수_공사.하자_연장 */
				, tnflawcntrwk.FLAW_LC /* 하자_보수_공사.하자_위치 */
				, tnflawcntrwk.FLAW_CAUSE /* 하자_보수_공사.하자_원인 */
				, tnflawcntrwk.ROAD_NM /* 하자_보수_공사.도로_명 */
				, tnflawcntrwk.ROUTE_CODE /* 하자_보수_공사.노선_코드 */
				, (SELECT ROAD_NAME FROM TN_ROUTE_INFO WHERE ROAD_NO = tnflawcntrwk.ROUTE_CODE )  ROUTE_NM/* 공사상세정보.노선_명 */
				, tnflawcntrwk.DIRECT_CODE /* 하자_보수_공사.행선_코드 */
				, decode(tnflawcntrwk.DIRECT_CODE, 'S', '상행', 'E', '하행', 'SE', '양방향') DIRECT_NM
				, tnflawcntrwk.TRACK /* 하자_보수_공사.차로 */
				, tnflawcntrwk.STRTPT /* 하자_보수_공사.시점 */
				, tnflawcntrwk.ENDPT /* 하자_보수_공사.종점 */
				, tnflawcntrwk.PAV_STLE_CODE /* 하자_보수_공사.포장_형태_코드 */
				, tnflawcntrwk.PAV_MSRC_ETC /* 하자_보수_공사.포장_공법_기타 */
				, tnflawcntrwk.RPAIR_THICK_DC /* 하자_보수_공사.보수_두께_설명 */
				, tnflawcntrwk.RPAIR_THICK /* 하자_보수_공사.보수_두께 */
				, tnflawcntrwk.RPAIR_AR /* 하자_보수_공사.보수_면적 */
				, tnflawcntrwk.RPAIR_BT /* 하자_보수_공사.보수_폭 */
				, tnflawcntrwk.RPAIR_LEN /* 하자_보수_공사.보수_연장 */
				, tnflawcntrwk.RPAIR_LC /* 하자_보수_공사.보수_위치 */
				, tnflawcntrwk.RPAIR_DE /* 하자_보수_공사.보수_일자 */
				, tnflawcntrwk.RPAIR_MATRL_DETAIL_NM /* 하자_보수_공사.보수_재료_세부_명 */
				, tnflawcntrwk.RPAIR_THICK_BASE /* 하자_보수_공사.보수_두께_기층 */
				, tnflawcntrwk.RPAIR_THICK_CNTR /* 하자_보수_공사.보수_두께_중간층 */
				, tnflawcntrwk.RPAIR_THICK_ASCON /* 하자_보수_공사.보수_두께_표층 */
				, tnflawcntrwk.PAV_MATRL_ASCON_CODE /* 하자_보수_공사.포장_재료_표층_코드 */
				, (SELECT PAV_MATRL_NM FROM TC_PAV_MATRL tcpavmatrl WHERE tcpavmatrl.PAV_MATRL_CODE =  tnflawcntrwk.PAV_MATRL_ASCON_CODE) AS PAV_MATRL_ASCON_NM /* 포장_재료명_표층 */
				, tnflawcntrwk.PAV_MATRL_ASCON_ETC /* 하자_보수_공사.포장_재료_표층_기타 */
				, tnflawcntrwk.PAV_MATRL_BASE_CODE /* 하자_보수_공사.포장_재료_기층_코드 */
				, tnflawcntrwk.PAV_MATRL_BASE_ETC /* 하자_보수_공사.포장_재료_기층_기타 */
				, tnflawcntrwk.PAV_MATRL_CNTR_CODE /* 하자_보수_공사.포장_재료_중간층_코드 */
				, tnflawcntrwk.PAV_MATRL_CNTR_ETC /* 하자_보수_공사.포장_재료_중간층_기타 */
				, tnflawcntrwk.FILE_NO /* 하자_보수_공사.파일_번호 */
				, tnflawcntrwk.OPERT_BFE_PHOTO_NO /* 하자_보수_공사.작업_전_사진_번호 */
				, tnflawcntrwk.OPERT_AFT_PHOTO_NO /* 하자_보수_공사.작업_후_사진_번호 */
				, tnflawcntrwk.USE_AT /* 하자_보수_공사.사용_여부 */
				, tnflawcntrwk.DELETE_AT /* 하자_보수_공사.삭제_여부 */
				, tnflawcntrwk.CRTR_NO /* 하자_보수_공사.생성자_번호 */
				, tnflawcntrwk.CREAT_DT /* 하자_보수_공사.생성_일시 */
				, tnflawcntrwk.UPDUSR_NO /* 하자_보수_공사.수정자_번호 */
				, tnflawcntrwk.UPDT_DT /* 하자_보수_공사.수정_일시 */
				, tnflawcntrwk.RPAIR_MTHD_CODE /* 하자_보수_공사.보수_공법_코드  */
				, (SELECT tccode.CODE_NM 
					FROM TC_RPAIR_MTHD tcrpairmthd 
					LEFT OUTER JOIN TC_CODE tccode
					  ON tccode.CODE_VAL = tcrpairmthd.MSRC_CL_CODE
					 AND tccode.USE_AT = 'Y'
					 AND tccode.DELETE_AT = 'N' 
				   WHERE tcrpairmthd.RPAIR_MTHD_CODE = tnflawcntrwk.RPAIR_MTHD_CODE
				     AND tcrpairmthd.DELETE_AT = 'N') AS RPAIR_MTHD_NM /* 하자_보수_공사.보수_공법명 */
			FROM TN_FLAW_CNTRWK tnflawcntrwk	LEFT OUTER JOIN CELL_10 cell10 ON tnflawcntrwk.direct_code = cell10.direct_code
						AND  tnflawcntrwk.route_code = cell10.route_code
						AND  tnflawcntrwk.track = cell10.track
						AND  tnflawcntrwk.strtpt = cell10.strtpt
						AND  tnflawcntrwk.endpt = cell10.endpt
		  WHERE  tnflawcntrwk.USE_AT = 'Y'/* 하자_보수_공사.사용_여부 */
		        AND tnflawcntrwk.DELETE_AT = 'N'/* 하자_보수_공사.삭제_여부 */
]]>
<isNotEmpty property="CNTRWK_ID"><![CDATA[ /* 하자_보수_공사.공사_ID */ AND tnflawcntrwk.CNTRWK_ID = #CNTRWK_ID# ]]></isNotEmpty>
		<isNotEmpty property="orderByColumn">
			ORDER BY $orderByColumn$ $orderByType$
		</isNotEmpty>
		) tb) tnflawcntrwk  WHERE 1=1
<isEqual prepend=" " property="usePage" compareValue="true">
<![CDATA[
    AND rn BETWEEN #firstIndex# + 1 AND #firstIndex# + #recordCountPerPage#
]]>
</isEqual>		


	</select>		
 

	<select id="flawCntrwkDAO.selectFlawCntrwkListTotalCount"
		parameterClass="flawCntrwkVO"
		resultClass="int">
<![CDATA[ 		
		/* flawCntrwkDAO.selectFlawCntrwkListTotalCount */
		/* 하자_보수_공사 목록 개수 조회  */
		SELECT COUNT(*) AS totCnt
		FROM TN_FLAW_CNTRWK tnflawcntrwk
		WHERE  tnflawcntrwk.USE_AT = 'Y'/* 하자_보수_공사.사용_여부 */
               AND tnflawcntrwk.DELETE_AT = 'N'/* 하자_보수_공사.삭제_여부 */
]]>		
<isNotEmpty property="CNTRWK_ID"><![CDATA[ /* 하자_보수_공사.공사_ID */ AND tnflawcntrwk.CNTRWK_ID = #CNTRWK_ID# ]]></isNotEmpty>
<![CDATA[		
]]>		
	</select>

	<select id="flawCntrwkDAO.selectFlawCntrwkListExcel"
		parameterClass="flawCntrwkVO" resultClass="hashmap">
<![CDATA[ 		
		/* flawCntrwkDAO.selectFlawCntrwkListExcel */
		/* 하자보수공사목록 엑셀조회 */
		SELECT * FROM (SELECT ROW_NUMBER() OVER() AS rn, tb.* FROM (
			SELECT
				tnflawcntrwk.CNTRWK_ID /* 하자_보수_공사.공사_ID */
				, tnflawcntrwk.FLAW_CNTRWK_ID /* 하자_보수_공사.하자_공사_ID */
				, tnflawcntrwk.FLAW_ID /* 하자_보수_공사.하자_ID */
				, tnflawcntrwk.DETAIL_CNTRWK_ID /* 하자_보수_공사.세부_공사_ID */
				, tnflawcntrwk.DETAIL_CNTRWK_GROUP /* 하자_보수_공사.세부_공사_그룹 */
				, tnflawcntrwk.DETAIL_KND_NM /* 하자_보수_공사.세부_종류_명 */
				, tnflawcntrwk.CNTRWK_DE /* 하자_보수_공사.공사_일자 */
				, tnflawcntrwk.FLAW_CO_NO /* 하자_보수_공사.하자_업체_번호 */
				, tnflawcntrwk.FLAW_CO_NM /* 하자_보수_공사.하자_업체_명 */
				, tnflawcntrwk.FLAW_CHCK_DE /* 하자_보수_공사.하자_검사_일자 */
				, tnflawcntrwk.FLAW_AR /* 하자_보수_공사.하자_면적 */
				, tnflawcntrwk.FLAW_LEN /* 하자_보수_공사.하자_연장 */
				, tnflawcntrwk.FLAW_LC /* 하자_보수_공사.하자_위치 */
				, tnflawcntrwk.FLAW_CAUSE /* 하자_보수_공사.하자_원인 */
				, tnflawcntrwk.ROAD_NM /* 하자_보수_공사.도로_명 */
				, LTRIM(tnflawcntrwk.ROUTE_CODE,'0') AS ROUTE_CODE/* 하자_보수_공사.노선_코드 */
				, (SELECT ROAD_NAME FROM TN_ROUTE_INFO WHERE ROAD_NO = tnflawcntrwk.ROUTE_CODE )  ROUTE_NM/* 공사상세정보.노선_명 */
				, tnflawcntrwk.DIRECT_CODE /* 하자_보수_공사.행선_코드 */
				, DECODE(tnflawcntrwk.DIRECT_CODE,'S','상행','E','하행','SE','양방향') AS DIRECT_NM/* 행선명 */
				, tnflawcntrwk.TRACK /* 하자_보수_공사.차로 */
				, tnflawcntrwk.STRTPT /* 하자_보수_공사.시점 */
				, tnflawcntrwk.ENDPT /* 하자_보수_공사.종점 */
				, tnflawcntrwk.PAV_STLE_CODE /* 하자_보수_공사.포장_형태_코드 */
				, tnflawcntrwk.PAV_MSRC_ETC /* 하자_보수_공사.포장_공법_기타 */
				, tnflawcntrwk.RPAIR_THICK_DC /* 하자_보수_공사.보수_두께_설명 */
				, tnflawcntrwk.RPAIR_THICK /* 하자_보수_공사.보수_두께 */
				, REGEXP_REPLACE(REVERSE(REGEXP_REPLACE( REVERSE(TO_CHAR(ROUND(tnflawcntrwk.RPAIR_AR,2))), '([0-9]{3})','\1,')), '^,','') AS RPAIR_AR /* 하자_보수_공사.보수_면적 */
				, tnflawcntrwk.RPAIR_BT /* 하자_보수_공사.보수_폭 */
				, REGEXP_REPLACE(REVERSE(REGEXP_REPLACE( REVERSE(TO_CHAR(ROUND(tnflawcntrwk.RPAIR_LEN,0))), '([0-9]{3})','\1,')), '^,','') AS RPAIR_LEN /* 하자_보수_공사.보수_연장 */
				, tnflawcntrwk.RPAIR_LC /* 하자_보수_공사.보수_위치 */
				, tnflawcntrwk.RPAIR_DE /* 하자_보수_공사.보수_일자 */
				, tnflawcntrwk.RPAIR_MATRL_DETAIL_NM /* 하자_보수_공사.보수_재료_세부_명 */
				, tnflawcntrwk.RPAIR_THICK_BASE /* 하자_보수_공사.보수_두께_기층 */
				, tnflawcntrwk.RPAIR_THICK_CNTR /* 하자_보수_공사.보수_두께_중간층 */
				, tnflawcntrwk.RPAIR_THICK_ASCON /* 하자_보수_공사.보수_두께_표층 */
				, tnflawcntrwk.PAV_MATRL_ASCON_CODE /* 하자_보수_공사.포장_재료_표층_코드 */
				, (SELECT PAV_MATRL_NM FROM TC_PAV_MATRL tcpavmatrl WHERE tcpavmatrl.PAV_MATRL_CODE =  tnflawcntrwk.PAV_MATRL_ASCON_CODE) AS PAV_MATRL_ASCON_NM /* 포장_재료명_표층 */
				, tnflawcntrwk.PAV_MATRL_ASCON_ETC /* 하자_보수_공사.포장_재료_표층_기타 */
				, tnflawcntrwk.PAV_MATRL_BASE_CODE /* 하자_보수_공사.포장_재료_기층_코드 */
				, tnflawcntrwk.PAV_MATRL_BASE_ETC /* 하자_보수_공사.포장_재료_기층_기타 */
				, tnflawcntrwk.PAV_MATRL_CNTR_CODE /* 하자_보수_공사.포장_재료_중간층_코드 */
				, tnflawcntrwk.PAV_MATRL_CNTR_ETC /* 하자_보수_공사.포장_재료_중간층_기타 */
				, tnflawcntrwk.FILE_NO /* 하자_보수_공사.파일_번호 */
				, tnflawcntrwk.OPERT_BFE_PHOTO_NO /* 하자_보수_공사.작업_전_사진_번호 */
				, tnflawcntrwk.OPERT_AFT_PHOTO_NO /* 하자_보수_공사.작업_후_사진_번호 */
				, tnflawcntrwk.USE_AT /* 하자_보수_공사.사용_여부 */
				, tnflawcntrwk.DELETE_AT /* 하자_보수_공사.삭제_여부 */
				, tnflawcntrwk.CRTR_NO /* 하자_보수_공사.생성자_번호 */
				, tnflawcntrwk.CREAT_DT /* 하자_보수_공사.생성_일시 */
				, tnflawcntrwk.UPDUSR_NO /* 하자_보수_공사.수정자_번호 */
				, tnflawcntrwk.UPDT_DT /* 하자_보수_공사.수정_일시 */
				, tnflawcntrwk.RPAIR_MTHD_CODE /* 하자_보수_공사.보수_공법_코드  */
				, (SELECT tccode.CODE_NM 
					FROM TC_RPAIR_MTHD tcrpairmthd 
					LEFT OUTER JOIN TC_CODE tccode
					  ON tccode.CODE_VAL = tcrpairmthd.MSRC_CL_CODE
					 AND tccode.USE_AT = 'Y'
					 AND tccode.DELETE_AT = 'N' 
				   WHERE tcrpairmthd.RPAIR_MTHD_CODE = tnflawcntrwk.RPAIR_MTHD_CODE
				     AND tcrpairmthd.DELETE_AT = 'N') AS RPAIR_MTHD_NM /* 하자_보수_공사.보수_공법명 */
			FROM TN_FLAW_CNTRWK tnflawcntrwk
			 WHERE  tnflawcntrwk.USE_AT = 'Y'/* 하자_보수_공사.사용_여부 */
		        AND tnflawcntrwk.DELETE_AT = 'N'/* 하자_보수_공사.삭제_여부 */
]]>
<isNotEmpty property="CNTRWK_ID"><![CDATA[ /* 하자_보수_공사.공사_ID */ AND tnflawcntrwk.CNTRWK_ID = #CNTRWK_ID# ]]></isNotEmpty>
<![CDATA[
		ORDER BY 
				tnflawcntrwk.FLAW_CNTRWK_ID DESC /* 하자_보수_공사.하자_공사_ID */  
		) tb) tnflawcntrwk  WHERE 1=1
]]>		

	</select>
</sqlMap>
